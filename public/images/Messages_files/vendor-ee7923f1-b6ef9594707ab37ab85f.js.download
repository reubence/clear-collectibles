"use strict";(globalThis.webpackChunk_loomhq_web_client=globalThis.webpackChunk_loomhq_web_client||[]).push([[6185],{3522:(t,e,n)=>{n.d(e,{v:()=>eO});var r,i,o,a,s,c,u,d,l,f,p,v=n(47399),m=n(17226),g=n(56110),y=n(53702),h=n(90068),b=n(22672),T=n(34443),w=n(91169),S=n(74400),C=n(71087),k=n(53723),_=n(44614),x=n(75694),A=n(78511),E=n(77867),I=n(3528),R=n(77568),O=n(66115),P=n(64769),D=n(15953),L=n(77055),N=n(68761);function M(t){0!==t.status||t.isAborted||(t.traceId=void 0,t.spanId=void 0,t.traceSampled=void 0)}function U(t,e,n,r){if(void 0!==F()&&n.findTrackedSession()){var i,o,a,s,c,u=(0,I.sE)(t.allowedTracingUrls,function(t){return(0,D.v)([t.match],e.url,!0)});u&&(e.traceId=new z,e.spanId=new z,e.traceSampled=!(0,R.hj)(t.traceSampleRate)||(0,R.y7)(t.traceSampleRate),r((i=e.traceId,o=e.spanId,a=e.traceSampled,s=u.propagatorTypes,c={},s.forEach(function(t){switch(t){case"datadog":(0,I.f0)(c,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":a?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":(0,I.f0)(c,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(a?"1":"0")});break;case"b3":(0,I.f0)(c,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(a?"1":"0")});break;case"b3multi":(0,I.f0)(c,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":a?"1":"0"})}}),c)))}}function F(){return window.crypto||window.msCrypto}var z=function(){function t(){this.buffer=new Uint8Array(8),F().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){var e=this.readInt32(0),n=this.readInt32(4),r="";do{var i=e%t*4294967296+n;e=Math.floor(e/t),n=Math.floor(i/t),r=(i%t).toString(t)+r}while(e||n)return r},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}();function B(t,e,n){return{context:t.getContext(),user:e.getContext(),hasReplay:!!n.isRecording()||void 0}}var q=n(18191),j=n(89805),$=n(85321),V=n(54006),H=n(53778),J=n(64955),W=n(98092),Z="initial_document",G=[["document",function(t){return Z===t}],["xhr",function(t){return"xmlhttprequest"===t}],["fetch",function(t){return"fetch"===t}],["beacon",function(t){return"beacon"===t}],["css",function(t,e){return/\.css$/i.test(e)}],["js",function(t,e){return/\.js$/i.test(e)}],["image",function(t,e){return(0,I.q9)(["image","img","icon"],t)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)}],["font",function(t,e){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(e)}],["media",function(t,e){return(0,I.q9)(["audio","video"],t)||null!==/\.(mp3|mp4)$/i.exec(e)}]];function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function Q(t){if(Y(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!K(t))return t;var e=t.redirectStart,n=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),n<t.startTime&&(n=t.fetchStart),Y(t.startTime,e,n,t.fetchStart))return(0,I.f0)({},t,{redirectEnd:n,redirectStart:e})}}function K(t){return t.fetchStart!==t.startTime}function X(t,e,n){return{duration:(0,T.c0)((0,T._J)(e,n)),start:(0,T.c0)((0,T._J)(t,e))}}function tt(t,e){return e&&!t.isIntakeUrl(e)}var te=n(2642),tn=2*T.yR;function tr(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function ti(t){if(t&&t.nodeType===Node.COMMENT_NODE){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function to(){return void 0!==window.performance&&"getEntries"in performance}function ta(t){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)}function ts(){var t={},e=performance.timing;for(var n in e)if((0,R.hj)(e[n])){var r=e[n];t[n]=0===r?0:(0,T.ni)(r)}return t}function tc(t,e,n){var r=n.filter(function(t){return"resource"===t.entryType||"navigation"===t.entryType||"paint"===t.entryType||"longtask"===t.entryType||"largest-contentful-paint"===t.entryType||"first-input"===t.entryType||"layout-shift"===t.entryType}).filter(function(t){return!("navigation"===t.entryType&&t.loadEventEnd<=0)&&("resource"!==t.entryType||!!tt(e,t.name))});r.length&&t.notify(0,r)}var tu=n(86273);function td(){var t=window.visualViewport;return t?{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function tl(t,e,n){for(var r=t,i=e.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!tf(r))return;o!==i.length-1?r=r[a]:r[a]=n}}function tf(t){return"object"===(0,N.o)(t)}var tp={"view.url":"string","view.referrer":"string"},tv={context:"object"},tm=n(2218).l,tg=n(8855),ty=n(47573),th=tg.T,tb=n(1558),tT=n(46221),tw=n(84051),tS=n(55865),tC=1;function tk(){var t=tC;return tC+=1,t}function t_(t){var e=t.lifeCycle,n=t.isChildEvent,r=t.onChange,i=void 0===r?v.Z:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=e.subscribe(11,function(t){if("view"!==t.type&&n(t))switch(t.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,t.action.frustration&&(o.frustrationCount+=t.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":o.resourceCount+=1,i()}});return{stop:function(){a.unsubscribe()},eventCounts:o}}var tx=n(31494);function tA(t,e,n){var r,i=!1,o=(0,H.iK)((0,_.zk)(function(){return u({hadActivity:!1})}),100),a=void 0!==n?(0,H.iK)((0,_.zk)(function(){return u({hadActivity:!0,end:(0,T.n$)()})}),n):void 0,s=t.subscribe(function(t){var e=t.isBusy;(0,H.gr)(o),(0,H.gr)(r);var n=(0,T.n$)();e||(r=(0,H.iK)((0,_.zk)(function(){return u({hadActivity:!0,end:n})}),100))}),c=function(){i=!0,(0,H.gr)(o),(0,H.gr)(r),(0,H.gr)(a),s.unsubscribe()};function u(t){i||(c(),e(t))}return{stop:c}}function tE(t,e,n){var r=new m.y(function(){var i,o=[],a=0;o.push(e.subscribe(c),t.subscribe(0,function(t){t.some(function(t){return"resource"===t.entryType&&!tI(n,t.name)})&&c()}),t.subscribe(5,function(t){tI(n,t.url)||(void 0===i&&(i=t.requestIndex),a+=1,c())}),t.subscribe(6,function(t){tI(n,t.url)||void 0===i||t.requestIndex<i||(a-=1,c())}));var s=(0,tx.Lm)(window,"open",{before:c}).stop;return function(){s(),o.forEach(function(t){return t.unsubscribe()})};function c(){r.notify({isBusy:a>0})}});return r}function tI(t,e){return(0,D.v)(t.excludedActivityUrls,e)}var tR=T.WT,tO=n(35137),tP="data-dd-action-name";function tD(t,e){if(void 0===s&&(s="closest"in HTMLElement.prototype),s)n=t.closest("[".concat(e,"]"));else for(var n,r=t;r;){if(r.hasAttribute(e)){n=r;break}r=r.parentElement}if(n)return tF(tU(n.getAttribute(e).trim()))}var tL=[function(t,e){if(void 0===a&&(a="labels"in HTMLInputElement.prototype),a){if("labels"in t&&t.labels&&t.labels.length>0)return tz(t.labels[0],e)}else if(t.id){var n=t.ownerDocument&&(0,I.sE)(t.ownerDocument.querySelectorAll("label"),function(e){return e.htmlFor===t.id});return n&&tz(n,e)}},function(t){if("INPUT"===t.nodeName){var e=t.getAttribute("type");if("button"===e||"submit"===e||"reset"===e)return t.value}},function(t,e){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return tz(t,e)},function(t){return t.getAttribute("aria-label")},function(t,e){var n=t.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map(function(e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}).filter(function(t){return!!t}).map(function(t){return tz(t,e)}).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t,e){if("options"in t&&t.options.length>0)return tz(t.options[0],e)}],tN=[function(t,e){return tz(t,e)}];function tM(t,e,n){for(var r=t,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0;o<n.length;o++){var a=(0,n[o])(r,e);if("string"==typeof a){var s=a.trim();if(s)return tF(tU(s))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function tU(t){return t.replace(/\s+/g," ")}function tF(t){return t.length>100?"".concat((0,te._z)(t,100)," [...]"):t}function tz(t,e){if(!t.isContentEditable){if("innerText"in t){var n=t.innerText,r=function(e){for(var r=t.querySelectorAll(e),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(n=n.replace(a,""))}}};return(0,tO.w)()&&r("script, style"),r("[".concat(tP,"]")),e&&r("[".concat(e,"]")),n}return t.textContent}}var tB=[tP,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],tq=[tV,function(t){if(t.id&&!t$(t.id))return"#".concat((0,I.QA)(t.id))}],tj=[tV,function(t){if("BODY"!==t.tagName&&t.classList.length>0)for(var e=0;e<t.classList.length;e+=1){var n=t.classList[e];if(!t$(n))return"".concat(t.tagName,".").concat((0,I.QA)(n))}},function(t){return t.tagName}];function t$(t){return/[0-9]/.test(t)}function tV(t,e){if(e){var n=i(e);if(n)return n}for(var r=0;r<tB.length;r++){var n=i(tB[r]);if(n)return n}function i(e){if(t.hasAttribute(e))return"".concat(t.tagName,"[").concat(e,'="').concat((0,I.QA)(t.getAttribute(e)),'"]')}}function tH(t,e,n,r,i){for(var o=0;o<e.length;o++){var a=(0,e[o])(t,r);if(a){var s=tZ(a,i);if(n(t,s))return s}}}function tJ(t,e){return 1===t.ownerDocument.querySelectorAll(e).length}function tW(t,e){return 1===t.parentElement.querySelectorAll(!function(){if(void 0===c)try{document.querySelector(":scope"),c=!0}catch(t){c=!1}return c}()?e:tZ(":scope",e)).length}function tZ(t,e){return e?"".concat(t,">").concat(e):t}function tG(){var t=window.getSelection();return!t||t.isCollapsed}function tY(t){return t.target instanceof Element&&!1!==t.isPrimary}function tQ(t){return!t.hasPageActivity&&!t.getUserActivity().input&&!(0,I.Ap)(t.event.target,'input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}var tK=10*T.WT,tX=5*T.yR;function t0(t,e){var n=t1(t)?{action:{id:t.id,loading_time:(0,T.c0)(t.duration),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position}}}:void 0;return{customerContext:t1(t)?void 0:t.context,rawRumEvent:(0,w.$e)({action:{id:(0,te.DO)(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:"action",view:{in_foreground:e.isInActivePageStateAt(t.startClocks.relative)}},n),startTime:t.startClocks.relative,domainContext:t1(t)?{event:t.event,events:t.events}:{}}}function t1(t){return"custom"!==t.type}var t2=n(2589),t5=n(4644),t6=n(56715),t7=n(82607),t4=n(13700),t8=n(42889);function t3(t){return(0,T.WK)(t.startTime,t.duration)}function t9(t){var e,n,r;return{resource:(0,I.f0)({duration:(e=t.duration,n=t.startTime,r=t.responseEnd,0===e&&n<r?(0,T.c0)((0,T._J)(n,r)):(0,T.c0)(e)),size:function(t){if(t.startTime<t.responseStart)return t.decodedBodySize}(t)},function(t){var e=Q(t);if(e){var n=e.startTime,r=e.fetchStart,i=e.redirectStart,o=e.redirectEnd,a=e.domainLookupStart,s=e.domainLookupEnd,c=e.connectStart,u=e.secureConnectionStart,d=e.connectEnd,l=e.requestStart,f=e.responseStart,p={download:X(n,f,e.responseEnd),first_byte:X(n,l,f)};return d!==r&&(p.connect=X(n,c,d),Y(c,u,d)&&(p.ssl=X(n,u,d))),s!==r&&(p.dns=X(n,a,s)),K(t)&&(p.redirect=X(n,i,o)),p}}(t))}}function et(t){return(0,R.hj)(t.traceSampleRate)?t.traceSampleRate/100:void 0}function ee(t,e){var n=t.findTrackedSession(e.relative);return{_dd:{discarded:!n||!n.resourceAllowed}}}function en(t,e,n){if((0,t8.W_)(t8.uh.RESOURCE_PAGE_STATES))return{_dd:{page_states:t.findAll(e.relative,n),page_was_discarded:String(document.wasDiscarded)}}}function er(t){return void 0===t&&(t=window),u||("hidden"===document.visibilityState?u={timeStamp:0}:(u={timeStamp:1/0},d=(0,J.y)(t,["pagehide","visibilitychange"],function(t){("pagehide"===t.type||"hidden"===document.visibilityState)&&(u.timeStamp=t.timeStamp,d())},{capture:!0}).stop)),u}var ei=10*T.yR,eo=5*T.yR,ea=T.WT;function es(){var t,e=Math.round((t=window.visualViewport)?t.pageTop-t.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0),n=td().height;return{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(n+e),scrollTop:e}}var ec=5*T.yR,eu=5*T.yR;function ed(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var el=n(22085);function ef(t){return"2"===t||"1"===t}var ep=n(80222),ev=n(92667),em=n(69565),eg=tg.T,ey=n(49944),eh=n(50538),eb=n(5),eT=tg.T,ew=10*T.WT;function eS(){0!==l.batchCount&&((0,j.eJ)("Customer data measures",l),ex())}function eC(){return{min:1/0,max:0,sum:0}}function ek(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function e_(t,e){t.sum+=e.sum,t.min=Math.min(t.min,e.min),t.max=Math.max(t.max,e.max)}function ex(){l={batchCount:0,batchBytesCount:eC(),batchMessagesCount:eC(),globalContextBytes:eC(),userContextBytes:eC(),featureFlagBytes:eC()}}function eA(){p=!1,f={globalContextBytes:eC(),userContextBytes:eC(),featureFlagBytes:eC()}}var eE=tg.T;function eI(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}var eR=n(72768),eO=function(t,e,n){var r=(void 0===n?{}:n).ignoreInitIfSyntheticsWillInjectRum,i=void 0===r||r,o=!1,a=(0,h.W)("global context"),s=(0,h.W)("user"),c=function(){},u=function(){},d=v.Z,l=function(){},f=new b.S,p=function(t,e){void 0===e&&(e=(0,T.n$)()),f.add(function(){return p(t,e)})},m=function(t,e){void 0===e&&(e=(0,T.$I)()),f.add(function(){return m(t,e)})},y=function(t,n){void 0===n&&(n=B(a,s,e)),f.add(function(){return y(t,n)})},M=function(t,n){void 0===n&&(n=B(a,s,e)),f.add(function(){return M(t,n)})},U=function(t,e){f.add(function(){return U(t,e)})};function F(n,r,i){var o=t(n,r,e,a,s,i);l=function(){return e.getSessionReplayLink(r,o.session,o.viewContexts)},m=o.startView,y=o.addAction,M=o.addError,p=o.addTiming,U=o.addFeatureFlagEvaluation,c=o.getInternalContext,d=o.stopSession,f.drain(),e.onRumStart(o.lifeCycle,r,o.session,o.viewContexts)}var z=(0,_.zk)(function(t){m("object"==typeof t?t:{name:t})});return(0,g.r)({init:(0,_.zk)(function(t){if(u=function(){return(0,w.I8)(t)},!(i&&(0,S.Y9)())){var e,n,r=(0,C.x)();if(r&&(e=t,t=(0,I.f0)({},e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})),n=t,!o||(n.silentMultipleInit||k.jf.error("DD_RUM is already initialized."),0)){var a=function(t){if(!t.applicationId){k.jf.error("Application ID is not configured, no RUM data will be collected.");return}if(void 0!==t.sessionReplaySampleRate&&!(0,R.zz)(t.sessionReplaySampleRate)){k.jf.error("Session Replay Sample Rate should be a number between 0 and 100");return}var e,n,r,i,o,a,s=null!==(e=t.premiumSampleRate)&&void 0!==e?e:t.replaySampleRate;if(void 0!==s&&void 0!==t.sessionReplaySampleRate&&(k.jf.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),s=void 0),void 0!==s&&!(0,R.zz)(s)){k.jf.error("Premium Sample Rate should be a number between 0 and 100");return}var c=null!==(n=t.traceSampleRate)&&void 0!==n?n:t.tracingSampleRate;if(void 0!==c&&!(0,R.zz)(c)){k.jf.error("Trace Sample Rate should be a number between 0 and 100");return}if(void 0!==t.excludedActivityUrls&&!Array.isArray(t.excludedActivityUrls)){k.jf.error("Excluded Activity Urls should be an array");return}var u=function(t){if(void 0!==t.allowedTracingUrls&&void 0!==t.allowedTracingOrigins&&k.jf.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),void 0!==t.allowedTracingUrls){if(!Array.isArray(t.allowedTracingUrls)){k.jf.error("Allowed Tracing URLs should be an array");return}if(0!==t.allowedTracingUrls.length&&void 0===t.service){k.jf.error("Service needs to be configured when tracing is enabled");return}var e=[];return t.allowedTracingUrls.forEach(function(t){(0,D.o)(t)?e.push({match:t,propagatorTypes:["datadog"]}):"object"===(0,N.o)(t)&&(0,D.o)(t.match)&&Array.isArray(t.propagatorTypes)?e.push(t):k.jf.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",t)}),e}if(void 0!==t.allowedTracingOrigins){if(!Array.isArray(t.allowedTracingOrigins)){k.jf.error("Allowed Tracing Origins should be an array");return}if(0!==t.allowedTracingOrigins.length&&void 0===t.service){k.jf.error("Service needs to be configured when tracing is enabled");return}var n=[];return t.allowedTracingOrigins.forEach(function(t){var e=function(t){var e;if("string"==typeof t?e=t:t instanceof RegExp?e=function(e){return t.test((0,L.P$)(e))}:"function"==typeof t&&(e=function(e){return t((0,L.P$)(e))}),void 0===e){k.jf.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",t);return}return{match:e,propagatorTypes:["datadog"]}}(t);e&&n.push(e)}),n}return[]}(t);if(u){var d=(0,O.fP)(t);if(d){var l=!!(null!==(r=t.trackUserInteractions)&&void 0!==r?r:t.trackInteractions),f=!!t.trackFrustrations;return(0,I.f0)({applicationId:t.applicationId,version:t.version,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:null!==(o=null!==(i=t.sessionReplaySampleRate)&&void 0!==i?i:s)&&void 0!==o?o:100,oldPlansBehavior:void 0===t.sessionReplaySampleRate,traceSampleRate:c,allowedTracingUrls:u,excludedActivityUrls:null!==(a=t.excludedActivityUrls)&&void 0!==a?a:[],trackUserInteractions:l||f,trackFrustrations:f,trackViewsManually:!!t.trackViewsManually,trackResources:t.trackResources,trackLongTasks:t.trackLongTasks,subdomain:t.subdomain,defaultPrivacyLevel:(0,P.E5)(O.Jj,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:O.Jj.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},d)}}}(t);if(a){if(!r&&!a.sessionStoreStrategyType){k.jf.warn("No storage available for session. We will not send any data.");return}if(a.trackViewsManually){var s=f;f=new b.S,m=function(e){F(t,a,e)},s.drain()}else F(t,a);o=!0}}}}),addRumGlobalContext:(0,_.zk)(a.add),setGlobalContextProperty:(0,_.zk)(a.setContextProperty),removeRumGlobalContext:(0,_.zk)(a.remove),removeGlobalContextProperty:(0,_.zk)(a.removeContextProperty),getRumGlobalContext:(0,_.zk)(a.get),getGlobalContext:(0,_.zk)(a.getContext),setRumGlobalContext:(0,_.zk)(a.set),setGlobalContext:(0,_.zk)(a.setContext),clearGlobalContext:(0,_.zk)(a.clearContext),getInternalContext:(0,_.zk)(function(t){return c(t)}),getInitConfiguration:(0,_.zk)(function(){return u()}),addAction:(0,_.zk)(function(t,e){y({name:(0,x.N)(t),context:(0,x.N)(e),startClocks:(0,T.$I)(),type:"custom"})}),addError:function(t,e){var n=(0,A.Xp)();(0,_.L6)(function(){M({error:t,handlingStack:n,context:(0,x.N)(e),startClocks:(0,T.$I)()})})},addTiming:(0,_.zk)(function(t,e){p((0,x.N)(t),e)}),setUser:(0,_.zk)(function(t){(0,E.z)(t)&&s.setContext((0,E.I)(t))}),getUser:(0,_.zk)(s.getContext),setUserProperty:(0,_.zk)(function(t,e){var n,r=(0,E.I)(((n={})[t]=e,n))[t];s.setContextProperty(t,r)}),removeUserProperty:(0,_.zk)(s.removeContextProperty),removeUser:(0,_.zk)(s.clearContext),clearUser:(0,_.zk)(s.clearContext),startView:z,stopSession:(0,_.zk)(function(){d()}),startSessionReplayRecording:(0,_.zk)(e.start),stopSessionReplayRecording:(0,_.zk)(e.stop),addFeatureFlagEvaluation:(0,_.zk)(function(t,e){U((0,x.N)(t),(0,x.N)(e))}),getSessionReplayLink:(0,_.zk)(function(){return l()})})}(function(t,e,n,a,s,c){var u,d,g,y,h,b,E,F,z,Y,K,X,tg,tC,tI,tO,tU,tF,tz,tB,t$,tV,t1,eC,eR,eO,eP,eD,eL,eN,eM,eU=new tm;eU.subscribe(11,function(t){return(0,q.j)("rum",t)});var eF=function(t){var e=(0,j.VL)("browser-rum-sdk",t);if((0,C.x)()){var n=(0,C.A)();e.observable.subscribe(function(t){return n.send("internal_telemetry",t)})}return e}(e);eF.setContextProvider(function(){var t,n;return{application:{id:e.applicationId},session:{id:null===(t=ej.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(n=eJ.findView())||void 0===n?void 0:n.id},action:{id:eG.findActionId()}}});var ez=function(t){eU.notify(12,{error:t}),(0,j.eJ)("Error reported to customer",{"error.message":t.message})},eB=function(t,e){if(void 0===e&&(e=ey.qt),!(0,t8.W_)(t8.uh.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:v.Z,stop:v.Z};var n=new ty.P(eT),r=0,i=!1;t.subscribe(4,function(t){var e=t.endClocks;n.closeActive(e.relative)}),t.subscribe(2,function(t){var e=t.startClocks;n.add({},e.relative),r=0});var o=(0,v.P)(function(t){r=e((0,eh.l)(t)),i||(i=(0,eb.H)(r,"feature flag evaluation"))},200),a=o.throttled;return{findFeatureFlagEvaluations:function(t){return n.find(t)},getFeatureFlagBytesCount:function(){return n.find()?r:0},addFeatureFlagEvaluation:function(t,e){var r=n.find();r&&(r[t]=e,a(r))},stop:o.cancel}}(eU),eq=(0,$.Pd)();eq.subscribe(function(t){eU.notify(9,t)});var ej=(0,C.x)()?(d={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0},{findTrackedSession:function(){return d},expire:v.Z,expireObservable:new m.y}):((g=(0,el.HX)(e.sessionStoreStrategyType,"rum",function(t){var n;return{trackingType:n="0"===t||"1"===t||"2"===t?t:(0,R.y7)(e.sessionSampleRate)?(0,R.y7)(e.sessionReplaySampleRate)?"1":"2":"0",isTracked:ef(n)}})).expireObservable.subscribe(function(){eU.notify(7)}),g.renewObservable.subscribe(function(){eU.notify(8)}),{findTrackedSession:function(t){var n=g.findActiveSession(t);if(n&&ef(n.trackingType)){var r="1"===n.trackingType?2:1;return{id:n.id,plan:r,sessionReplayAllowed:2===r,longTaskAllowed:void 0!==e.trackLongTasks?e.trackLongTasks:e.oldPlansBehavior&&2===r,resourceAllowed:void 0!==e.trackResources?e.trackResources:e.oldPlansBehavior&&2===r}}},expire:g.expire,expireObservable:g.expireObservable});if((0,C.x)())!function(t){var e=(0,C.A)();t.subscribe(11,function(t){e.send("rum",t)})}(eU);else{u=(y=eF.observable,h=function(t,e,n,r){var i,o=u(t.rumEndpointBuilder),a=o.batch,s=o.flushController,c=t.replica;function u(i){var o=(0,ep.r)({messagesLimit:t.batchMessagesLimit,bytesLimit:t.batchBytesLimit,durationLimit:t.flushTimeout,pageExitObservable:n,sessionExpireObservable:r});return{batch:new ev.E((0,em.UF)(i,t.batchBytesLimit,e),o,t.messageBytesLimit),flushController:o}}function d(t){return(0,w.$e)(t,{application:{id:c.applicationId}})}return void 0!==c&&(i=u(c.rumEndpointBuilder).batch),{flushObservable:s.flushObservable,add:function(t,e){void 0===e&&(e=!0),a.add(t),i&&e&&i.add(d(t))},upsert:function(t,e){a.upsert(t,e),i&&i.upsert(d(t),e)}}}(e,ez,eq,ej.expireObservable),eU.subscribe(11,function(t){"view"===t.type?h.upsert(t,t.view.id):h.add(t)}),y.subscribe(function(t){return h.add(t,(0,j.VG)(e))}),h).flushObservable,eF.enabled&&(0,R.y7)(e.customerDataTelemetrySampleRate)&&(ex(),eA(),eU.subscribe(11,function(t){p=!0,ek(f.globalContextBytes,(0,P.Qr)(a.get())?0:a.getBytesCount()),ek(f.userContextBytes,(0,P.Qr)(s.get())?0:s.getBytesCount());var e=eB.findFeatureFlagEvaluations(),n=(0,I.q9)(["view","error"],t.type)&&e&&!(0,P.Qr)(e);ek(f.featureFlagBytes,n?eB.getFeatureFlagBytesCount():0)}),u.subscribe(function(t){var e=t.bytesCount,n=t.messagesCount;p&&(l.batchCount+=1,ek(l.batchBytesCount,e),ek(l.batchMessagesCount,n),e_(l.globalContextBytes,f.globalContextBytes),e_(l.userContextBytes,f.userContextBytes),e_(l.featureFlagBytes,f.featureFlagBytes),eA())}),(0,H.Zi)(eS,ew))}var e$=(t$=function(){var t,e=window;if(e.Zone&&(t=(0,V.I)(e,"MutationObserver"),e.MutationObserver&&t===e.MutationObserver)){var n=new e.MutationObserver(v.Z),r=(0,V.I)(n,"originalInstance");t=r&&r.constructor}return t||(t=e.MutationObserver),t}(),tV=new m.y(function(){if(t$){var t=new t$((0,_.zk)(function(){return tV.notify()}));return t.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}}})),eV=function(t){var e=(0,P.mv)(t),n=new m.y(function(){var t,e,n,i=(t=(0,tx.Lm)(history,"pushState",{after:r}).stop,e=(0,tx.Lm)(history,"replaceState",{after:r}).stop,n=(0,J.O)(window,"popstate",r).stop,{stop:function(){t(),e(),n()}}).stop,o=(0,J.O)(window,"hashchange",r).stop;return function(){i(),o()}});function r(){if(e.href!==t.href){var r=(0,P.mv)(t);n.notify({newLocation:r,oldLocation:e}),e=r}}return n}(location),eH=(b=eU,E=e,F=location,z=ej,Y=eV,K=e$,X=function(){return B(a,s,n)},tg=ez,tI=(tC=new ty.P(th),b.subscribe(2,function(t){tC.add({service:t.service,version:t.version,id:t.id,name:t.name,startClocks:t.startClocks},t.startClocks.relative)}),b.subscribe(4,function(t){var e=t.endClocks;tC.closeActive(e.relative)}),b.subscribe(8,function(){tC.reset()}),{findView:function(t){return tC.find(t)},stop:function(){tC.stop()}}),tO=function(t,e,n){var r,i=new ty.P(eg);t.subscribe(4,function(t){var e=t.endClocks;i.closeActive(e.relative)}),t.subscribe(2,function(t){var e=t.startClocks,o=n.href;i.add(a({url:o,referrer:r||document.referrer}),e.relative),r=o});var o=e.subscribe(function(t){var e=t.newLocation,n=i.find();if(n){var r=(0,T._q)();i.closeActive(r),i.add(a({url:e.href,referrer:n.referrer}),r)}});function a(t){return{url:t.url,referrer:t.referrer}}return{findUrl:function(t){return i.find(t)},stop:function(){o.unsubscribe(),i.stop()}}}(b,Y,F),tz=(tF=function(t,e,n,r){t.subscribe(1,function(e){return t.notify(10,t0(e,r))});var i={findActionId:v.Z};return n.trackUserInteractions&&(i=function(t,e,n){var r,i,o,a,s,c,u,d,l=new ty.P(tX),f=new m.y;t.subscribe(8,function(){l.reset()}),t.subscribe(4,g);var p=(a=(r={onPointerDown:function(r){return function(t,e,n,r,i){if(!(!t.trackFrustrations&&r.find())){var o,a,s,c,u=(o=i,a=t.actionNameAttribute,{type:"click",target:{width:Math.round((c=o.target.getBoundingClientRect()).width),height:Math.round(c.height),selector:function(t,e){for(var n="",r=t;r&&"HTML"!==r.nodeName;){var i=tH(r,tq,tJ,e,n);if(i)return i;n=tH(r,tj,tW,e,n)||tZ(function(t){for(var e=t.parentElement.firstElementChild,n=1;e&&e!==t;)e.tagName===t.tagName&&(n+=1),e=e.nextElementSibling;return"".concat(t.tagName,":nth-of-type(").concat(n,")")}(r),n),r=r.parentElement}return n}(o.target,a)},position:{x:Math.round(o.clientX-c.left),y:Math.round(o.clientY-c.top)},name:tD(s=o.target,tP)||a&&tD(s,a)||tM(s,a,tL)||tM(s,a,tN)||""});if(t.trackFrustrations||u.name){var d=!1;return tA(tE(e,n,t),function(t){d=t.hadActivity},100),{clickActionBase:u,hadActivityOnPointerDown:function(){return d}}}}}(n,t,e,l,r)},onPointerUp:function(r,i,o){var a,s,c,u,d,p,g,y,h,b,w,S,C,k;return a=n,s=t,c=e,u=l,d=f,p=v,g=r.clickActionBase,y=i,h=o,b=r.hadActivityOnPointerDown,w=function t(e,n,r,i,o){var a,s=(0,te.DO)(),c=(0,T.$I)(),u=n.add(s,c.relative),d=t_({lifeCycle:e,isChildEvent:function(t){return void 0!==t.action&&(Array.isArray(t.action.id)?(0,I.q9)(t.action.id,s):t.action.id===s)}}),l=0,f=[],p=new m.y;function v(t){0===l&&(l=1,(a=t)?u.close((0,T.ni)(a)):u.remove(),d.stop(),p.notify())}return{event:o,stop:v,stopObservable:p,get hasError(){return d.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:r,addFrustration:function(t){f.push(t)},startClocks:c,isStopped:function(){return 1===l||2===l},clone:function(){return t(e,n,r,i,o)},validate:function(t){if(v(),1===l){var n=d.eventCounts,r=n.resourceCount,u=n.errorCount,p=n.longTaskCount,m=(0,I.f0)({type:"click",duration:a&&(0,T._J)(c.timeStamp,a),startClocks:c,id:s,frustrationTypes:f,counts:{resourceCount:r,errorCount:u,longTaskCount:p},events:null!=t?t:[o],event:o},i);e.notify(1,m),l=2}},discard:function(){v(),l=2}}}(s,u,h,g,y),a.trackFrustrations&&p(w),S=tA(tE(s,c,a),function(t){t.hadActivity&&t.end<w.startClocks.timeStamp?w.discard():(t.hadActivity?w.stop(t.end):b()?w.stop(w.startClocks.timeStamp):w.stop(),a.trackFrustrations||(t.hadActivity?w.validate():w.discard()))},tK).stop,C=s.subscribe(4,function(t){var e=t.endClocks;w.stop(e.timeStamp)}),k=d.subscribe(function(){w.stop()}),void w.stopObservable.subscribe(function(){C.unsubscribe(),S(),k.unsubscribe()})}}).onPointerDown,s=r.onPointerUp,c={selection:!1,input:!1},u=[(0,J.O)(window,"pointerdown",function(t){tY(t)&&(i=tG(),c={selection:!1,input:!1},o=a(t))},{capture:!0}),(0,J.O)(window,"selectionchange",function(){i&&tG()||(c.selection=!0)},{capture:!0}),(0,J.O)(window,"pointerup",function(t){if(tY(t)&&o){var e=c;s(o,t,function(){return e}),o=void 0}},{capture:!0}),(0,J.O)(window,"input",function(){c.input=!0},{capture:!0})],{stop:function(){u.forEach(function(t){return t.stop()})}}).stop;return{stop:function(){g(),f.notify(),p()},actionContexts:{findActionId:function(t){return n.trackFrustrations?l.findAll(t):l.find(t)}}};function v(t){if(!d||!d.tryAppend(t)){var e=t.clone();d=function(t,e){var n,r=[],i=0;function o(t){t.stopObservable.subscribe(a),r.push(t),(0,H.gr)(n),n=(0,H.iK)(s,tR)}function a(){1===i&&r.every(function(t){return t.isStopped()})&&(i=2,e(r))}function s(){(0,H.gr)(n),0===i&&(i=1,a())}return o(t),{tryAppend:function(t){var e,n;return 0===i&&(!(r.length>0)||(e=r[r.length-1].event,n=t.event,e.target===n.target&&100>=Math.sqrt(Math.pow(e.clientX-n.clientX,2)+Math.pow(e.clientY-n.clientY,2))&&e.timeStamp-n.timeStamp<=tR)?(o(t),!0):(s(),!1))},stop:function(){s()}}}(t,function(t){(function(t,e){if(function(t){if(t.some(function(t){return t.getUserActivity().selection}))return!1;for(var e=0;e<t.length-2;e+=1)if(t[e+3-1].event.timeStamp-t[e].event.timeStamp<=T.WT)return!0;return!1}(t))return e.addFrustration("rage_click"),t.some(tQ)&&e.addFrustration("dead_click"),e.hasError&&e.addFrustration("error_click"),{isRage:!0};var n=t.some(function(t){return t.getUserActivity().selection});return t.forEach(function(t){t.hasError&&t.addFrustration("error_click"),tQ(t)&&!n&&t.addFrustration("dead_click")}),{isRage:!1}})(t,e).isRage?(t.forEach(function(t){return t.discard()}),e.stop((0,T.n$)()),e.validate(t.map(function(t){return t.event}))):(e.discard(),t.forEach(function(t){return t.validate()}))})}}function g(){d&&d.stop()}}(t,e,n).actionContexts),{addAction:function(e,n){t.notify(10,(0,I.f0)({savedCommonContext:n},t0(e,r)))},actionContexts:i}}(b,K,E,tU=function(t){void 0===t&&(t=500);var e,n=new ty.P(eE,4e3);i(eI(),(0,T._q)());var r=(0,J.y)(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(t){t.isTrusted&&i("freeze"===t.type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":eI(),t.timeStamp)},{capture:!0}).stop;function i(t,r){void 0===r&&(r=(0,T._q)()),t!==e&&(e=t,n.closeActive(r),n.add({state:e,startTime:r},r))}return{findAll:function(e,r){var i=n.findAll(e,r);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-t),s=i.length-1;s>=a;s--){var c=i[s],u=(0,T._J)(e,c.startTime);o.push({state:c.state,start:(0,T.c0)(u)})}return o}},isInActivePageStateAt:function(t){var e=n.find(t);return void 0!==e&&"active"===e.state},addPageState:i,stop:function(){r(),n.stop()}}}())).addAction,!function(t,e,n,a,s,c,u,d){(l={}).view=tp,l.error=(0,I.f0)({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},tv,tp),l.resource=(0,I.f0)({"resource.url":"string"},tv,tp),l.action=(0,I.f0)({"action.target.name":"string"},tv,tp),l.long_task=(0,I.f0)({},tv,tp),o=l;var l,f,p=((f={}).error=(0,tu.K)("error",t.eventRateLimiterThreshold,d),f.action=(0,tu.K)("action",t.eventRateLimiterThreshold,d),f),g=function(){var t=(0,S.L7)(),e=(0,S.QB)();if(t&&e)return{test_id:t,result_id:e,injected:(0,S.Y9)()}}(),y=function(){var t,e=null===(t=window.Cypress)||void 0===t?void 0:t.env("traceId");if("string"==typeof e)return{test_execution_id:e}}();e.subscribe(10,function(d){var l=d.startTime,f=d.rawRumEvent,h=d.domainContext,b=d.savedCommonContext,S=d.customerContext,_=a.findView(l),A=s.findUrl(l),E=n.findTrackedSession(l);if(E&&_&&A){var O,D=b||u(),L=c.findActionId(l),M={_dd:{format_version:2,drift:(0,T.QA)(),session:{plan:E.plan},configuration:{session_sample_rate:(0,R.NM)(t.sessionSampleRate,3),session_replay_sample_rate:(0,R.NM)(t.sessionReplaySampleRate,3)},browser_sdk_version:(0,C.x)()?"4.46.0":void 0},application:{id:t.applicationId},date:(0,T.n$)(),service:_.service||t.service,version:_.version||t.version,source:"browser",session:{id:E.id,type:g?"synthetics":y?"ci_test":"user"},view:{id:_.id,name:_.name,url:A.url,referrer:A.referrer},action:-1!==["error","resource","long_task"].indexOf(f.type)&&L?{id:L}:void 0,synthetics:g,ci_test:y,display:(i||(i=td(),(r||(r=O=new m.y(function(){var t=(0,v.P)(function(){O.notify(td())},200).throttled;return(0,J.O)(window,"resize",t,{capture:!0,passive:!0}).stop})),r).subscribe(function(t){i=t}).unsubscribe),{viewport:i})},U=(0,w.$e)(M,f);U.context=(0,w.$e)(D.context,S),"has_replay"in U.session||(U.session.has_replay=D.hasReplay),(0,P.Qr)(D.user)||(U.usr=D.user),function(t,e,n,r){if(e){var i,a,s,c,u=(i=o[t.type],s=e(a=(0,w.I8)(t),n),(0,I.qP)(i).forEach(function(e){var n=e[0],r=e[1],i=function(t,e){for(var n=t,r=0,i=e.split(".");r<i.length;r++){var o,a=i[r];if(!(tf(o=n)&&Object.prototype.hasOwnProperty.call(o,a)))return;n=n[a]}return n}(a,n),o=(0,N.o)(i);o===r?tl(t,n,(0,x.N)(i)):"object"===r&&("undefined"===o||"null"===o)&&tl(t,n,{})}),s);if(!1===u&&"view"!==t.type)return!1;!1===u&&k.jf.warn("Can't dismiss view events using beforeSend!")}return!(null===(c=r[t.type])||void 0===c?void 0:c.isLimitReached())}(U,t.beforeSend,h,p)&&((0,P.Qr)(U.context)&&delete U.context,e.notify(11,U))}})}(E,b,z,tI,tO,tB=tF.actionContexts,X,tg),{viewContexts:tI,pageStateHistory:tU,urlContexts:tO,addAction:tz,actionContexts:tB,stop:function(){tI.stop(),tU.stop()}}),eJ=eH.viewContexts,eW=eH.pageStateHistory,eZ=eH.urlContexts,eG=eH.actionContexts,eY=eH.addAction;(0,j.Uo)((eR=(0,O.JZ)(t),(0,I.f0)({premium_sample_rate:t.premiumSampleRate,replay_sample_rate:t.replaySampleRate,session_replay_sample_rate:t.sessionReplaySampleRate,trace_sample_rate:null!==(t1=t.traceSampleRate)&&void 0!==t1?t1:t.tracingSampleRate,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(t.allowedTracingOrigins)&&t.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0,selected_tracing_propagators:(eO=new Set,Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0&&t.allowedTracingUrls.forEach(function(t){(0,D.o)(t)?eO.add("datadog"):"object"===(0,N.o)(t)&&Array.isArray(t.propagatorTypes)&&t.propagatorTypes.forEach(function(t){return eO.add(t)})}),Array.isArray(t.allowedTracingOrigins)&&t.allowedTracingOrigins.length>0&&eO.add("datadog"),(0,I.Oc)(eO)),default_privacy_level:t.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(t.excludedActivityUrls)&&t.excludedActivityUrls.length>0,track_frustrations:t.trackFrustrations,track_views_manually:t.trackViewsManually,track_user_interactions:null!==(eC=t.trackUserInteractions)&&void 0!==eC?eC:t.trackInteractions},eR))),function(t,e){t.subscribe(0,function(n){for(var r=0;r<n.length;r++){var i=n[r];if("longtask"!==i.entryType)break;var o=e.findTrackedSession(i.startTime);if(!o||!o.longTaskAllowed)break;var a=(0,T.DY)(i.startTime),s={date:a.timeStamp,long_task:{id:(0,te.DO)(),duration:(0,T.c0)(i.duration)},type:"long_task",_dd:{discarded:!1}};t.notify(10,{rawRumEvent:s,startTime:a.relative,domainContext:{performanceEntry:i.toJSON()}})}})}(eU,ej),eU.subscribe(6,function(t){var n,r,i,o,a,s,c,u,d,l,f,p;eU.notify(10,(o="xhr"===t.type?"xhr":"fetch",s=(a=function(t){if(performance&&"getEntriesByName"in performance){var e=performance.getEntriesByName(t.url,"resource");if(e.length&&"toJSON"in e[0]){var n=e.map(function(t){return t.toJSON()}).filter(Q).filter(function(e){var n,r;return n=t.startClocks.relative,r=t3({startTime:t.startClocks.relative,duration:t.duration}),e.startTime>=n-1&&t3(e)<=(0,T.WK)(r,1)});if(1===n.length)return n[0]}}}(t))?(0,T.DY)(a.startTime):t.startClocks,c=a?t9(a):void 0,u=function(t,e){if(t.traceSampled&&t.traceId&&t.spanId)return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString(),rule_psr:et(e)}}}(t,e),d=ee(ej,s),n=t.duration,l=(0,t8.W_)(t8.uh.NO_RESOURCE_DURATION_FROZEN_STATE)&&(null===(r=eW.findAll(s.relative,n))||void 0===r?void 0:r.some(function(t){return"frozen"===t.state}))?void 0:(0,T.c0)(n),f=en(eW,s,null!==(i=null==a?void 0:a.duration)&&void 0!==i?i:t.duration),p=(0,w.$e)({date:s.timeStamp,resource:{id:(0,te.DO)(),type:o,duration:l,method:t.method,status_code:t.status,url:t.url},type:"resource"},u,c,d,f),{startTime:s.relative,rawRumEvent:p,domainContext:{performanceEntry:a&&a,xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error}}))}),eU.subscribe(0,function(t){for(var n=0;n<t.length;n++){var r=t[n];"resource"!==r.entryType||"xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType||eU.notify(10,function(t,e,n,r){var i=function(t){var e=t.name;if(!(0,L.jv)(e))return(0,j.eJ)('Failed to construct URL for "'.concat(t.name,'"')),"other";for(var n=(0,L.ye)(e),r=0;r<G.length;r++){var i=G[r],o=i[0];if((0,i[1])(t.initiatorType,n))return o}return"other"}(t),o=t9(t),a=(0,T.DY)(t.startTime),s=function(t,e){if(t.traceId)return{_dd:{trace_id:t.traceId,rule_psr:et(e)}}}(t,e),c=ee(n,a),u=en(r,a,t.duration),d=(0,w.$e)({date:a.timeStamp,resource:{id:(0,te.DO)(),type:i,url:t.name},type:"resource"},s,o,c,u);return{startTime:a.relative,rawRumEvent:d,domainContext:{performanceEntry:t}}}(r,e,ej,eW))}});var eQ=eF.enabled&&(0,R.y7)(e.customerDataTelemetrySampleRate)?{addWebVitalTelemetryDebug:function(t,e,r){var i,o=(0,T._q)();n.isRecording()||n.recorderStartObservable.subscribe(function(i){(0,j.eJ)("".concat(t," attribution recording delay"),{computationDelay:(0,T.c0)((0,T._J)(r,o)),recordingDelay:(0,T.c0)((0,T._J)(r,i)),hasNode:!!e,serializedDomNode:e?n.getSerializedNodeId(e):void 0})}),(0,j.eJ)("".concat(t," attribution"),{computationDelay:(0,T.c0)((0,T._J)(r,o)),hasNode:!!e,replayRecording:n.isRecording(),replaySampled:null===(i=ej.findTrackedSession())||void 0===i?void 0:i.sessionReplayAllowed,serializedDomNode:e?n.getSerializedNodeId(e):void 0})}}:{addWebVitalTelemetryDebug:v.Z},eK=(eP=location,eU.subscribe(3,function(t){var r,i,o,a,s,c;return eU.notify(10,(i=n.getReplayStats(t.id),o=eB.findFeatureFlagEvaluations(t.startClocks.relative),a=(0,t8.W_)(t8.uh.PAGE_STATES),s=eW.findAll(t.startClocks.relative,t.duration),c={_dd:{document_version:t.documentVersion,replay_stats:i,page_states:a?s:void 0},date:t.startClocks.timeStamp,type:"view",view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:t.cumulativeLayoutShift,first_byte:(0,T.c0)(t.timings.firstByte),dom_complete:(0,T.c0)(t.timings.domComplete),dom_content_loaded:(0,T.c0)(t.timings.domContentLoaded),dom_interactive:(0,T.c0)(t.timings.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:(0,T.c0)(t.timings.firstContentfulPaint),first_input_delay:(0,T.c0)(t.timings.firstInputDelay),first_input_time:(0,T.c0)(t.timings.firstInputTime),is_active:t.isActive,name:t.name,largest_contentful_paint:(0,T.c0)(t.timings.largestContentfulPaint),load_event:(0,T.c0)(t.timings.loadEvent),loading_time:(r=(0,T.c0)(t.loadingTime),(0,R.hj)(r)&&r<0?void 0:r),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:(0,T.c0)(t.duration),in_foreground_periods:!a&&s?function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=t[r+1];if("active"===i.state){var a=i.start>=0?i.start:0,s=o?o.start:(0,T.c0)(e);n.push({start:a,duration:s-a})}}return n}(s,t.duration):void 0},feature_flags:o&&!(0,P.Qr)(o)?o:void 0,display:t.scrollMetrics?{scroll:{max_depth:t.scrollMetrics.maxDepth,max_depth_scroll_height:t.scrollMetrics.maxDepthScrollHeight,max_depth_scroll_top:t.scrollMetrics.maxDepthScrollTop,max_depth_time:(0,T.c0)(t.scrollMetrics.maxDepthTime)}}:void 0,session:{has_replay:!!i||void 0,is_active:!!t.sessionIsActive&&void 0},privacy:{replay_level:e.defaultPrivacyLevel}},(0,P.Qr)(t.customTimings)||(c.view.custom_timings=(0,P.Q8)(t.customTimings,T.c0)),{rawRumEvent:c,startTime:t.startClocks.relative,domainContext:{location:t.location}}))}),function(t,e,n,r,i,o,a,s){var c,u=d("initial_load",(0,T.cQ)(),s);function d(i,o,s){return function(t,e,n,r,i,o,a,s){void 0===a&&(a=(0,T.$I)());var c,u,d,l,f,p,m,g,y,h,b,w,S,C,_,x,A,E,O,D,L,N,M,U,F=(0,te.DO)(),z={},B=0,q=(0,P.mv)(r),j=!0;s&&(N=s.name,M=s.service,U=s.version),t.notify(2,{id:F,name:N,startClocks:a,service:M,version:U});var $=(0,v.P)(tc,3e3,{leading:!1}),V=$.throttled,W=$.cancel,Z=(S={},_=(C=function(t,e,n,r,i,o){var a="initial_load"===r,s=!0,c=[];function u(){s||a||!(c.length>0)||o(Math.max.apply(Math,c))}return{stop:tA(tE(t,e,n),function(t){s&&(s=!1,t.hadActivity&&c.push((0,T._J)(i.timeStamp,t.end)),u())},void 0).stop,setLoadEvent:function(t){a&&(a=!1,c.push(t),u())}}}(t,e,n,i,h=a,function(t){if(S.loadingTime=t,(0,t8.W_)(t8.uh.SCROLLMAP)){var e=es(),n=e.scrollHeight;b={maxDepth:e.scrollDepth,maxDepthScrollHeight:n,maxDepthTime:t,maxDepthScrollTop:e.scrollTop}}V()})).stop,x=C.setLoadEvent,A=function(t,e,n){if(void 0===n&&(n=es),!(0,t8.W_)(t8.uh.SCROLLMAP))return{stop:v.Z};var r=0,i=(0,v.P)(function(){var i=n(),o=i.scrollHeight,a=i.scrollDepth,s=i.scrollTop;if(a>r){var c=(0,T._q)(),u=(0,T._J)(t.relative,c);e({maxDepth:r=a,maxDepthScrollHeight:o,maxDepthTime:u,maxDepthScrollTop:s})}},ea,{leading:!1,trailing:!0}),o=(0,J.O)(window,"scroll",i.throttled,{passive:!0}).stop;return{stop:function(){i.cancel(),o()}}}(h,function(t){b=t},es).stop,E=!1,ta("layout-shift")?(S.cumulativeLayoutShift=0,w=(c=function(t,e,n){S.cumulativeLayoutShift=t,E||(E=!0,o.addWebVitalTelemetryDebug("CLS",e,n)),V()},g=0,p=0,m=0,y={update:function(t){var e;void 0===u||t.startTime-d>=T.WT||t.startTime-u>=5*T.WT?(u=d=t.startTime,p=t.value,m=0,l=void 0):(p+=t.value,d=t.startTime),t.value>m&&(m=t.value,f=t.startTime,l=(null===(e=t.sources)||void 0===e?void 0:e.length)?((0,I.sE)(t.sources,function(t){var e;return(null===(e=t.node)||void 0===e?void 0:e.nodeType)===1})||t.sources[0]).node:void 0)},value:function(){return p},largestLayoutShiftNode:function(){return l},largestLayoutShiftTime:function(){return f}},{stop:t.subscribe(0,function(t){for(var e=0;e<t.length;e++){var n=t[e];"layout-shift"===n.entryType&&!n.hadRecentInput&&(y.update(n),y.value()>g&&(g=y.value(),c((0,R.NM)(g,4),y.largestLayoutShiftNode(),y.largestLayoutShiftTime())))}}).unsubscribe}).stop):w=v.Z,{stop:function(){_(),w(),A()},setLoadEvent:x,viewMetrics:S,getScrollMetrics:function(){return b}}),G=Z.setLoadEvent,Y=Z.stop,Q=Z.viewMetrics,K=Z.getScrollMetrics,X="initial_load"===i?function(t,e,n,r){var i,o,a,s,c,u,d,l,f,p,v={};function m(t){(0,I.f0)(v,t),r()}var g=(i=function(t){n(t.loadEvent),m(t)},{stop:t.subscribe(0,function(t){for(var e=0;e<t.length;e++){var n=t[e];"navigation"===n.entryType&&i({domComplete:n.domComplete,domContentLoaded:n.domContentLoadedEventEnd,domInteractive:n.domInteractive,loadEvent:n.loadEventEnd,firstByte:n.responseStart>=0&&n.responseStart<=(0,T._q)()?n.responseStart:void 0})}}).unsubscribe}).stop,y=(o=er(),{stop:t.subscribe(0,function(t){var e=(0,I.sE)(t,function(t){return"paint"===t.entryType&&"first-contentful-paint"===t.name&&t.startTime<o.timeStamp&&t.startTime<ei});e&&m({firstContentfulPaint:e.startTime})}).unsubscribe}).stop,h=(a=window,s=function(t,n){e.addWebVitalTelemetryDebug("LCP",n,t),m({largestContentfulPaint:t})},c=er(),u=1/0,d=(0,J.y)(a,["pointerdown","keydown"],function(t){u=t.timeStamp},{capture:!0,once:!0}).stop,l=t.subscribe(0,function(t){var e=(0,I.dF)(t,function(t){return"largest-contentful-paint"===t.entryType&&t.startTime<u&&t.startTime<c.timeStamp&&t.startTime<ei});e&&s(e.startTime,e.element)}).unsubscribe,{stop:function(){d(),l()}}).stop,b=(f=function(t){var n=t.firstInputDelay,r=t.firstInputTime,i=t.firstInputTarget;e.addWebVitalTelemetryDebug("FID",i,r),m({firstInputDelay:n,firstInputTime:r})},p=er(),{stop:t.subscribe(0,function(t){var e=(0,I.sE)(t,function(t){return"first-input"===t.entryType&&t.startTime<p.timeStamp});if(e){var n=(0,T._J)(e.startTime,e.processingStart);f({firstInputDelay:n>=0?n:0,firstInputTime:e.startTime,firstInputTarget:e.target})}}).unsubscribe}).stop;function w(){g(),y(),h(),b()}return{stop:w,timings:v,scheduleStop:function(){(0,H.iK)(w,eo)}}}(t,o,G,V):{scheduleStop:v.Z,timings:{}},tt=X.scheduleStop,tn=X.timings,tr=(D=(O=t_({lifeCycle:t,isChildEvent:function(t){return t.view.id===F},onChange:V})).stop,{scheduleStop:function(){(0,H.iK)(D,ec)},eventCounts:O.eventCounts}),ti=tr.scheduleStop,to=tr.eventCounts,ts=(0,H.Zi)(tc,eu);function tc(){W(),B+=1;var e=void 0===L?(0,T.n$)():L.timeStamp;t.notify(3,(0,I.f0)({customTimings:z,documentVersion:B,id:F,name:N,service:M,version:U,loadingType:i,location:q,startClocks:a,timings:tn,duration:(0,T._J)(a.timeStamp,e),isActive:void 0===L,sessionIsActive:j,eventCounts:to,scrollMetrics:K()},Q))}return tc(),{name:N,service:M,version:U,end:function(e){var n,r;void 0===e&&(e={}),L||(L=null!==(n=e.endClocks)&&void 0!==n?n:(0,T.$I)(),j=null===(r=e.sessionIsActive)||void 0===r||r,t.notify(4,{endClocks:L}),(0,H.cv)(ts),Y(),tt(),ti(),tc())},addTiming:function(t,e){if(!L){var n,r=(0,T.Cn)(e)?e:(0,T._J)(a.timeStamp,e);z[(n=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==t&&k.jf.warn("Invalid timing name: ".concat(t,", sanitized to: ").concat(n)),n]=r,V()}}}}(e,n,r,t,i,a,o,s)}return e.subscribe(8,function(){u=d("route_change",void 0,{name:u.name,service:u.service,version:u.version})}),e.subscribe(7,function(){u.end({sessionIsActive:!1})}),e.subscribe(9,function(t){(t.reason===$.k$.UNLOADING||t.reason===$.k$.PAGEHIDE)&&u.end()}),o&&(c=i.subscribe(function(t){var e,n,r;e=t.oldLocation,n=t.newLocation,e.pathname===n.pathname&&(r=n.hash.substr(1),document.getElementById(r)||ed(n.hash)===ed(e.hash))||(u.end(),u=d("route_change"))})),{addTiming:function(t,e){void 0===e&&(e=(0,T.n$)()),u.addTiming(t,e)},startView:function(t,e){u.end({endClocks:e}),u=d("route_change",e,t)},stop:function(){null==c||c.unsubscribe(),u.end()}}}(eP,eU,e$,e,eV,!e.trackViewsManually,eQ,c)),eX=eK.addTiming,e0=eK.startView,e1=(eL=eD=new m.y,(0,t7.a)([k.vA.error]).subscribe(function(t){return eL.notify({startClocks:(0,T.$I)(),message:t.message,stack:t.stack,fingerprint:t.fingerprint,source:t6.z.CONSOLE,handling:"handled",handlingStack:t.handlingStack})}),(0,t2.L)(eD),(0,t4.v)([t4._.cspViolation,t4._.intervention]).subscribe(function(t){return eD.notify({startClocks:(0,T.$I)(),message:t.message,stack:t.stack,type:t.subtype,source:t6.z.REPORT,handling:"unhandled"})}),eD.subscribe(function(t){return eU.notify(12,{error:t})}),eU.subscribe(12,function(t){var e,n,r=t.error,i=t.customerContext,o=t.savedCommonContext;eU.notify(10,(0,I.f0)({customerContext:i,savedCommonContext:o},(e={date:r.startClocks.timeStamp,error:{id:(0,te.DO)(),message:r.message,source:r.source,stack:r.stack,handling_stack:r.handlingStack,type:r.type,handling:r.handling,causes:r.causes,source_type:"browser",fingerprint:r.fingerprint},type:"error",view:{in_foreground:eW.isInActivePageStateAt(r.startClocks.relative)}},(n=eB.findFeatureFlagEvaluations(r.startClocks.relative))&&!(0,P.Qr)(n)&&(e.feature_flags=n),{rawRumEvent:e,startTime:r.startClocks.relative,domainContext:{error:r.originalError}})))}),{addError:function(t,e){var n=t.error,r=t.handlingStack,i=t.startClocks,o=t.context,a=n instanceof Error?(0,t5._)(n):void 0,s=(0,A.AP)({stackTrace:a,originalError:n,handlingStack:r,startClocks:i,nonErrorPrefix:"Provided",source:t6.z.CUSTOM,handling:"handled"});eU.notify(12,{customerContext:o,savedCommonContext:e,error:s})}}).addError;eN={clearTracingIfNeeded:M,traceFetch:function(t){return U(e,t,ej,function(e){var n;if(t.input instanceof Request&&!(null===(n=t.init)||void 0===n?void 0:n.headers))t.input=new Request(t.input),Object.keys(e).forEach(function(n){t.input.headers.append(n,e[n])});else{t.init=(0,P.mv)(t.init);var r=[];t.init.headers instanceof Headers?t.init.headers.forEach(function(t,e){r.push([e,t])}):Array.isArray(t.init.headers)?t.init.headers.forEach(function(t){r.push(t)}):t.init.headers&&Object.keys(t.init.headers).forEach(function(e){r.push([e,t.init.headers[e]])}),t.init.headers=r.concat((0,I.qP)(e))}})},traceXhr:function(t,n){return U(e,t,ej,function(t){Object.keys(t).forEach(function(e){n.setRequestHeader(e,t[e])})})}},(0,tb.S)().subscribe(function(t){if(tt(e,t.url))switch(t.state){case"start":eN.traceXhr(t,t.xhr),t.requestIndex=tk(),eU.notify(5,{requestIndex:t.requestIndex,url:t.url});break;case"complete":eN.clearTracingIfNeeded(t),eU.notify(6,{duration:t.duration,method:t.method,requestIndex:t.requestIndex,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"xhr",url:t.url,xhr:t.xhr})}}),(0,tT.y)().subscribe(function(t){if(tt(e,t.url))switch(t.state){case"start":eN.traceFetch(t),t.requestIndex=tk(),eU.notify(5,{requestIndex:t.requestIndex,url:t.url});break;case"resolve":var n,r;n=function(e){eN.clearTracingIfNeeded(t),eU.notify(6,{duration:e,method:t.method,requestIndex:t.requestIndex,responseType:t.responseType,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"fetch",url:t.url,response:t.response,init:t.init,input:t.input})},(r=t.response&&(0,tw.u)(t.response))&&r.body?(0,tS.n)(r.body,function(){n((0,T._J)(t.startClocks.timeStamp,(0,T.n$)()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):n((0,T._J)(t.startClocks.timeStamp,(0,T.n$)()))}}),function(t,e){var n;if(n=function(n){tc(t,e,[n])},(0,W.T)("interactive",function(){var t,e={entryType:"resource",initiatorType:Z,traceId:function(t){var e,n,r=(e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]"),tr(e&&e.content,n&&n.content)||function(t){var e=function(t){for(var e=0;e<t.childNodes.length;e+=1){var n=ti(t.childNodes[e]);if(n)return n}if(t.body)for(var e=t.body.childNodes.length-1;e>=0;e-=1){var r=t.body.childNodes[e],n=ti(r);if(n)return n;if(r.nodeType!==Node.TEXT_NODE)break}}(t);if(e)return tr((0,te.MY)(e,"trace-id"),(0,te.MY)(e,"trace-time"))}(t));if(!(!r||r.traceTime<=(0,T.m6)()-tn))return r.traceId}(document)};if(ta("navigation")&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];t=(0,I.f0)(r.toJSON(),e)}else{var i=ts();t=(0,I.f0)(i,{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0},e)}n(t)}),to()){var r=performance.getEntries();(0,H.iK)(function(){return tc(t,e,r)})}if(window.PerformanceObserver){var i=(0,_.zk)(function(n){return tc(t,e,n.getEntries())}),o=["resource","navigation","longtask","paint"],a=["largest-contentful-paint","first-input","layout-shift"];try{a.forEach(function(t){new PerformanceObserver(i).observe({type:t,buffered:!0})})}catch(t){o.push.apply(o,a)}new PerformanceObserver(i).observe({entryTypes:o}),to()&&"addEventListener"in performance&&(0,J.O)(performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})}ta("navigation")||function(t){function e(){t((0,I.f0)(ts(),{entryType:"navigation"}))}(0,W.T)("complete",function(){(0,H.iK)(e)})}(function(n){tc(t,e,[n])}),ta("first-input")||function(t){var e=(0,T.m6)(),n=!1,r=(0,J.y)(window,["click","mousedown","keydown","touchstart","pointerdown"],function(t){if(t.cancelable){var e={entryType:"first-input",processingStart:(0,T._q)(),startTime:t.timeStamp};"pointerdown"===t.type?(0,J.y)(window,["pointerup","pointercancel"],function(t){"pointerup"===t.type&&i(e)},{once:!0}):i(e)}},{passive:!0,capture:!0}).stop;function i(i){if(!n){n=!0,r();var o=i.processingStart-i.startTime;o>=0&&o<(0,T.m6)()-e&&t(i)}}}(function(n){tc(t,e,[n])})}(eU,e);var e2=(eM=e.applicationId,{get:function(t){var e=eJ.findView(t),n=eZ.findUrl(t),r=ej.findTrackedSession(t);if(r&&e&&n){var i=eG.findActionId(t);return{application_id:eM,session_id:r.id,user_action:i?{id:i}:void 0,view:{id:e.id,name:e.name,referrer:n.referrer,url:n.url}}}}});return{addAction:eY,addError:e1,addTiming:eX,addFeatureFlagEvaluation:eB.addFeatureFlagEvaluation,startView:e0,lifeCycle:eU,viewContexts:eJ,session:ej,stopSession:function(){return ej.expire()},getInternalContext:e2.get}},{start:v.Z,stop:v.Z,onRumStart:v.Z,isRecording:function(){return!1},getReplayStats:function(){},getSessionReplayLink:function(t){var e,n,r,i,o,a,s,c,u,d;return n=(e={errorType:"slim-package"}).session,r=e.viewContext,i=e.errorType,o=n?n.id:"no-session-id",a=[],void 0!==i&&a.push("error-type=".concat(i)),r&&(a.push("seed=".concat(r.id)),a.push("from=".concat(r.startClocks.timeStamp))),u=t.site,d=t.subdomain||function(t){switch(t.site){case eR.D_:case eR.Ds:return"app";case eR.DZ:return"dd";default:return}}(t),s="https://".concat(d?"".concat(d,"."):"").concat(u),c="/rum/replay/sessions/".concat(o),"".concat(s).concat(c,"?").concat(a.join("&"))},getSerializedNodeId:function(){},recorderStartObservable:new m.y});(0,g.y)((0,y.R)(),"DD_RUM",eO)}}]);