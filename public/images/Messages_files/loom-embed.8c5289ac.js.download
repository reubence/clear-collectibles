(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{2193:function(e,t,r){"use strict";r.r(t),r.d(t,"gifEmbed",(function(){return k})),r.d(t,"linkReplace",(function(){return z})),r.d(t,"oembed",(function(){return R})),r.d(t,"textReplace",(function(){return C})),r.d(t,"validate",(function(){return U}));var o=Object.defineProperty,n=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(a,b)=>{for(var e in b||(b={}))m.call(b,e)&&d(a,e,b[e]);if(c)for(var e of c(b))h.call(b,e)&&d(a,e,b[e]);return a},f=(a,b)=>n(a,l(b)),$="(?:https?://)?((?:stage.loom.com|loom.com|www.loom.com|loomlocal.com:4444)/share/[a-f0-9]+)",y=new RegExp(`^${$}$`),v=new RegExp(`${$}`,"g"),O=/(www\.loom\.com|loom\.com|stage\.loom\.com|loomlocal\.com:4444)/i,E="lo-link-replaced",j=e=>y.test(e),x=e=>j(e),U={isLoomUrl:j},P=/src=["']+(https?:\/\/[a-zA-z\d:\.\/?&]+)/,R=(e,t={})=>{if(x(e))return fetch(((e,t)=>{const{width:r,height:o,gifThumbnail:n,hideOwner:l}=t,c=r?`&maxwidth=${r}`:"",m=o?`&maxheight=${o}`:"",h=n?`&gif=${n}`:"",d=l?`&hide_owner=${l}`:"",[w]=e.match(O);let f=w;return"loom.com"===w&&(f=`www.${w}`),`https://${f}/v1/oembed?url=${e}${c}${m}${h}${d}`})(e,t)).then((e=>e.json())).then((e=>((e,t)=>{const{width:r,height:o}=t;if(!r&&!o){const[,t]=e.html.match(P),r=(data=>{const{width:e,height:t}=data;return null==e||null==t?.5625:t/e})(e);return f(w({},e),{html:(n=t,l=r,`\n<div class="lo-emb-vid" style="position: relative; padding-bottom: ${100*l+"%"}; height: 0;">\n  <iframe src="${n}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div>`.split("\n").map((s=>s.trim())).join(""))})}var n,l;return e})(e,t))).catch((e=>{throw new Error("Unable to fetch oembed data:"+e)}));throw new Error("URL is not from a supported video provider")},k=async e=>`<a href="${e}">\n    <img style="max-width:300px;" src="${(await R(e,{gifThumbnail:!0})).thumbnail_url}">\n  </a>`,N=(e,t)=>{const r=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstChild})(t);r&&e.parentNode&&e.parentNode.insertBefore(r,e)},z=(e="a",t={},r=document)=>{[...Array.from(r.querySelectorAll(e))].filter((e=>{return!(t=e).className.includes(E)&&x(t.href);var t})).forEach((async e=>{const{html:html}=await R(e.href,t);return N(e,html),e.className=`${e.className} ${E}`,!0}))},A=e=>{const[,t]=e.match(y);return{originalUrl:e,requestUrl:`https://${t}`}},C=async(e,t={})=>{const r=e||"",o=r.match(v);if(!o)return r;const n=o.map(A).map((async e=>{const{html:html}=await R(e.requestUrl,t);return f(w({},e),{embedCode:html})}));return(await Promise.all(n)).reduce(((e,t)=>{const{originalUrl:r,embedCode:o}=t,n=new RegExp(r,"g");return e.replace(n,o)}),r)}}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/loom-embed.8c5289ac.js.map