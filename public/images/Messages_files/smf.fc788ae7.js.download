(window.webpackJsonp=window.webpackJsonp||[]).push([[347,0,114],{157:function(e,t,r){"use strict";r.r(t);var n=r(194),l={injectStyles:[r.n(n).a],name:"UpCIcon",props:{icon:{default:null,type:[Object,Function]},size:{default:"md",type:String,validator:e=>["sm","md","lg","xl"].includes(e)}},computed:{_icon(){if(this.icon instanceof Function){const e=this.icon();if(e instanceof Promise)return()=>e;console.error('Invalid prop: check failed for prop "icon". If "icon" is a function, it must return a Promise. Instead it returns:',e)}return this.icon}}},o=r(4),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"air3-icon "+e.size},[r(e._icon,{tag:"component"})],1)}),[],!1,null,null,null);t.default=component.exports},1772:function(e,t,r){var content=r(1773);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("6af9fb58",content,!0,{sourceMap:!1,manualInject:!0})},1773:function(e,t,r){var n=r(6)(!1);n.push([e.i,".air3-smf-container .air3-alert-inline{margin-bottom:var(--ws-md)}",""]),e.exports=n},194:function(e,t,r){var content=r(196);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("e9a450be",content,!0,{sourceMap:!1,manualInject:!0})},196:function(e,t,r){var n=r(6)(!1);n.push([e.i,".air3-icon{--icon-color-bg:var(--bg-inverse);--icon-color:currentColor;--icon-size:24px}@media (forced-colors:active){.air3-icon{--icon-color-bg:var(--hc-bg-base);fill:currentColor}.air3-icon.is-disabled{--icon-color:var(--hc-disabled)}}.air3-icon{display:inline-flex;width:var(--icon-size);height:var(--icon-size);color:currentColor}.air3-icon>svg{-o-object-fit:contain;object-fit:contain;width:100%!important;height:100%!important;display:block}.air3-icon.sm{--icon-size:16px}.air3-icon.lg{--icon-size:32px}.air3-icon.xl{--icon-size:48px}",""]),e.exports=n},205:function(e,t,r){"use strict";r.r(t);var n={},l=r(4),component=Object(l.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[t("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M4 4l16 16m0-16L4 20"}})])}),[],!1,null,null,null);t.default=component.exports},2223:function(e,t,r){"use strict";r.r(t);var n=r(282),l=r(1772),o=r.n(l),c=r(0);const d={info:["GettingStarted","Promotional","Notification"],warning:["Warning"],danger:["ActionRequired","AccountHold"]};var v=(e,t)=>"very_top"===t?"notification":-1!==Object.keys(d).indexOf(e)?e:Object.keys(d).reduce(((t,r)=>d[r].includes(e)?r:t),"info");function h(e,t,label,r){e&&"undefined"!=typeof window&&e.track({trackers:["snowplow","olog"],sublocation:"smf",event:t,label:label,data:{template_uid:r}})}class m{catchError(e){return e.response?Promise.reject(e.response.statusText):Promise.reject(e)}constructor(e){this.api=e}}class f extends m{retrieveGQL(e){let{location:t,url:r,visitorId:n,isStrictOrder:l}=e,o='displayLocation:"'.concat(t,'", url:"').concat(r,'"');return l&&(o+=", strictOrder:true"),n?"{\n      visitor {\n        siteMessage(".concat(o,', visitorId:"').concat(n,'") {\n          title\n          templateUid: templateId\n          content\n          dismissible\n          displayLocation\n          severity\n        }\n      }\n    }'):"{\n      siteMessage(".concat(o,") {\n        title\n        templateUid: templateId\n        content\n        dismissible\n        displayLocation\n        severity\n      }\n    }")}dismissGQL(e){let{templateUid:t,visitorId:r}=e;return r?'mutation {\n      siteMessageDismissedVisitor(templateId:"'.concat(t,'", visitorId:"').concat(r,'")\n    }'):'mutation {\n      siteMessageDismissed(templateId:"'.concat(t,'")\n    }')}displayGQL(e){let{templateUid:t,visitorId:r}=e;return r?'mutation {\n      siteMessageDisplayedVisitor(templateId:"'.concat(t,'", visitorId:"').concat(r,'")\n    }'):'mutation {\n      siteMessageDisplayed(templateId:"'.concat(t,'")\n    }')}retrieve(e){let{orgUid:t,location:r,url:n,visitorId:l,isStrictOrder:o}=e;return this.api.headers(t?{"X-Upwork-API-TenantId":t}:{}).options({requestAlias:"smf.retrieve.".concat(r)}).post({query:this.retrieveGQL({orgUid:t,location:r,url:n,visitorId:l,isStrictOrder:o})}).res((e=>e&&200===e.status?e.json().then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.error)return{};return(l?e.data.visitor.siteMessage:e.data.siteMessage)||{}})):{})).catch(this.catchError)}dismiss(e){let{templateUid:t,visitorId:r}=e;return this.api.options({requestAlias:"smf.dismiss"}).post({query:this.dismissGQL({templateUid:t,visitorId:r})}).res().catch(this.catchError)}display(e){var t,r;let{templateUid:n,visitorId:l}=e;return null===(t=(r=this.api).options)||void 0===t?void 0:t.call(r,{requestAlias:"smf.display"}).post({query:this.displayGQL({templateUid:n,visitorId:l})}).res().catch(this.catchError)}}var x=e=>new f(e);class y extends m{retrieve(e){let{orgUid:t,location:r,url:n,isStrictOrder:l}=e;return this.api.url("/api/v3/site-messaging/person-messages/top-priority/org/:orgUid/display-location/:location".replace(":orgUid",t).replace(":location",r)).query({...n?{url:n}:{},...l?{"strict-order":!0}:{}}).get().res((e=>e&&200===e.status?e.json():{})).catch(this.catchError)}dismiss(e){let{templateUid:t}=e;return this.api.url("/api/v3/site-messaging/person-messages/templates/:templateUid/dismissals".replace(":templateUid",t)).post().res().catch(this.catchError)}display(e){let{templateUid:t}=e;return this.api.url("/api/v3/site-messaging/person-messages/templates/:templateUid/displays".replace(":templateUid",t)).post().res().catch(this.catchError)}}var w=e=>new y(e);const I=async e=>{let{http:t,graphql:r=!1}=e;return r?x(t({handleApiErrors:!1})):w(t({handleApiErrors:!1}))},U=e=>{let{http:t,graphql:r,tracker:n}=e;return{namespaced:!0,state:{messages:{}},getters:{getMessages:e=>t=>Object.values(e.messages).filter((e=>e.displayLocation===t))},mutations:{setMessages:(e,t)=>{let{message:r}=t;c.default.set(e.messages,r.templateUid,r)},removeMessage:(e,t)=>{let{templateUid:r}=t;delete e.messages[r],c.default.set(e,"messages",{...e.messages})}},actions:{RETRIEVE:async(e,n)=>{let{commit:l}=e,{location:o,orgUid:c,url:d,visitorId:h,isStrictOrder:m}=n;const f=await I({http:t,graphql:r});try{const e=await f.retrieve({orgUid:c,location:o,url:d,visitorId:h,isStrictOrder:m});e&&e.templateUid&&e.severity&&(e.type=v(e.severity,o),l("smf/setMessages",{message:e},{root:!0}))}catch(e){console.error("Unable to retrieve SMF message. ",e)}},DISMISS:async(e,n)=>{let{commit:l}=e,{templateUid:o,visitorId:c}=n;const d=await I({http:t,graphql:r});await d.dismiss({templateUid:o,visitorId:c}),l("smf/removeMessage",{templateUid:o},{root:!0})},DISPLAY:async function(){const e=await I({http:t,graphql:r});for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];o[1]&&o[1].templateUid&&(await e.display({templateUid:o[1].templateUid,visitorId:o[1].visitorId}),h(n,"impression","smf_impression",o[1].templateUid))},REMOVEMESSAGE:(e,t)=>{let{commit:r}=e,{templateUid:n}=t;r("smf/removeMessage",{templateUid:n},{root:!0})}}}};const S="closed-smf-id";var _={name:"UpCSmf",props:{location:{type:String,default:"top"},url:{type:String,default:""},http:{type:Function,default:null},httpGql:{type:Function,default:null},orgUid:{type:String,default:null},visitorId:{type:String,default:null},tracker:{type:Object,default:null},skipFetch:{type:Boolean,default:!1},localStorage:{type:Object,default:null},strictOrder:{type:Boolean,default:!1}},computed:{filteredMessages(){return this.$store.getters["smf/getMessages"](this.location)},getUrl(){var e,t;return this.url||"undefined"!=typeof window&&window.location.pathname||"".concat(null===(e=this.$router)||void 0===e?void 0:e.options.base).concat(null===(t=this.$router)||void 0===t?void 0:t.currentRoute.path).replace("//","/")},httpApi(){return this.httpGql||this.http},isGraphqlEnabled(){return!!this.httpGql},isAnnouncementModal(){var e;const{displayLocation:t}=(null===(e=this.filteredMessages)||void 0===e?void 0:e[0])||{};return"announcement-modal"===t}},created(){!function(e,t,r,n){if(e.hasModule("smf"))return;const l=U({http:r,tracker:n,graphql:t});e.registerModule("smf",l,{preserveState:!!e.state.smf})}(this.$store,this.isGraphqlEnabled,this.httpApi,this.tracker),!this.skipFetch&&this.orgUid&&this.$store.dispatch("smf/RETRIEVE",{location:this.location,url:this.getUrl,orgUid:this.orgUid,visitorId:this.visitorId,isStrictOrder:this.strictOrder})},mounted(){if(this.registerLocalStorageListener(),this.filteredMessages.length>0){const{templateUid:e}=this.filteredMessages[0];this.$store.dispatch("smf/DISPLAY",{templateUid:e,visitorId:this.visitorId})}},destroyed(){this.callRemoveLocalStorage()},methods:{async onAlertClose(e){var t;let{displayLocation:r,templateUid:n}=e;await this.$store.dispatch("smf/DISMISS",{location:r,templateUid:n,visitorId:this.visitorId}),this.callRemoveLocalStorage(),null===(t=this.localStorage)||void 0===t||t.set(S,n)},async onClick(e,t){if("A"===e.target.tagName){const{templateUid:e}=t;h(this.tracker,"click","smf_click_link",e)}},callRemoveLocalStorage(){this.removeLocalStorageListener&&(this.removeLocalStorageListener(),this.removeLocalStorageListener=null)},lsTriggeredAndCloseSMF(){var e,t;const r=null===(e=this.localStorage)||void 0===e?void 0:e.get(S);if(!r||0===this.filteredMessages.length)return;const{templateUid:n}=null===(t=this.filteredMessages)||void 0===t?void 0:t[0];r===n&&(this.$store.dispatch("smf/REMOVEMESSAGE",{templateUid:n}),this.callRemoveLocalStorage())},registerLocalStorageListener(){var e;this.localStorage&&!this.removeLocalStorageListener&&(this.removeLocalStorageListener=null===(e=this.localStorage)||void 0===e?void 0:e.onUpdate((e=>{e===S&&this.lsTriggeredAndCloseSMF()})))}}},M=_,C=r(4),k=Object(C.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.filteredMessages&&e.filteredMessages.length?r("div",{attrs:{"design-system":"air-3-0","data-cy":"smf"}},[e.isAnnouncementModal?r("div",[r("UpCAnnouncementModal",{ref:"announcementModal",attrs:{message:e.filteredMessages[0]}})],1):e._l(e.filteredMessages,(function(t){return r("div",{key:t.type,staticClass:"air3-smf-container",on:{"!click":function(r){return e.onClick(r,t)}}},[r("up-c-alert",{attrs:{"full-width":"very_top"===t.displayLocation,type:t.type,close:1===t.dismissible||!0===t.dismissible},on:{"alert-close":function(r){return e.onAlertClose(t)}}},[r("div",{domProps:{innerHTML:e._s(t.content)}})])],1)}))],2):e._e()}),[],!1,null,null,null).exports,A={injectStyles:[o.a],components:{[n.default.name]:n.default,UpCAnnouncementModal:()=>r.e(116).then(r.bind(null,2234))},mixins:[k]},L=Object(C.a)(A,undefined,undefined,!1,null,null,null);t.default=L.exports},271:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return x}));const n={warning:()=>r.e(6).then(r.bind(null,269)),generic:()=>r.e(88).then(r.bind(null,379)),positive:()=>r.e(35).then(r.bind(null,273)),negative:()=>r.e(147).then(r.bind(null,380)),instant:()=>r.e(35).then(r.bind(null,273)),notification:()=>null},l="info",o="generic",c="success",d="positive",v="danger",h="negative",m="notification",f="instant",x=e=>{switch(e){case l:case o:case m:return o;case c:case d:return d;case v:case h:return h;case f:return f;default:return""}}},274:function(e,t,r){var content=r(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("41c2c75c",content,!0,{sourceMap:!1,manualInject:!0})},275:function(e,t,r){var n=r(6)(!1);n.push([e.i,".air3-alert{--alert-min-height:48px;--alert-max-width:var(--max-width-global-container);--alert-gap:var(--ws-4x);--alert-padding:var(--ws-3x) var(--ws-4x);--alert-radius:var(--radius-8x);--alert-font-size:var(--font-size-base-sm);--alert-icon-size:18px;--alert-bg:var(--bg-info);--alert-text:var(--text-on-info);--alert-text-icon:var(--text-on-info);--alert-bg-success:var(--bg-success);--alert-text-success:var(--text-on-success);--alert-text-icon-success:var(--text-on-success);--alert-bg-warning:var(--bg-warning);--alert-text-warning:var(--text-on-warning);--alert-text-icon-warning:var(--text-on-warning);--alert-bg-danger:var(--bg-danger);--alert-text-danger:var(--text-on-danger);--alert-text-icon-danger:var(--text-on-danger);--alert-inline-bg:var(--bg-info-light);--alert-inline-text:var(--text-on-info-light);--alert-inline-text-icon:var(--text-on-info-light);--alert-inline-bg-success:var(--bg-success-light);--alert-inline-text-success:var(--text-on-success-light);--alert-inline-text-icon-success:var(--color-success);--alert-inline-bg-warning:var(--bg-warning-light);--alert-inline-text-warning:var(--text-on-warning-light);--alert-inline-text-icon-warning:var(--color-warning);--alert-inline-bg-danger:var(--bg-danger-light);--alert-inline-text-danger:var(--text-on-danger-light);--alert-inline-text-icon-danger:var(--color-danger);--alert-wide-min-height:40px;--alert-wide-padding:var(--ws-2x) var(--ws-4x);--alert-wide-radius:0}.air3-alert:not(.air3-alert-inline.air3-alert-generic){--text-link:currentColor;--text-link-hover:currentColor}.air3-alert{display:flex;grid-gap:var(--alert-gap);gap:var(--alert-gap);min-height:var(--alert-min-height);padding:var(--alert-padding);font-size:var(--alert-font-size);border-radius:var(--alert-radius);background:var(--alert-bg);color:var(--alert-text);border:0;border:var(--hc-border,0)}.air3-alert+.air3-alert{margin-top:var(--ws-2x)}.air3-alert .air3-icon{--icon-size:var(--alert-icon-size)}.air3-alert.air3-alert-inline{background:var(--alert-inline-bg);color:var(--alert-inline-text)}.air3-alert.air3-alert-inline .air3-alert-icon{color:var(--alert-inline-text-icon)}.air3-alert .air3-alert-icon{align-items:self-start;display:flex;padding:3px 0 0;color:var(--alert-text-icon)}.air-alert-actions{align-self:flex-start;padding:2px 0 0;display:flex;grid-gap:var(--ws-4x);gap:var(--ws-4x);border:0;background:transparent}.air-alert-actions .air3-alert-close,.air-alert-actions .air3-btn-link{border:0;background:transparent;color:var(--alert-text-icon);cursor:pointer}.air3-alert-positive{--alert-bg:var(--alert-bg-success);--alert-text:var(--alert-text-success);--alert-text-icon:var(--alert-text-icon-success);--alert-inline-bg:var(--alert-inline-bg-success);--alert-inline-text:var(--alert-inline-text-success);--alert-inline-text-icon:var(--alert-inline-text-icon-success)}.air3-alert-warning{--alert-bg:var(--alert-bg-warning);--alert-text:var(--alert-text-warning);--alert-text-icon:var(--alert-text-icon-warning);--alert-inline-bg:var(--alert-inline-bg-warning);--alert-inline-text:var(--alert-inline-text-warning);--alert-inline-text-icon:var(--alert-inline-text-icon-warning)}.air3-alert-negative{--alert-bg:var(--alert-bg-danger);--alert-text:var(--alert-text-danger);--alert-text-icon:var(--alert-text-icon-danger);--alert-inline-bg:var(--alert-inline-bg-danger);--alert-inline-text:var(--alert-inline-text-danger);--alert-inline-text-icon:var(--alert-inline-text-icon-danger)}.air3-alert-content{flex:1;align-self:center;word-wrap:break-word;word-break:break-word}.air3-alert-side-wide{--alert-padding:var(--alert-wide-padding);--alert-min-height:var(--alert-wide-min-height);--alert-radius:var(--alert-wide-radius)}@media (min-width:1200px){.air3-alert-side-wide{--padding-x:calc(50% - min(100%, var(--alert-max-width))/2 + var(--ws-6x)*2/2);padding-left:var(--padding-x);padding-right:var(--padding-x)}}.air3-alert-instant{--alert-instant-width:140px;--alert-instant-height:124px;background-color:hsla(var(--up-black-hsl),95%);width:var(--alert-instant-width);height:var(--alert-instant-height);grid-template-columns:auto;align-items:center;padding:var(--ws-6x)}.air3-alert-instant,.air3-alert-instant .air3-alert-icon{justify-content:center}.air3-alert-instant .air3-alert-icon .air3-icon{--size:36px}.keyboard-user .air3-alert-generic a:focus,.keyboard-user .air3-alert-generic button:focus{--outline-text:currentColor}",""]),e.exports=n},276:function(e){e.exports=JSON.parse('{"vc_CloseTheHiddenlabelAlert_37":"Close the {label} alert","vc_CloseAlert_38":"Close the alert"}')},277:function(e){e.exports=JSON.parse('{"vc_CloseTheHiddenlabelAlert_37":"Close the {label} alert","vc_CloseAlert_38":"Close the alert"}')},278:function(e){e.exports=JSON.parse('{"vc_CloseTheHiddenlabelAlert_37":"猫Close the {label} alert猫","vc_CloseAlert_38":"猫Close the alert猫"}')},282:function(e,t,r){"use strict";r.r(t);var n=r(274),l=r.n(n),o=r(157),c=r(205),d=r(271),v={"en-gb":r(276),en:r(277),is:r(278)},h={injectStyles:[l.a],name:"UpCAlert",components:{UpCIcon:o.default},i18n:{messages:v},props:{type:{type:String,default:"warning"},close:{type:Boolean,default:!1},hiddenLabel:{type:String,default:""},inline:{type:Boolean,default:!0},fullWidth:{type:Boolean,default:!1}},data:()=>({iconClose:c.default}),computed:{alertMappedType:e=>Object(d.b)(e.type),isAlertInstant:e=>"instant"===e.alertType,alertInline:e=>!e.fullWidth&&!e.isAlertInstant&&e.inline,alertType:e=>e.alertMappedType||"warning",alertClass:e=>{const t=["air3-alert-".concat(e.alertType)];return e.fullWidth&&t.push("air3-alert-side-wide"),e.alertInline&&t.push("air3-alert-inline"),t.join(" ")},alertClose:e=>!e.isAlertInstant&&e.close,icon:e=>d.a[e.alertType]},methods:{closeAlert(){this.$emit("alert-close"),setTimeout((()=>{this.$destroy(),this.$el.remove()}))}}},m=r(4),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"air3-alert",class:[e.alertClass],attrs:{role:"alert","data-ev-sublocation":"!alert"}},[r("div",{staticClass:"air3-alert-icon"},[e._t("icon",(function(){return[r("UpCIcon",{attrs:{icon:e.icon}})]}))],2),e._v(" "),r("div",{staticClass:"air3-alert-content"},[e._t("default")],2),e._v(" "),e.isAlertInstant||!e.alertClose&&!e.$slots.actions?e._e():r("div",{staticClass:"air-alert-actions"},[e._t("actions",(function(){return[e.alertClose?r("button",{staticClass:"air3-alert-icon air3-alert-close",attrs:{type:"button","data-ev-label":"alert_close"},on:{click:function(t){return e.closeAlert()}}},[r("span",{staticClass:"sr-only"},[e.hiddenLabel?r("i18n",{attrs:{path:"vc_CloseTheHiddenlabelAlert_37",tag:!1},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n              "+e._s(e.hiddenLabel)+"\n            ")]},proxy:!0}],null,!1,1215030074)}):r("i18n",{attrs:{path:"vc_CloseAlert_38",tag:!1}})],1),e._v(" "),r("UpCIcon",{attrs:{icon:e.iconClose,size:"sm"}})],1):e._e()]}))],2)])}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/smf.fc788ae7.js.map