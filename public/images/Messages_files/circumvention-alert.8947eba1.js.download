(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{1816:function(e){e.exports=JSON.parse('{"thun_HiThereRememberToKeepCommunicationsOnUpw_199":{"scams":"scams","termsOfService":"Terms of Service","linked":"Hi there. Remember to keep communications on Upwork until your contract starts. It’ll help you stay safe from {Scams}, plus it’s against our {TOS} to do it any other way."},"thun_HiThereRememberToMakeAllYourPaymentsOnUp_203":{"paymentProtection":"Payment protection","scams":"scams","termsOfService":"Terms of Service","linked":"Hi there. Remember to make all your payments on Upwork to get {PaymentProtection}. This keeps you and your money safe from {Scams}. Plus, it’s against our {TOS} to do it any other way. Thanks."}}')},1817:function(e){e.exports=JSON.parse('{"thun_HiThereRememberToKeepCommunicationsOnUpw_199":{"scams":"scams","termsOfService":"Terms of Service","linked":"Hi there. Remember to keep communications on Upwork until your contract starts. It’ll help you stay safe from {Scams}, plus it’s against our {TOS} to do it any other way."},"thun_HiThereRememberToMakeAllYourPaymentsOnUp_203":{"paymentProtection":"Payment Protection","scams":"scams","termsOfService":"Terms of Service","linked":"Hi there. Remember to make all your payments on Upwork to get {PaymentProtection}. This keeps you and your money safe from {Scams}. Plus, it’s against our {TOS} to do it any other way. Thanks."}}')},1818:function(e){e.exports=JSON.parse('{"thun_HiThereRememberToKeepCommunicationsOnUpw_199":{"scams":"scams","termsOfService":"Terms of Service","linked":"[猫Hi there. Remember to keep communications on Upwork until your contract starts. It’ll help you stay safe from {Scams}, plus it’s against our {TOS} to do it any other way.猫]"},"thun_HiThereRememberToMakeAllYourPaymentsOnUp_203":{"paymentProtection":"Payment Protection","scams":"scams","termsOfService":"Terms of Service","linked":"[猫Hi there. Remember to make all your payments on Upwork to get {PaymentProtection}. This keeps you and your money safe from {Scams}. Plus, it’s against our {TOS} to do it any other way. Thanks.猫]"}}')},2248:function(e,t,n){"use strict";n.r(t),n.d(t,"CIRCUMVENTION_QT",(function(){return h}));var o=n(157),r=n(28),m=n(51),c=n(244),l={"en-gb":n(1816),en:n(1817),is:n(1818)};const h="COLLAB-1980_AntiCircumventionReminders";var y={components:{UpCAlert:()=>n.e(114).then(n.bind(null,282)),UpCIcon:o.default},i18n:{messages:l},props:{room:Object},computed:{iconMessagesOutlined:()=>()=>n.e(211).then(n.bind(null,2343)),iconFunded:()=>()=>n.e(316).then(n.bind(null,2344)),isQtTreatment(){var e;return"Treatment"===(null===(e=this.$store.state.flags)||void 0===e?void 0:e.qt[h])},hasOffer(){var e;return this.room.isInterview()&&Boolean(null===(e=this.room.context)||void 0===e?void 0:e.offerId)},isContractRoom(){return this.room.isInterview()||this.room.isDirectMessage()||this.room.isCatalog()},hasCommunicationAlert(){var e;return!this.hasOffer&&this.isContractRoom&&!this.getIsRecentlyClosed(null===(e=this.circumventionSettings)||void 0===e?void 0:e.communicationAlertClosed)},hasPaymentAlert(){var e,t;return this.hasOffer&&"new"===(null===(e=this.room.context)||void 0===e?void 0:e.currentStatus)&&!this.getIsRecentlyClosed(null===(t=this.circumventionSettings)||void 0===t?void 0:t.paymentAlertClosed)},showAlert(){return this.isQtTreatment&&this.settingsLoaded&&(this.hasCommunicationAlert||this.hasPaymentAlert)}},methods:{getIsRecentlyClosed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(!e)return!1;const n=new Date(parseInt(e,10));return n.setDate(n.getDate()+t)>=new Date},updateSettings(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.hasPaymentAlert?{paymentAlertClosed:Date.now()}:{communicationAlertClosed:Date.now()};this.saveCircumventionSettings(t,e)},trackEvent(label,e){const data={participants:this.room.numUsers,room_type_extended:this.hasOffer?this.room.roomType:this.room.roomTypeExtended};this.track({label:label,event:e,sublocation:"chat_room",data:data})},setAlertDisplayed(e){this.updateSettings();const t=e?"circ_payment_alert":"circ_communication_alert";this.trackEvent(t,"impression")},onAlertClose(e){this.updateSettings(!0);const t=e?"circ_payment_alert_close":"circ_communication_alert_close";this.trackEvent(t,"click")},loadCircumventionSettings(){return!!this.settingsLoaded||this.loadSettings()}},async mounted(){await this.loadCircumventionSettings(),(this.hasCommunicationAlert||this.hasPaymentAlert)&&await this.loadFlags({qt:[{name:h,ff:{name:"COLLAB1980CircumventionAlert",fallback:!1},fallback:"Control"}]}),this.showAlert&&this.setAlertDisplayed(this.hasPaymentAlert)},setup(){const e=Object(r.a)(),t=Object(c.a)(),{$thunderTracker:n}=Object(m.b)();return{loadFlags:e,...t,...n}}},d=y,f=n(4),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showAlert?n("up-c-alert",{staticClass:"up-d-circumvention-alert",attrs:{type:"generic","full-width":!0,close:!0},on:{"alert-close":function(t){return e.onAlertClose(e.hasPaymentAlert)}}},[e.hasCommunicationAlert?n("UpCIcon",{attrs:{slot:"icon",icon:e.iconMessagesOutlined},slot:"icon"}):e._e(),e._v(" "),e.hasCommunicationAlert?n("i18n",{attrs:{tag:"span",path:"thun_HiThereRememberToKeepCommunicationsOnUpw_199.linked"},scopedSlots:e._u([{key:"Scams",fn:function(){return[n("UpLink",{attrs:{target:"_blank",href:"https://support.upwork.com/hc/articles/211067668-Staying-Safe-on-Upwork"}},[e._v("\n        "+e._s(e.$t("thun_HiThereRememberToKeepCommunicationsOnUpw_199.scams")))])]},proxy:!0},{key:"TOS",fn:function(){return[n("UpLink",{attrs:{target:"_blank",href:"https://support.upwork.com/hc/articles/360051749534-Keeping-your-contact-information-safe "}},[e._v("\n        "+e._s(e.$t("thun_HiThereRememberToKeepCommunicationsOnUpw_199.termsOfService")))])]},proxy:!0}],null,!1,2520058311)}):e._e(),e._v(" "),e.hasPaymentAlert?n("UpCIcon",{attrs:{slot:"icon",icon:e.iconFunded},slot:"icon"}):e._e(),e._v(" "),e.hasPaymentAlert?n("i18n",{attrs:{tag:"span",path:"thun_HiThereRememberToMakeAllYourPaymentsOnUp_203.linked"},scopedSlots:e._u([{key:"PaymentProtection",fn:function(){return[n("UpLink",{attrs:{target:"_blank",href:"https://support.upwork.com/hc/articles/211062568-Upwork-Payment-Protection"}},[e._v("\n        "+e._s(e.$t("thun_HiThereRememberToMakeAllYourPaymentsOnUp_203.paymentProtection")))])]},proxy:!0},{key:"Scams",fn:function(){return[n("UpLink",{attrs:{target:"_blank",href:"https://support.upwork.com/hc/articles/211067668-Staying-Safe-on-Upwork"}},[e._v("\n        "+e._s(e.$t("thun_HiThereRememberToMakeAllYourPaymentsOnUp_203.scams")))])]},proxy:!0},{key:"TOS",fn:function(){return[n("UpLink",{attrs:{target:"_blank",href:"https://support.upwork.com/hc/articles/360052511133-Circumvention-and-why-it-s-against-the-rules"}},[e._v("\n        "+e._s(e.$t("thun_HiThereRememberToMakeAllYourPaymentsOnUp_203.termsOfService")))])]},proxy:!0}],null,!1,1213909737)}):e._e()],1):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/circumvention-alert.8947eba1.js.map