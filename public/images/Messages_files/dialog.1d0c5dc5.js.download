(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{198:function(e,t,o){"use strict";o.d(t,"c",(function(){return menu})),o.d(t,"a",(function(){return n.a})),o.d(t,"b",(function(){return dialog}));var n=o(9),r=o(162);const l={},c={};function d(e){let{id:t}=e;l[t]&&(l[t](),delete l[t],delete c[t])}function m(e){return function(e){const t=JSON.parse(JSON.stringify(e)),o=[];for(;t.length;){const e=t.pop();e.items&&e.items.length&&(e.items.forEach((e=>{e.groups&&t.push(...e.groups)})),o.push(...e.items))}return o}(e.groups).map((e=>{const t={};return t.id=e.id,t.isChecked=e.isChecked,t}))}function h(e,t,o,n){const r=[],l=[],d=[...c[t]];for(;d.length;){const e=d.pop();Array.isArray(e[n])&&d.push(...e[n]),l.push(e)}return e.forEach((e=>{const t=l.find((t=>t[o]===e.id));t&&(t.isChecked=Boolean(e.isChecked),r.push(t))})),r}const f={bottomSheet:"BOTTOM_SHEET",dialog:"DIALOG",modal:"MODAL"};function y(e,t,o,n){const r=t.items&&t.items.length?t.items:[];return[{checkableBehavior:r.some((e=>Array.isArray(e[t.nestedKey])))?"none":o,id:e,items:r.map((e=>{const option={id:e[t.itemKey],label:e[t.itemText],icon:e.icon,isChecked:e.isChecked,isEnabled:!e.disabled};if(t.itemSublabel&&(option.subLabel=e[t.itemSublabel]),Array.isArray(e[t.nestedKey])){n===f.bottomSheet&&(option.transitionBehavior="bottom_sheet");const r={items:e[t.nestedKey],itemText:t.itemText,itemKey:t.itemKey,nestedKey:t.nestedKey};t.itemSublabel&&(r.itemSublabel=t.itemSublabel),option.groups=y(e[t.itemKey],r,o,n)}return option}))}]}function v(e){return e.groups.map((t=>{const o={id:t[e.groupKey],label:t[e.groupText],checkableBehavior:t.checkableBehavior||"none",items:t[e.groupItemsKey].map((t=>{const o={id:t[e.itemKey],label:t[e.itemText],icon:t.icon,isChecked:t.isChecked,isEnabled:!t.disabled};return e.itemSublabel&&(o.subLabel=t[e.itemSublabel]),o}))};return t.checkableBehaviorParentId&&(o.checkableBehaviorParentId=t.checkableBehaviorParentId),o}))}const menu={generateId:e=>e||"sheet-id-".concat(Object(r.b)()),open(data){const e=data.id||"sheet-id-".concat(Object(r.b)()),t=!!data.hasFiltering&&data.hasFiltering,o=data.query?data.query:"",k=f[data.type];data.queryType;let E=[];if(E=Array.isArray(data.menuData.groups)?v(data.menuData):y("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none",k),t&&n.a.on("up/menus/v1/".concat(k,"/EVENTS/QUERY_CHANGED"),e,(e=>function(e,t,o,n){const{query:r}=e,{id:l}=e;n&&n(l,r,h(m(e),l,t,o))}(e,data.menuData.itemKey,data.menuData.nestedKey,data.filteringCallback))),n.a.on("up/menus/v1/".concat(k,"/EVENTS/QUERY_SUBMITTED"),e,(e=>function(e,t,o,n){const{query:r}=e,{id:l}=e;n&&n(l,r,h(m(e),l,t,o))}(e,data.menuData.itemKey,data.menuData.nestedKey,data.submitCallback))),n.a.on("up/menus/v1/".concat(k,"/EVENTS/DONE"),e,(e=>function(e,t,o){const{id:n}=e;l[n]&&(l[n](h(m(e),n,t,o)),delete l[n],delete c[n])}(e,data.menuData.itemKey,data.menuData.nestedKey))),n.a.on("up/menus/v1/".concat(k,"/EVENTS/DISMISSED"),e,d),Array.isArray(data.menuData.groups)){let t=[];data.menuData.groups.forEach((e=>{Array.isArray(e[data.menuData.groupItemsKey])&&(t=t.concat(e[data.menuData.groupItemsKey]))})),c[e]=t}else c[e]=data.menuData.items;const T=data.theme?{theme:data.theme}:{};return n.a.postMessage({type:"up/menus/v1/".concat(k,"/PUSH"),payload:{id:e,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:t,query:o,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:E,...T}}),new Promise((o=>{l[e]=r=>{!function(e,t,o){const r=f[e];o&&n.a.off("up/menus/v1/".concat(r,"/EVENTS/QUERY_CHANGED"),t),n.a.off("up/menus/v1/".concat(r,"/EVENTS/DONE"),t),n.a.off("up/menus/v1/".concat(r,"/EVENTS/DISMISSED"),t)}(data.type,e,t),Array.isArray(r)?o(r):o(null)}}))},update(data){const e=f[data.type];let t=[];t=Array.isArray(data.menuData.groups)?v(data.menuData):y("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none",e);const o={id:data.id,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:!!data.hasFiltering&&data.hasFiltering,query:data.query,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:t};if(Array.isArray(data.menuData.groups)){let e=[];data.menuData.groups.forEach((t=>{Array.isArray(t[data.menuData.groupItemsKey])&&(e=e.concat(t[data.menuData.groupItemsKey]))})),c[data.id]=e}else c[data.id]=data.menuData.items;n.a.postMessage({payload:o,type:"up/menus/v1/".concat(e,"/UPDATE")})},close(data){const e=f[data.type],t=void 0===data.isAnimated||!!data.isAnimated,o={id:data.id,isAnimated:t};n.a.postMessage({payload:o,type:"up/menus/v1/".concat(e,"/DISMISS")})}};let k=0;const E={};function T(e){const{id:t}=e;E[t]&&(E[t](e.actionId),delete E[t])}const dialog={open(e){k+=1;const t="dialog-id".concat(k);if(n.a.on("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t,T),!e.message)throw new Error('required parameter "message" is missing');const o=e.theme?{theme:e.theme}:{};return n.a.postMessage({type:"up/dialogs/v1/ALERT",payload:{id:t,title:e.title,message:e.message,isDismissible:!1,actions:e.actions.map((e=>({id:e.id,label:e.label}))).reverse(),...o}}),new Promise((o=>{E[t]=r=>{n.a.off("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t);let data=null;r&&(data=e.actions.find((e=>e.id===r))),o(data)}}))}}},232:function(e,t,o){"use strict";var n=o(235),r={injectStyles:[o.n(n).a],name:"UpTransition",props:{name:{type:String,required:!0}},computed:{transitionName(){return"air3-transition-".concat(this.name)}}},l=o(4),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",e._g(e._b({attrs:{name:e.transitionName}},"transition",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},235:function(e,t,o){var content=o(236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("04892c45",content,!0,{sourceMap:!1,manualInject:!0})},236:function(e,t,o){var n=o(6)(!1);n.push([e.i,"@media (prefers-reduced-motion:reduce){[class*=air3-transition]{animation:none!important;transition:none!important}}",""]),e.exports=n},294:function(e,t,o){"use strict";var n=o(34);class r{constructor(e){if(this.instance)return this.instance;this.instance=this,this.context=e||window,this.document=this.context.document,this.navigator=this.context.navigator,this.enabledTimesCounter=0;const t=this.document.createElement("style");this.document.head.appendChild(t),t.innerHTML="\n  .prevent-body-scroll {\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n  }\n\n  .prevent-body-scroll.prevent-body-scroll-ios body {\n    overflow-x: hidden;\n    overflow-y: auto;\n    position: relative;\n  }\n"}enable(){Object(n.b)(this.context.navigator.userAgent)&&this.document.documentElement.classList.add("prevent-body-scroll-ios"),this.enabledTimesCounter+=1,this.scrollTop=this.document.body.scrollTop||this.document.documentElement.scrollTop,this.document.documentElement.classList.add("prevent-body-scroll"),this.document.body.scrollTop=this.scrollTop,this.document.documentElement.scrollTop=this.scrollTop}disable(){this.enabledTimesCounter-=1,this.enabledTimesCounter>0||(Object(n.b)(this.context.navigator.userAgent)&&this.document.documentElement.classList.remove("prevent-body-scroll-ios"),this.document.documentElement.classList.remove("prevent-body-scroll"),void 0!==this.scrollTop&&setTimeout((()=>{this.document.body.scrollTop=this.scrollTop,this.document.documentElement.scrollTop=this.scrollTop}),100))}static getInstance(e){return this.instance||(this.instance=new r(e)),this.instance}}t.a=e=>r.getInstance(e)},366:function(e,t,o){"use strict";t.a={data:()=>({focusElementWrapper:null,firstFocusable:null,lastFocusable:null,focusObserver:null}),methods:{bindFocus(e,t){if(this.focusElementWrapper=e,this.focusElementWrapper&&(this.trapFocus(),this.firstFocusable)){this.focusObserver=new MutationObserver(this.onDomMutation),this.focusObserver.observe(this.focusElementWrapper,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0});const e=document.getElementById(t);e?e.focus():this.focusElementWrapper.focus()}},unbindFocus(){this.firstFocusable&&this.focusObserver.disconnect&&this.focusObserver.disconnect()},async onDomMutation(){this.removeFocusTrap(),await this.$nextTick(),this.trapFocus()},tabKeyListener(e){e.shiftKey&&e.target===this.focusElementWrapper&&(e.preventDefault(),this.keydownFirst(e))},keydownFirst(e){const{keyCode:t}=e;9===t&&e.shiftKey&&(this.lastFocusable.focus(),e.preventDefault())},keydownLast(e){const{keyCode:t}=e;9!==t||e.shiftKey||(this.firstFocusable.focus(),e.preventDefault())},trapFocus(){if(!this.focusElementWrapper)return;const e=[...this.focusElementWrapper.querySelectorAll("a[href], area[href], input:not(:disabled), button:not(:disabled), select:not(:disabled),\n          textarea:not(:disabled), audio[controls], video[controls], iframe, object,\n          embed, [tabindex], [contenteditable]")].filter((e=>e.matches("".concat(e.tagName,':not([tabindex^="-"])'))&&null!==e.offsetParent&&("radio"!==e.type||"radio"===e.type&&this.isTabbableRadio(e))));e.length||e.push(this.focusElementWrapper),this.firstFocusable=e[0],this.lastFocusable=e[e.length-1],this.firstFocusable.addEventListener("keydown",this.keydownFirst),this.lastFocusable.addEventListener("keydown",this.keydownLast)},isTabbableRadio(e){if(!e.name)return!0;const t=[...(e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'.concat(e.name,'"]'))].filter((t=>t.form===e.form)),o=t.find((e=>e.checked));return o?o===e:t[0]===e},removeFocusTrap(){this.firstFocusable&&this.firstFocusable.removeEventListener("keydown",this.keydownFirst),this.lastFocusable&&this.lastFocusable.removeEventListener("keydown",this.keydownLast)}}}},390:function(e,t,o){var content=o(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("75cd1c5c",content,!0,{sourceMap:!1,manualInject:!0})},391:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-dialog{--dialog-width:calc(100% - var(--dialog-padding)*2);--dialog-max-width:326px;--dialog-padding:var(--ws-6x);--dialog-border:0;--dialog-radius:var(--radius-4x);--dialog-bg:var(--bg-inverse);--dialog-font-weight:var(--font-weight-body);--dialog-message-text:var(--text-light-on-inverse);--dialog-message-font-size:var(--font-size-base-sm);--dialog-message-line-height:var(--line-height-base-sm);display:block;position:fixed;left:0;right:0;top:50%;transform:translateY(-50%);margin:0 auto;width:var(--dialog-width);max-width:var(--dialog-max-width);padding:var(--dialog-padding);border:var(--dialog-border);border-radius:var(--dialog-radius);background:var(--dialog-bg);font-weight:var(--dialog-font-weight);color:inherit}.air3-dialog+.backdrop{opacity:0;position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--bg-backdrop)}@media (forced-colors:active){.air3-dialog+.backdrop{background:highlight}}.air3-dialog[open]::backdrop{background-color:#001e00;opacity:.6;animation:fade-in-backdrop .2s ease-out;animation:var(--reduced-motion,fade-in-backdrop .2s ease-out)}@media (forced-colors:active){.air3-dialog[open]::backdrop{background:highlight}}.air3-dialog[open]+.backdrop{animation:fade-in-backdrop .2s ease-out;animation:var(--reduced-motion,fade-in-backdrop .2s ease-out);opacity:var(--opacity-backdrop)}.air3-dialog.air3-dialog-closing::backdrop{animation:fade-out-backdrop .2s ease-out;animation:var(--reduced-motion,fade-out-backdrop .2s ease-out)}.air3-dialog:not([open]){display:none}.air3-dialog .air3-dialog-actions-group{margin-top:var(--ws-6x);text-align:right}.air3-dialog .air3-dialog-actions-group .air3-btn-secondary{margin-right:var(--ws-4x)}.air3-dialog .air3-dialog-title+.air3-dialog-message{margin-top:var(--ws-4x);color:var(--dialog-message-text);font-size:var(--dialog-message-font-size);line-height:var(--dialog-message-line-height)}.air3-dialog.air3-dialog-closing+.backdrop{animation:fade-out-backdrop .2s ease-out;animation:var(--reduced-motion,fade-out-backdrop .2s ease-out)}@keyframes fade-in-backdrop{0%{opacity:0}to{opacity:.6}}@keyframes fade-out-backdrop{to{opacity:0}}html[theme=dark] .air3-dialog[open]::backdrop{background:#fff}",""]),e.exports=n},392:function(e,t,o){var content=o(393);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("b82c1536",content,!0,{sourceMap:!1,manualInject:!0})},393:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-transition-motion-enter-active,.air3-transition-motion-leave-active{--animation-duration:0.2s;--animation-timing-function:cubic-bezier(0.9,0,1.1,1);--translate-y-start:65px;--translate-y-end:-50%;--scale-x-start:0.95;--scale-x-end:1;--scale-y-start:0.95;--scale-y-end:1;--opacity-start:0;--opacity-end:1;--animation-delay:0s;animation:air3-transition-motion var(--animation-duration);animation-timing-function:var(--animation-timing-function);animation-delay:var(--animation-delay);overflow:hidden}.air3-transition-motion-leave-active{animation-direction:reverse}@keyframes air3-transition-motion{0%{transform:translateY(var(--translate-y-start)) scale(var(--scale-x-start),var(--scale-y-start));opacity:var(--opacity-start)}to{transform:translateY(var(--translate-y-end)) scale(var(--scale-x-end),var(--scale-y-end));opacity:var(--opacity-end)}}",""]),e.exports=n},432:function(e,t,o){"use strict";o.r(t);var dialog=o(390),n=o.n(dialog),r=o(294),l=o(29),c=o(198),d=o(164),m=o.n(d),h=o(232),f=o(392),y={name:"UpTransitionMotion",injectStyles:[o.n(f).a],components:{UpTransition:h.a}},v=o(4),k=Object(v.a)(y,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("UpTransition",e._g(e._b({attrs:{name:"motion"}},"UpTransition",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null).exports,E=o(162),T=o(366);const w=async e=>{if(function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).HTMLDialogElement}())return;(await o.e(152).then(o.bind(null,2177))).default.registerDialog(e)};var D={name:"UpCDialog",components:{UpTransitionMotion:k},injectStyles:[n.a,m.a],mixins:[T.a],props:{title:{type:String,default:null,required:!0},message:{type:String,default:null},actions:{type:Array,default:()=>[]}},emits:["close"],data:()=>({isNativeApp:Object(l.a)(),openNativeDialog:null,focusOnCloseElement:null,preventBodyScroll:null,isOpen:!1,id:null}),beforeMount(){this.preventBodyScroll=Object(r.a)(window)},mounted(){this.id=Object(E.a)().toString()},destroyed(){this.isOpen&&this.preventBodyScroll.disable()},methods:{async openDialog(){if(this.focusOnCloseElement=document.activeElement===document.body?null:document.activeElement,this.isNativeApp&&null===this.openNativeDialog&&(this.openNativeDialog=await c.a.isNativeFeatureAvailable("dialogs","alert")),this.openNativeDialog)this.setActionId(),await c.b.open({title:this.title,message:this.message||" ",actions:this.actions,theme:"air-3.0"}).then((e=>{e&&e.btnClick&&e.btnClick()}));else{1===this.actions.length&&(this.actions[0].kind="primary");const e=this.$refs.dialog;await w(e),e.showModal(),this.isOpen=!0,this.preventBodyScroll.enable(),this.$nextTick((()=>{this.bindFocus(this.$refs.dialog)}))}},afterLeave(){this.close()},startClosing(){this.isOpen=!1},close(){this.$refs.dialog&&this.$refs.dialog.open?this.$refs.dialog.close():(this.unbindFocus(),this.focusOnCloseElement&&this.focusOnCloseElement.focus(),this.preventBodyScroll.disable(),this.$emit("close"))},onBtnClick(e){this.startClosing(),e.btnClick&&this.$nextTick((()=>{e.btnClick()}))},setActionId(){this.actions.forEach((e=>{e.id||(e.id="".concat(e.label,"_").concat(Math.random().toString(36).substr(2,9)))}))}}},x=Object(v.a)(D,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("UpTransitionMotion",{attrs:{"data-ev-sublocation":"!dialog"},on:{"after-leave":e.afterLeave}},[e.openNativeDialog?e._e():o("dialog",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"dialog",class:["air3-dialog",{"air3-dialog-closing":!e.isOpen}],attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title-"+e.id,tabindex:"-1"},on:{close:e.close,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.startClosing.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.tabKeyListener.apply(null,arguments)}]}},[o("h2",{staticClass:"h5 air3-dialog-title",attrs:{id:"dialog-title-"+e.id}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.isNativeApp&&e.message,expression:"isNativeApp && message"}],staticClass:"air3-dialog-message",attrs:{"data-test":"dialog-message"}},[e._v("\n      "+e._s(e.message)+"\n    ")]),e._v(" "),e._t("default"),e._v(" "),o("div",{staticClass:"air3-dialog-actions-group",attrs:{role:"group"}},e._l(e.actions,(function(t){return o("button",{key:t.id,staticClass:"air3-btn",class:["air3-btn-"+t.kind],attrs:{type:"button"},on:{click:function(o){return e.onBtnClick(t)}}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),0)],2)])}),[],!1,null,null,null);t.default=x.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/dialog.1d0c5dc5.js.map