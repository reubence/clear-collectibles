"use strict";(globalThis.webpackChunk_loomhq_web_client=globalThis.webpackChunk_loomhq_web_client||[]).push([[5417],{10528:(t,e,n)=>{n.d(e,{U:()=>o,h:()=>a});var s=n(90092),i=n(55810);function r(t){let e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function o(t,e={}){let n="string"==typeof e?e:e.tunnel,i="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${r(t)}${t.projectId}/envelope/?${(0,s._j)({sentry_key:t.publicKey,sentry_version:"7",...i&&{sentry_client:`${i.name}/${i.version}`}})}`}function a(t,e){let n=(0,i.vK)(t),s=`${r(n)}embed/error-page/`,o=`dsn=${(0,i.RA)(n)}`;for(let t in e)if("dsn"!==t){if("user"===t){let t=e.user;if(!t)continue;t.name&&(o+=`&name=${encodeURIComponent(t.name)}`),t.email&&(o+=`&email=${encodeURIComponent(t.email)}`)}else o+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`}return`${s}?${o}`}},8363:(t,e,n)=>{n.d(e,{W:()=>v});var s=n(55810),i=n(17552),r=n(4458),o=n(46975),a=n(14180),_=n(77029),u=n(50209),l=n(32312),c=n(92176),d=n(72063),h=n(10528),p=n(33378),g=n(62024),f=n(47670);let E="Not capturing exception because it's already been captured.";class v{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(v.prototype.__init.call(this),v.prototype.__init2.call(this),v.prototype.__init3.call(this),v.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=(0,s.vK)(t.dsn);let e=(0,h.U)(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if((0,r.YO)(t)){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(E);return}let s=e&&e.event_id;return this._process(this.eventFromException(t,e).then(t=>this._captureEvent(t,e,n)).then(t=>{s=t})),s}captureMessage(t,e,n,s){let i=n&&n.event_id,r=(0,o.pt)(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(r.then(t=>this._captureEvent(t,n,s)).then(t=>{i=t})),i}captureEvent(t,e,n){if(e&&e.originalException&&(0,r.YO)(e.originalException)){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(E);return}let s=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(t=>{s=t})),s}captureSession(t){if(!this._isEnabled()){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("SDK not enabled, will not capture session.");return}"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,f.CT)(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){let e=this._transport;return e?this._isClientDoneProcessing(t).then(n=>e.flush(t).then(t=>n&&t)):(0,a.WD)(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,t))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(0,p.q4)(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,s){var i;let r=(0,_.HY)(n),o=t.type||"event";(i=n&&n.sdk)&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||i.name,t.sdk.version=t.sdk.version||i.version,t.sdk.integrations=[...t.sdk.integrations||[],...i.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...i.packages||[]]);let a=(0,_.Cd)(t,r,s,e);delete t.sdkProcessingMetadata;let u=[{type:o},t];return(0,_.Jd)(a,[u])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(let t of e.attachments||[])n=(0,_.BO)(n,(0,_.zQ)(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(t){if(this._dsn){let e=function(t,e,n,i){let r=(0,_.HY)(n),o={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!i&&{dsn:(0,s.RA)(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return(0,_.Jd)(o,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){let n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(t,e){let n=!1,s=!1,i=e.exception&&e.exception.values;if(i)for(let t of(s=!0,i)){let e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}let r="ok"===t.status,o=r&&0===t.errors||r&&n;o&&((0,f.CT)(t,{...n&&{status:"crashed"},errors:t.errors||Number(s||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new a.cW(e=>{let n=0,s=setInterval(()=>{0==this._numProcessing?(clearInterval(s),e(!0)):(n+=1,t&&n>=t&&(clearInterval(s),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){let{normalizeDepth:s=3,normalizeMaxBreadth:i=1e3}=this.getOptions(),o={...t,event_id:t.event_id||e.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,u.yW)()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let _=n;e.captureContext&&(_=g.s.clone(_).update(e.captureContext));let l=(0,a.WD)(o);if(_&&_.getAttachments){let t=[...e.attachments||[],..._.getAttachments()];t.length&&(e.attachments=t),l=_.applyToEvent(o,e)}return l.then(t=>"number"==typeof s&&s>0?this._normalizeEvent(t,s,i):t)}_normalizeEvent(t,e,n){if(!t)return null;let s={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:(0,l.Fv)(t.data,e,n)}}))},...t.user&&{user:(0,l.Fv)(t.user,e,n)},...t.contexts&&{contexts:(0,l.Fv)(t.contexts,e,n)},...t.extra&&{extra:(0,l.Fv)(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=(0,l.Fv)(t.contexts.trace.data,e,n))),t.spans&&(s.spans=t.spans.map(t=>(t.data&&(t.data=(0,l.Fv)(t.data,e,n)),t))),s}_applyClientOptions(t){let e=this.getOptions(),{environment:n,release:s,dist:i,maxValueLength:r=250}=e;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==s&&(t.release=s),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,c.$G)(t.message,r));let o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=(0,c.$G)(o.value,r));let a=t.request;a&&a.url&&(a.url=(0,c.$G)(a.url,r))}_applyIntegrationsMetadata(t){let e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then(t=>t.event_id,t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&("log"===t.logLevel?i.kg.log(t.message):i.kg.warn(t))})}_processEvent(t,e,n){let s=this.getOptions(),{sampleRate:i}=s;if(!this._isEnabled())return(0,a.$2)(new d.b("SDK not enabled, will not capture event.","log"));let r=m(t),_=S(t),u=t.type||"error",l=`before send for type \`${u}\``;return _&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error",t),(0,a.$2)(new d.b(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"))):this._prepareEvent(t,e,n).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,t),new d.b("An event processor returned `null`, will not send event.","log");let i=e.data&&!0===e.data.__sentry__;if(i)return n;let r=function(t,e,n){let{beforeSend:s,beforeSendTransaction:i}=t;return S(e)&&s?s(e,n):m(e)&&i?i(e,n):e}(s,n,e);return function(t,e){let n=`${e} must return \`null\` or a valid event.`;if((0,o.J8)(t))return t.then(t=>{if(!(0,o.PO)(t)&&null!==t)throw new d.b(n);return t},t=>{throw new d.b(`${e} rejected with ${t}`)});if(!(0,o.PO)(t)&&null!==t)throw new d.b(n);return t}(r,l)}).then(s=>{if(null===s)throw this.recordDroppedEvent("before_send",t.type||"error",t),new d.b(`${l} returned \`null\`, will not send event.`,"log");let i=n&&n.getSession();!r&&i&&this._updateSessionFromEvent(i,s);let o=s.transaction_info;if(r&&o&&s.transaction!==t.transaction){let t="custom";s.transaction_info={...o,source:t,changes:[...o.changes,{source:t,timestamp:s.timestamp,propagations:o.propagations}]}}return this.sendEvent(s,e),s}).then(null,t=>{if(t instanceof d.b)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new d.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${t}`)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error("Error while sending event:",t)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{let[n,s]=e.split(":");return{reason:n,category:s,quantity:t[e]}})}}function S(t){return void 0===t.type}function m(t){return"transaction"===t.type}},21646:(t,e,n)=>{n.d(e,{$e:()=>g,Tb:()=>i,YA:()=>h,Yr:()=>f,av:()=>p,e:()=>a,eN:()=>o,mG:()=>d,n_:()=>_,rJ:()=>l,sU:()=>c,uT:()=>r,v:()=>u});var s=n(26311);function i(t,e){return(0,s.Gd)().captureException(t,{captureContext:e})}function r(t,e){let n="string"==typeof e?e:void 0,i="string"!=typeof e?{captureContext:e}:void 0;return(0,s.Gd)().captureMessage(t,n,i)}function o(t,e){return(0,s.Gd)().captureEvent(t,e)}function a(t){(0,s.Gd)().configureScope(t)}function _(t){(0,s.Gd)().addBreadcrumb(t)}function u(t,e){(0,s.Gd)().setContext(t,e)}function l(t){(0,s.Gd)().setExtras(t)}function c(t,e){(0,s.Gd)().setExtra(t,e)}function d(t){(0,s.Gd)().setTags(t)}function h(t,e){(0,s.Gd)().setTag(t,e)}function p(t){(0,s.Gd)().setUser(t)}function g(t){(0,s.Gd)().withScope(t)}function f(t,e){return(0,s.Gd)().startTransaction({...t},e)}},26311:(t,e,n)=>{n.d(e,{Gd:()=>h,Xb:()=>l,pj:()=>d,vi:()=>g});var s=n(4458),i=n(50209),r=n(17552),o=n(96588),a=n(9498),_=n(62024),u=n(47670);class l{__init(){this._stack=[{}]}constructor(t,e=new _.s,n=4){this._version=n,l.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=_.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){let e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){let n=this._lastEventId=e&&e.event_id?e.event_id:(0,s.DM)(),i=Error("Sentry syntheticException");return this._withClient((s,r)=>{s.captureException(t,{originalException:t,syntheticException:i,...e,event_id:n},r)}),n}captureMessage(t,e,n){let i=this._lastEventId=n&&n.event_id?n.event_id:(0,s.DM)(),r=Error(t);return this._withClient((s,o)=>{s.captureMessage(t,e,{originalException:t,syntheticException:r,...n,event_id:i},o)}),i}captureEvent(t,e){let n=e&&e.event_id?e.event_id:(0,s.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._withClient((s,i)=>{s.captureEvent(t,{...e,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){let{scope:n,client:s}=this.getStackTop();if(!n||!s)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:a=100}=s.getOptions&&s.getOptions()||{};if(a<=0)return;let _=(0,i.yW)(),u={timestamp:_,...t},l=o?(0,r.Cf)(()=>o(u,e)):u;null!==l&&n.addBreadcrumb(l,a)}setUser(t){let e=this.getScope();e&&e.setUser(t)}setTags(t){let e=this.getScope();e&&e.setTags(t)}setExtras(t){let e=this.getScope();e&&e.setExtras(t)}setTag(t,e){let n=this.getScope();n&&n.setTag(t,e)}setExtra(t,e){let n=this.getScope();n&&n.setExtra(t,e)}setContext(t,e){let n=this.getScope();n&&n.setContext(t,e)}configureScope(t){let{scope:e,client:n}=this.getStackTop();e&&n&&t(e)}run(t){let e=d(this);try{t(this)}finally{d(e)}}getIntegration(t){let e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&(0,u.RJ)(n),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){let{scope:e,client:n}=this.getStackTop(),{release:s,environment:i}=n&&n.getOptions()||{},{userAgent:r}=o.n2.navigator||{},a=(0,u.Hv)({release:s,environment:i,...e&&{user:e.getUser()},...r&&{userAgent:r},...t});if(e){let t=e.getSession&&e.getSession();t&&"ok"===t.status&&(0,u.CT)(t,{status:"exited"}),this.endSession(),e.setSession(a)}return a}shouldSendDefaultPii(){let t=this.getClient(),e=t&&t.getOptions();return!!(e&&e.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:e}=this.getStackTop();if(!t)return;let n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){let{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){let n=c(),s=n.__SENTRY__;if(s&&s.extensions&&"function"==typeof s.extensions[t])return s.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function c(){return o.n2.__SENTRY__=o.n2.__SENTRY__||{extensions:{},hub:void 0},o.n2}function d(t){let e=c(),n=g(e);return f(e,t),n}function h(){let t=c();return((!p(t)||g(t).isOlderThan(4))&&f(t,new l),(0,a.KV)())?function(t){try{let e=c().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return g(t);if(!p(n)||g(n).isOlderThan(4)){let e=g(t).getStackTop();f(n,new l(e.client,_.s.clone(e.scope)))}return g(n)}catch(e){return g(t)}}(t):g(t)}function p(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function g(t){return(0,o.YO)("hub",()=>new l,t)}function f(t,e){if(!t)return!1;let n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}},33378:(t,e,n)=>{n.d(e,{m8:()=>_,q4:()=>u});var s=n(4458),i=n(17552),r=n(26311),o=n(62024);let a=[];function _(t){let e;let n=t.defaultIntegrations||[],i=t.integrations;n.forEach(t=>{t.isDefaultInstance=!0}),e=Array.isArray(i)?[...n,...i]:"function"==typeof i?(0,s.lE)(i(n)):n;let r=function(t){let e={};return t.forEach(t=>{let{name:n}=t,s=e[n];s&&!s.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)}),Object.values(e)}(e),o=r.findIndex(t=>"Debug"===t.name);if(-1!==o){let[t]=r.splice(o,1);r.push(t)}return r}function u(t){let e={};return t.forEach(t=>{e[t.name]=t,-1===a.indexOf(t.name)&&(t.setupOnce(o.c,r.Gd),a.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`Integration installed: ${t.name}`))}),e}},90065:(t,e,n)=>{let s;n.d(e,{c:()=>r});var i=n(90092);class r{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=r.id}setupOnce(){s=Function.prototype.toString,Function.prototype.toString=function(...t){let e=(0,i.HK)(this)||this;return s.apply(e,t)}}}r.__initStatic()},46182:(t,e,n)=>{n.d(e,{QD:()=>a});var s=n(17552),i=n(4458),r=n(92176);let o=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class a{static __initStatic(){this.id="InboundFilters"}__init(){this.name=a.id}constructor(t={}){this._options=t,a.prototype.__init.call(this)}setupOnce(t,e){let n=t=>{let n=e();if(n){let e=n.getIntegration(a);if(e){var u;let a=n.getClient(),l=a?a.getOptions():{},c=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...o],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,l);return(c.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,i.jH)(t)}`),0):(u=c.ignoreErrors)&&u.length&&(function(t){if(t.message)return[t.message];if(t.exception)try{let{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error(`Cannot extract message for event ${(0,i.jH)(t)}`)}return[]})(t).some(t=>(0,r.U0)(t,u))?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,i.jH)(t)}`),0):!function(t,e){if(!e||!e.length)return!1;let n=_(t);return!!n&&(0,r.U0)(n,e)}(t,c.denyUrls)?function(t,e){if(!e||!e.length)return!0;let n=_(t);return!n||(0,r.U0)(n,e)}(t,c.allowUrls)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,i.jH)(t)}.
Url: ${_(t)}`),0):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,i.jH)(t)}.
Url: ${_(t)}`),0))?t:null}}return t};n.id=this.name,t(n)}}function _(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){let n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error(`Cannot extract url for event ${(0,i.jH)(t)}`),null}}a.__initStatic()},41125:(t,e,n)=>{n.r(e),n.d(e,{FunctionToString:()=>s.c,InboundFilters:()=>i.QD});var s=n(90065),i=n(46182)},62024:(t,e,n)=>{n.d(e,{c:()=>d,s:()=>l});var s=n(46975),i=n(50209),r=n(14180),o=n(17552),a=n(4458),_=n(96588),u=n(47670);class l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){let e=new l;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,u.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){let e=t(this);return e instanceof l?e:this}return t instanceof l?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,s.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){let n="number"==typeof e?e:100;if(n<=0)return this;let s={timestamp:(0,i.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,s].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...c(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,i=0){return new r.cW((r,a)=>{let _=t[i];if(null===e||"function"!=typeof _)r(e);else{let u=_({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&_.id&&null===u&&o.kg.log(`Event processor "${_.id}" dropped event`),(0,s.J8)(u)?u.then(e=>this._notifyEventProcessors(t,e,n,i+1).then(r)).then(null,a):this._notifyEventProcessors(t,u,n,i+1).then(r).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,a.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function c(){return(0,_.YO)("globalEventProcessors",()=>[])}function d(t){c().push(t)}},35752:(t,e,n)=>{n.d(e,{M:()=>o});var s=n(17552),i=n(26311),r=n(54128);function o(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?s.kg.enable():r.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let n=(0,i.Gd)(),o=n.getScope();o&&o.update(e.initialScope);let a=new t(e);n.bindClient(a)}},47670:(t,e,n)=>{n.d(e,{CT:()=>a,Hv:()=>o,RJ:()=>_});var s=n(50209),i=n(4458),r=n(90092);function o(t){let e=(0,s.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,r.Jr)({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})};return t&&a(n,t),n}function a(t,e={}){if(!e.user||(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,s.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,i.DM)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{let e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function _(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),a(t,n)}},93154:(t,e,n)=>{n.d(e,{q:()=>u});var s=n(88134),i=n(77029),r=n(75983),o=n(14180),a=n(17552),_=n(72063);function u(t,e,n=(0,s.x)(t.bufferSize||30)){let u={};return{send:function(s){let c=[];if((0,i.gv)(s,(e,n)=>{let s=(0,i.mL)(n);if((0,r.Q)(u,s)){let i=l(e,n);t.recordDroppedEvent("ratelimit_backoff",s,i)}else c.push(e)}),0===c.length)return(0,o.WD)();let d=(0,i.Jd)(s[0],c),h=e=>{(0,i.gv)(d,(n,s)=>{let r=l(n,s);t.recordDroppedEvent(e,(0,i.mL)(s),r)})};return n.add(()=>e({body:(0,i.V$)(d,t.textEncoder)}).then(t=>{void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),u=(0,r.WG)(u,t)},t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.error("Failed while sending event:",t),h("network_error")})).then(t=>t,t=>{if(t instanceof _.b)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.error("Skipped sending event because buffer is full."),h("queue_overflow"),(0,o.WD)();throw t})},flush:t=>n.drain(t)}}function l(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}},14529:(t,e,n)=>{n.d(e,{J:()=>s});let s="7.28.1"}}]);