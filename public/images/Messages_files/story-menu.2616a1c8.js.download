(window.webpackJsonp=window.webpackJsonp||[]).push([[353,0,111,112,151],{198:function(e,t,o){"use strict";o.d(t,"c",(function(){return menu})),o.d(t,"a",(function(){return n.a})),o.d(t,"b",(function(){return dialog}));var n=o(9),r=o(162);const l={},c={};function d(e){let{id:t}=e;l[t]&&(l[t](),delete l[t],delete c[t])}function h(e){return function(e){const t=JSON.parse(JSON.stringify(e)),o=[];for(;t.length;){const e=t.pop();e.items&&e.items.length&&(e.items.forEach((e=>{e.groups&&t.push(...e.groups)})),o.push(...e.items))}return o}(e.groups).map((e=>{const t={};return t.id=e.id,t.isChecked=e.isChecked,t}))}function m(e,t,o,n){const r=[],l=[],d=[...c[t]];for(;d.length;){const e=d.pop();Array.isArray(e[n])&&d.push(...e[n]),l.push(e)}return e.forEach((e=>{const t=l.find((t=>t[o]===e.id));t&&(t.isChecked=Boolean(e.isChecked),r.push(t))})),r}const f={bottomSheet:"BOTTOM_SHEET",dialog:"DIALOG",modal:"MODAL"};function v(e,t,o,n){const r=t.items&&t.items.length?t.items:[];return[{checkableBehavior:r.some((e=>Array.isArray(e[t.nestedKey])))?"none":o,id:e,items:r.map((e=>{const option={id:e[t.itemKey],label:e[t.itemText],icon:e.icon,isChecked:e.isChecked,isEnabled:!e.disabled};if(t.itemSublabel&&(option.subLabel=e[t.itemSublabel]),Array.isArray(e[t.nestedKey])){n===f.bottomSheet&&(option.transitionBehavior="bottom_sheet");const r={items:e[t.nestedKey],itemText:t.itemText,itemKey:t.itemKey,nestedKey:t.nestedKey};t.itemSublabel&&(r.itemSublabel=t.itemSublabel),option.groups=v(e[t.itemKey],r,o,n)}return option}))}]}function y(e){return e.groups.map((t=>{const o={id:t[e.groupKey],label:t[e.groupText],checkableBehavior:t.checkableBehavior||"none",items:t[e.groupItemsKey].map((t=>{const o={id:t[e.itemKey],label:t[e.itemText],icon:t.icon,isChecked:t.isChecked,isEnabled:!t.disabled};return e.itemSublabel&&(o.subLabel=t[e.itemSublabel]),o}))};return t.checkableBehaviorParentId&&(o.checkableBehaviorParentId=t.checkableBehaviorParentId),o}))}const menu={generateId:e=>e||"sheet-id-".concat(Object(r.b)()),open(data){const e=data.id||"sheet-id-".concat(Object(r.b)()),t=!!data.hasFiltering&&data.hasFiltering,o=data.query?data.query:"",w=f[data.type];data.queryType;let k=[];if(k=Array.isArray(data.menuData.groups)?y(data.menuData):v("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none",w),t&&n.a.on("up/menus/v1/".concat(w,"/EVENTS/QUERY_CHANGED"),e,(e=>function(e,t,o,n){const{query:r}=e,{id:l}=e;n&&n(l,r,m(h(e),l,t,o))}(e,data.menuData.itemKey,data.menuData.nestedKey,data.filteringCallback))),n.a.on("up/menus/v1/".concat(w,"/EVENTS/QUERY_SUBMITTED"),e,(e=>function(e,t,o,n){const{query:r}=e,{id:l}=e;n&&n(l,r,m(h(e),l,t,o))}(e,data.menuData.itemKey,data.menuData.nestedKey,data.submitCallback))),n.a.on("up/menus/v1/".concat(w,"/EVENTS/DONE"),e,(e=>function(e,t,o){const{id:n}=e;l[n]&&(l[n](m(h(e),n,t,o)),delete l[n],delete c[n])}(e,data.menuData.itemKey,data.menuData.nestedKey))),n.a.on("up/menus/v1/".concat(w,"/EVENTS/DISMISSED"),e,d),Array.isArray(data.menuData.groups)){let t=[];data.menuData.groups.forEach((e=>{Array.isArray(e[data.menuData.groupItemsKey])&&(t=t.concat(e[data.menuData.groupItemsKey]))})),c[e]=t}else c[e]=data.menuData.items;const _=data.theme?{theme:data.theme}:{};return n.a.postMessage({type:"up/menus/v1/".concat(w,"/PUSH"),payload:{id:e,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:t,query:o,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:k,..._}}),new Promise((o=>{l[e]=r=>{!function(e,t,o){const r=f[e];o&&n.a.off("up/menus/v1/".concat(r,"/EVENTS/QUERY_CHANGED"),t),n.a.off("up/menus/v1/".concat(r,"/EVENTS/DONE"),t),n.a.off("up/menus/v1/".concat(r,"/EVENTS/DISMISSED"),t)}(data.type,e,t),Array.isArray(r)?o(r):o(null)}}))},update(data){const e=f[data.type];let t=[];t=Array.isArray(data.menuData.groups)?y(data.menuData):v("group-id",data.menuData,data.checkableBehavior?data.checkableBehavior:"none",e);const o={id:data.id,title:data.title?data.title:"",isTokenizer:!!data.isTokenizer,hasFiltering:!!data.hasFiltering&&data.hasFiltering,query:data.query,queryPlaceholder:data.queryPlaceholder?data.queryPlaceholder:"",groups:t};if(Array.isArray(data.menuData.groups)){let e=[];data.menuData.groups.forEach((t=>{Array.isArray(t[data.menuData.groupItemsKey])&&(e=e.concat(t[data.menuData.groupItemsKey]))})),c[data.id]=e}else c[data.id]=data.menuData.items;n.a.postMessage({payload:o,type:"up/menus/v1/".concat(e,"/UPDATE")})},close(data){const e=f[data.type],t=void 0===data.isAnimated||!!data.isAnimated,o={id:data.id,isAnimated:t};n.a.postMessage({payload:o,type:"up/menus/v1/".concat(e,"/DISMISS")})}};let w=0;const k={};function _(e){const{id:t}=e;k[t]&&(k[t](e.actionId),delete k[t])}const dialog={open(e){w+=1;const t="dialog-id".concat(w);if(n.a.on("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t,_),!e.message)throw new Error('required parameter "message" is missing');const o=e.theme?{theme:e.theme}:{};return n.a.postMessage({type:"up/dialogs/v1/ALERT",payload:{id:t,title:e.title,message:e.message,isDismissible:!1,actions:e.actions.map((e=>({id:e.id,label:e.label}))).reverse(),...o}}),new Promise((o=>{k[t]=r=>{n.a.off("up/dialogs/v1/ALERT/EVENTS/ACTION_SELECTED",t);let data=null;r&&(data=e.actions.find((e=>e.id===r))),o(data)}}))}}},205:function(e,t,o){"use strict";o.r(t);var n={},r=o(4),component=Object(r.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[t("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M4 4l16 16m0-16L4 20"}})])}),[],!1,null,null,null);t.default=component.exports},2192:function(e,t,o){"use strict";o.r(t),o.d(t,"isCallEndedStory",(function(){return M})),o.d(t,"getStoryActionMenuItems",(function(){return C})),o.d(t,"canDeleteAttachment",(function(){return x})),o.d(t,"getObjectRefMenuItems",(function(){return E}));var n=o(8),r=o(321),l=o(567),c=o(287),d=o(280);const h="edit",m="quote",f="delete",v="reference",y="message-unread",w="exclamation-circle",k={[m]:()=>o.e(178).then(o.bind(null,2163)),[v]:()=>o.e(178).then(o.bind(null,2164)),[f]:()=>o.e(178).then(o.bind(null,2165)),[h]:()=>o.e(178).then(o.bind(null,1462)),[w]:()=>o.e(178).then(o.bind(null,269)),[y]:()=>o.e(178).then(o.bind(null,2166))},_=(e,t)=>t?{icon:e}:{iconImport:k[e]},M=e=>{if((e=>{const t=e.objectReferences&&e.objectReferences[0];return"eo:video"===(null==t?void 0:t.objectType)||"zoom:meeting"===(null==t?void 0:t.objectType)})(e)){const t=e.objectReferences[0];return"ended"===t.metadata.status&&"00:00"!==t.metadata.duration}return!1},C=e=>{var t;let{story:o,isReadOnly:r,isOfCurrentUser:c,isNativeApp:k,editLimitMs:C,eventHandlers:x={},pluginOptions:E=[]}=e;const{onQuoteMessage:T,onCopyToClipboard:S,onDelete:O,onMarkUnread:D,onEdit:A,onReport:I,onReportCancel:F,onSetFavoriteStory:$,onPluginOption:B,...j}=x;if(Object.keys(j).length)throw new Error("Callbacks ".concat(Object.keys(j).join(",")," are not supported"));if(o.deleted||o.blockedTimestamp>=0)return[];const L="eo:post"===o.actionType,N="hr:accept"===o.actionType||"hr:send"===o.actionType,U=(L||N)&&!c,R=((e,t,o)=>e&&t.message&&Object(n.e)()?{id:"copyMessage",..._(v,o),label:o?"thun_MenuLabels_292.Copy":"thun_MenuLabels_292.CopyMessage",callback:()=>e(t)}:null)(S,o,k);if(r)return[R].filter(Boolean);const P=((e,t,o)=>e&&t.message&&!Object(d.c)(t)?{id:"quoteMessage",..._(m,o),label:o?"thun_MenuLabels_292.Quote":"thun_MenuLabels_292.QuoteMessage",callback:()=>e(t)}:null)(T,o,k),z=[];o.message&&z.push(...E.map((option=>((option,e,t,o)=>({id:option.id,label:option.label,icon:e?option.icon:null,iconImport:e?null:option.iconImport,callback:()=>t(o,option)}))(option,k,B,o))));const K=((e,t,o,n)=>e&&t?{id:"markMessageUnread",..._(y,o),label:"thun_MenuLabels_292.MarkAsUnread",callback:()=>e(n)}:null)(D,U,k,o),J=((e,t,o)=>e&&M(t)?{id:"reportCall",..._(w,o),label:"thun_MenuLabels_292.ReportCall",callback:()=>e(t,!0)}:null)(I,o,k),W=((e,t,o,n)=>e&&t&&!o.getIsMarkedAbusiveByMe()?{id:"reportMessage",..._(w,n),label:"thun_MenuLabels_292.ReportMessage",callback:()=>e(o)}:null)(I,U,o,k),H=((e,t,o,n)=>e&&t&&o.getIsMarkedAbusiveByMe()?{id:"cancelReportedMessage",..._(w,n),label:"thun_MenuLabels_292.CancelReport",callback:()=>e(o)}:null)(F,U,o,k);if(!L)return[P,J,R,W,H,K,...z].filter(Boolean);const Q=((e,t,o)=>e?{id:"deleteMessage",..._(f,t),label:t?"thun_MenuLabels_292.Delete":"thun_MenuLabels_292.DeleteMessage",callback:()=>e(o)}:null)(O,k,o),G=((e,t,o,n,r)=>e&&Object(l.a)(t,o,n)?{id:"editMessage",..._(h,r),label:r?"thun_MenuLabels_292.Edit":"thun_MenuLabels_292.EditMessage",expire:t.created+n,callback:()=>e(t)}:null)(A,o,c,C,k);if(c)return[G,Q,P,R,...z].filter(Boolean);const V=null===(t=o.notes)||void 0===t?void 0:t.isFavorite,Y=((e,t,o,n)=>e&&t?{id:"setFavoriteStory",..._(o?"rating-activated":"rating-deactivated",t),label:o?"thun_MenuLabels_292.RemoveFromFavorites":"thun_MenuLabels_292.AddToFavorites",callback:()=>e(n)}:null)($,k,V,o);return[Y,P,W,H,K,R,...z].filter(Boolean)},x=(e,t,o)=>{const n=e.objectReferences.filter((e=>"eo:message"!==e.objectType&&!Object(c.a)(e)));return!(!e.message&&n.length<=1)&&Object(l.a)(e,t,o)},E=e=>{let{story:t,objectRef:o,isOfCurrentUser:n,editLimitMs:l,eventHandlers:d={},ff:h=null}=e;if(Object(c.a)(o))return[];const{onDelete:m}=d,f=[];if("eo:file"===o.objectType){let e=o.metadata.objectUrl;null!=h&&h.newCoverletterEndpoint&&(e=e.replace(/\/messages\/coverletter\/att\/download\//,"/ab/proposals/att/download/"));const c={id:"downloadFile",label:"thun_MenuLabels_292.Download",callback:()=>Object(r.a)(e)};if(f.push(c),x(t,n,l)){const e={id:"deleteFile",label:"thun_MenuLabels_292.Delete",callback:()=>m(t,o.id)};f.push(e)}}return f}},232:function(e,t,o){"use strict";var n=o(235),r={injectStyles:[o.n(n).a],name:"UpTransition",props:{name:{type:String,required:!0}},computed:{transitionName(){return"air3-transition-".concat(this.name)}}},l=o(4),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",e._g(e._b({attrs:{name:e.transitionName}},"transition",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},235:function(e,t,o){var content=o(236);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("04892c45",content,!0,{sourceMap:!1,manualInject:!0})},236:function(e,t,o){var n=o(6)(!1);n.push([e.i,"@media (prefers-reduced-motion:reduce){[class*=air3-transition]{animation:none!important;transition:none!important}}",""]),e.exports=n},241:function(e,t,o){"use strict";var n=o(232),r=o(257),l={name:"UpTransitionIntro",injectStyles:[o.n(r).a],components:{UpTransition:n.a}},c=o(4),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("UpTransition",e._g(e._b({attrs:{name:"intro"}},"UpTransition",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},257:function(e,t,o){var content=o(258);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("f5f28d8e",content,!0,{sourceMap:!1,manualInject:!0})},258:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-transition-intro-enter-active,.air3-transition-intro-leave-active{--animation-duration:0.5s;--animation-timing-function:cubic-bezier(0.7,0,0.1,1);--translate-x-start:-20px;--translate-x-end:0;--translate-y-start:-20px;--translate-y-end:0;--scale-x-start:1;--scale-x-end:1;--scale-y-start:1;--scale-y-end:1;--opacity-start:0;--opacity-end:1;--animation-delay:0s;--transition-type:air3-transition-intro;animation:var(--transition-type) var(--animation-duration);animation-timing-function:var(--animation-timing-function);animation-delay:var(--animation-delay)}.air3-transition-intro-leave-active{animation-direction:reverse}@keyframes air3-transition-intro{0%{transform:translate(var(--translate-x-start),var(--translate-y-start)) scale(var(--scale-x-start),var(--scale-y-start));opacity:var(--opacity-start)}to{transform:translate(var(--translate-x-end),var(--translate-y-end)) scale(var(--scale-x-end),var(--scale-y-end));opacity:var(--opacity-end)}}@keyframes air3-fade-in-transition{0%{opacity:var(--opacity-start)}20%{opacity:var(--opacity-start)}to{opacity:var(--opacity-start)}}",""]),e.exports=n},294:function(e,t,o){"use strict";var n=o(34);class r{constructor(e){if(this.instance)return this.instance;this.instance=this,this.context=e||window,this.document=this.context.document,this.navigator=this.context.navigator,this.enabledTimesCounter=0;const t=this.document.createElement("style");this.document.head.appendChild(t),t.innerHTML="\n  .prevent-body-scroll {\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n  }\n\n  .prevent-body-scroll.prevent-body-scroll-ios body {\n    overflow-x: hidden;\n    overflow-y: auto;\n    position: relative;\n  }\n"}enable(){Object(n.b)(this.context.navigator.userAgent)&&this.document.documentElement.classList.add("prevent-body-scroll-ios"),this.enabledTimesCounter+=1,this.scrollTop=this.document.body.scrollTop||this.document.documentElement.scrollTop,this.document.documentElement.classList.add("prevent-body-scroll"),this.document.body.scrollTop=this.scrollTop,this.document.documentElement.scrollTop=this.scrollTop}disable(){this.enabledTimesCounter-=1,this.enabledTimesCounter>0||(Object(n.b)(this.context.navigator.userAgent)&&this.document.documentElement.classList.remove("prevent-body-scroll-ios"),this.document.documentElement.classList.remove("prevent-body-scroll"),void 0!==this.scrollTop&&setTimeout((()=>{this.document.body.scrollTop=this.scrollTop,this.document.documentElement.scrollTop=this.scrollTop}),100))}static getInstance(e){return this.instance||(this.instance=new r(e)),this.instance}}t.a=e=>r.getInstance(e)},353:function(e,t,o){"use strict";var n=o(361),r=o.n(n),l=o(157),c=o(205),d=o(241),h={"en-gb":o(363),en:o(364),is:o(365)};function m(element,e,t){element&&e&&t&&element.addEventListener(e,t,!1)}function f(element,e,t){element&&e&&element.removeEventListener(e,t,!1)}let v=1;var y={injectStyles:[r.a],name:"UpCPopper",components:{UpCIcon:l.default,UpTransitionIntro:d.a},i18n:{messages:h},props:{aria:{type:[String,Boolean],default:!0},tagName:{type:String,default:"span"},customClass:{type:String,default:""},target:{type:String,default:null},trigger:{type:String,default:"hover",validator:e=>["none","click","hover","focus","blur"].indexOf(e)>-1},autoClose:{type:Boolean,default:!0},delayOnMouseOver:{type:Number,default:10},delayOnMouseOut:{type:Number,default:200},disabled:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},visibleArrow:{type:Boolean,default:!0},closeButton:{type:Boolean,default:!1},size:{type:String,default:"md",validator:e=>["sm","md","lg"].indexOf(e)>-1},placement:{type:String,default:"top",validator:e=>["top","bottom","left","right","top-start","top-end","bottom-start","bottom-end","left-start","left-end","right-start","right-end"].indexOf(e)>-1}},data:()=>({closeIcon:c.default,popperJSLoaded:!1,referenceElm:null,popperJS:null,showPopper:!1,currentPlacement:"",popperOptions:{},popperID:"popper_".concat(v++),isClosing:!1}),computed:{isShown(){return!this.disabled&&this.showPopper&&this.popperJSLoaded},containerClasses(){return{"air3-popper":!0,[this.$options.containerClass]:!!this.$options.containerClass,[this.customClass]:!0}},classes:function(){return{["size-".concat(this.size)]:!0,"air3-popper-container":!0}}},watch:{showPopper(e){this.referenceElm.hasAttribute("aria-expanded")&&this.referenceElm.setAttribute("aria-expanded",e),this.popperJS&&this.popperJS.setOptions((t=>({...t,modifiers:[...t.modifiers,{name:"eventListeners",enabled:e}]}))),e?(this.$emit("open",this),this.updatePopper()):this.$emit("close",this)},disabled(e){e&&(this.showPopper=!1)}},mounted(){switch(this.appendedToBody=!1,this.popperOptions={...this.popperOptions,placement:this.placement},this.referenceElm=this.target?document.querySelector(this.target):this.$refs.reference.firstElementChild,this.popper=this.$refs.popperLayout,this.setA11YAttributes(),m(document,"visibilitychange",(()=>{"hidden"===document.visibilityState&&this.referenceElm===document.activeElement&&(document.activeElement.blur(),this.onBlur())})),this.trigger){case"click":m(this.referenceElm,"click",this.toggle),m(document,"click",this.handleDocumentClick);break;case"hover":m(this.referenceElm,"mouseover",this.onMouseOver),m(this.referenceElm,"mouseout",this.onMouseOut),m(this.popper,"mouseover",this.onMouseOver),m(this.popper,"mouseout",this.onMouseOut),m(this.referenceElm,"focus",this.onFocus),m(this.referenceElm,"blur",this.onBlur);break;case"focus":m(this.referenceElm,"focus",this.onFocus),m(this.referenceElm,"blur",this.onBlur);break;case"blur":m(this.referenceElm,"blur",this.open),m(this.referenceElm,"focus",this.close)}"none"!==this.trigger&&m(this.referenceElm,"keydown",this.handleKeydown)},destroyed(){this.destroyPopper()},methods:{toggle(){clearTimeout(this.timer),this.showPopper=!this.showPopper},open(){this.disabled||(clearTimeout(this.timer),this.showPopper=!0)},close(e){clearTimeout(this.timer),e&&setTimeout((()=>{this.isClosing=!0,this.referenceElm.focus()}),100),this.showPopper=!1},onFocusOut(e){e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&this.close()},doDestroy(){this.popperJS&&(this.popperJS.destroy(),this.popperJS=null),this.appendedToBody&&(this.appendedToBody=!1,document.body.removeChild(this.popper.parentElement)),this.$emit("destroyed")},async createPopperIns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createPopper:t}=await o.e(318).then(o.bind(null,2209));this.popperJSLoaded=!0,await this.$nextTick(),this.appendToBody&&!this.appendedToBody&&(this.appendedToBody=!0,document.body.appendChild(this.popper.parentElement)),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),this.popperOptions.onFirstUpdate=async()=>{this.$emit("created",this)},this.popperJS=t(this.referenceElm,this.popper,this.popperOptions),e.open&&(this.showPopper=!0)},destroyPopper(){clearTimeout(this.timer),f(this.referenceElm,"click",this.toggle),f(this.referenceElm,"focus",this.onFocus),f(this.referenceElm,"focus",this.close),f(this.referenceElm,"blur",this.open),f(this.referenceElm,"blur",this.onBlur),f(this.referenceElm,"mouseout",this.onMouseOut),f(this.referenceElm,"mouseover",this.onMouseOver),f(this.popper,"mouseout",this.onMouseOut),f(this.popper,"mouseover",this.onMouseOver),f(document,"click",this.handleDocumentClick),f(this.referenceElm,"keydown",this.handleKeydown),this.showPopper=!1,this.doDestroy()},updatePopper(){this.popperJS?this.popperJS.update():this.createPopperIns()},onMouseOver(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopper=!0}),this.delayOnMouseOver+this.delayOnMouseOut)},onMouseOut(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopper=!1}),this.delayOnMouseOut)},handleDocumentClick(e){(this.disabled||this.autoClose)&&this.$el&&this.referenceElm&&!this.elementContains(this.$el,e.target)&&!this.elementContains(this.referenceElm,e.target)&&this.popper&&!this.elementContains(this.popper,e.target)&&this.close()},handleKeydown(e){27===e.keyCode?this.close(!0):32!==e.keyCode&&13!==e.keyCode||"click"===this.trigger&&(e.preventDefault(),this.toggle())},elementContains:(e,t)=>!(!e||"function"!=typeof e.contains)&&e.contains(t),onFocus(){this.isClosing?this.isClosing=!1:this.open()},onBlur(){setTimeout((()=>{const e=document.activeElement===document.body?null:document.activeElement;!this.elementContains(this.$refs.popper,e)&&this.showPopper&&this.close()}),0)},setA11YAttributes(){if(!this.referenceElm)return;const e=["INPUT","TEXTAREA"].includes(this.referenceElm.tagName)||"describedby"===this.aria,t="labelledby"===this.aria;if(this.aria){let o;o=e?"describedby":t?"labelledby":"expanded",this.referenceElm.setAttribute("aria-".concat(o),t||e?this.popperID:this.isShown)}["INPUT","BUTTON","SELECT","TEXTAREA","A"].includes(this.referenceElm.tagName)||"none"===this.trigger||(this.referenceElm.tabIndex=0,this.referenceElm.classList.add("air3-popper-trigger"),this.referenceElm.getAttribute("role")||this.referenceElm.setAttribute("role","button"))}}},w=y,k=o(4),component=Object(k.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(e.tagName,{tag:"component",attrs:{"data-ev-sublocation":"!popper"}},[e.$slots.reference?o("span",{ref:"reference"},[e._t("reference")],2):e._e(),e._v(" "),o("UpTransitionIntro",{on:{"after-leave":e.doDestroy}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isShown,expression:"isShown"}],ref:"popper",class:[e.containerClasses,{"air3-popover-appended-to-body":e.appendToBody}],attrs:{id:e.popperID,"data-show":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close.apply(null,arguments)},focusout:e.onFocusOut}},[o("div",{ref:"popperLayout",class:e.classes},[o("div",{staticClass:"air3-popper-wrapper"},[o("div",{staticClass:"air3-popper-inner"},[e.closeButton&&!e.disabled?o("button",{staticClass:"air3-popper-close",attrs:{type:"button","data-test":"popper-close-btn","data-ev-label":"popper_close"},on:{click:function(t){return e.close(!0)}}},[o("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("vc_CloseTheTooltip_19")))]),e._v(" "),o("UpCIcon",{attrs:{icon:e.closeIcon}})],1):e._e(),e._v(" "),e.disabled?e._e():o("div",{staticClass:"air3-popper-content"},[e._t("default")],2),e._v(" "),e.visibleArrow?o("div",{staticClass:"air3-popper-arrow",attrs:{"data-popper-arrow":"","data-test":"popper-arrow"}}):e._e()])])])])])],1)}),[],!1,null,null,null);t.a=component.exports},361:function(e,t,o){var content=o(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("8962b824",content,!0,{sourceMap:!1,manualInject:!0})},362:function(e,t,o){var n=o(6)(!1);n.push([e.i,'.air3-popper-wrapper{background-color:var(--popper-bg);color:var(--popper-text);border:0;border:var(--hc-border,0);border-radius:var(--popper-radius);box-shadow:var(--shadow-popup)}@media (min-width:700px){.air3-popper-wrapper{max-width:var(--popper-max-width)}}.air3-popper.air3-transition-intro-leave-active .air3-popper-wrapper{animation-direction:reverse}.air3-popper.air3-transition-intro-enter-active,.air3-popper.air3-transition-intro-leave-active{animation:none;animation-duration:var(--animation-duration)}.air3-popper.air3-transition-intro-enter-active .air3-popper-wrapper,.air3-popper.air3-transition-intro-leave-active .air3-popper-wrapper{animation-duration:var(--animation-duration);animation-timing-function:var(--animation-timing-function);animation-fill-mode:both}.air3-popper.air3-transition-intro-enter-active [data-popper-placement] .air3-popper-wrapper,.air3-popper.air3-transition-intro-leave-active [data-popper-placement] .air3-popper-wrapper{animation-name:air3-transition-intro}.air3-popper.air3-transition-intro-enter-active [data-popper-placement=top],.air3-popper.air3-transition-intro-leave-active [data-popper-placement=top]{--translate-x-start:0;--translate-y-start:-20px}.air3-popper.air3-transition-intro-enter-active [data-popper-placement=bottom],.air3-popper.air3-transition-intro-leave-active [data-popper-placement=bottom]{--translate-x-start:0;--translate-y-start:20px}.air3-popper.air3-transition-intro-enter-active [data-popper-placement=left],.air3-popper.air3-transition-intro-leave-active [data-popper-placement=left]{--translate-x-start:-20px;--translate-y-start:0}.air3-popper.air3-transition-intro-enter-active [data-popper-placement=right],.air3-popper.air3-transition-intro-leave-active [data-popper-placement=right]{--translate-x-start:20px;--translate-y-start:0}.air3-popper-arrow{visibility:hidden}.air3-popper-arrow,.air3-popper-arrow:before{position:absolute;width:var(--popper-arrow-size);height:var(--popper-arrow-size);background:var(--popper-arrow-bg)}.air3-popper-arrow:before{visibility:visible;content:"";transform:rotate(45deg);box-shadow:-2px 2px 3px rgba(var(--shadow-color),.1)}@media (forced-colors:active){.air3-popper-arrow{display:none}}.air3-popper-container{--popper-max-width:295px;--popper-padding:var(--ws-6x);--popper-bg:var(--bg-inverse);--popper-text:inherit;--popper-shadow:var(--shadow-popup);--popper-radius:var(--radius-8x);--popper-container-zindex:var(--zindex-popover);--popper-container-font-weight:var(--font-weight-body);--popper-arrow-size:15px;--popper-arrow-bg:var(--bg-inverse);--popper-close-icon-zindex:var(--zindex-navbar);--popper-close-icon-color:var(--text-on-btn-close);--popper-inner-zindex:2;--popper-inner-bg:var(--popper-bg);--popper-content-font-size:inherit;--popper-content-line-height:inherit;position:absolute;z-index:var(--popper-container-zindex);display:inline-block;text-align:left;background-clip:padding-box;font-weight:var(--popper-container-font-weight);white-space:normal}.air3-popper-container[data-popper-placement^=top] .air3-popper-arrow{bottom:calc(var(--popper-arrow-size)/-2)}.air3-popper-container[data-popper-placement^=top] .air3-popper-arrow:before{transform:rotate(315deg)}.air3-popper-container[data-popper-placement^=bottom] .air3-popper-arrow{top:calc(var(--popper-arrow-size)/-2)}.air3-popper-container[data-popper-placement^=bottom] .air3-popper-arrow:before{transform:rotate(135deg)}.air3-popper-container[data-popper-placement^=right] .air3-popper-arrow{left:calc(var(--popper-arrow-size)/-2)}.air3-popper-container[data-popper-placement^=right] .air3-popper-arrow:before{transform:rotate(45deg)}.air3-popper-container[data-popper-placement^=left] .air3-popper-arrow{right:calc(var(--popper-arrow-size)/-2)}.air3-popper-container[data-popper-placement^=left] .air3-popper-arrow:before{transform:rotate(225deg)}.air3-popper-inner{z-index:var(--popper-inner-zindex);position:relative;background-color:var(--popper-inner-bg);border-radius:inherit}.air3-popper-close{background:transparent;border:0;margin:var(--ws-2x);padding:var(--ws-2x);color:var(--popper-close-icon-color);z-index:var(--popper-close-icon-zindex);position:relative;float:right;top:6px;right:6px}.air3-popper-content{padding:var(--popper-padding);font-size:var(--popper-content-font-size);line-height:var(--popper-content-line-height);border-radius:inherit}.air3-popper-trigger{cursor:pointer}.air3-popper-container[data-popper-reference-hidden]{display:none;pointer-events:none}',""]),e.exports=n},363:function(e){e.exports=JSON.parse('{"vc_CloseTheTooltip_19":"Close the tooltip"}')},364:function(e){e.exports=JSON.parse('{"vc_CloseTheTooltip_19":"Close the tooltip"}')},365:function(e){e.exports=JSON.parse('{"vc_CloseTheTooltip_19":"[猫Close the tooltip猫]"}')},366:function(e,t,o){"use strict";t.a={data:()=>({focusElementWrapper:null,firstFocusable:null,lastFocusable:null,focusObserver:null}),methods:{bindFocus(e,t){if(this.focusElementWrapper=e,this.focusElementWrapper&&(this.trapFocus(),this.firstFocusable)){this.focusObserver=new MutationObserver(this.onDomMutation),this.focusObserver.observe(this.focusElementWrapper,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0});const e=document.getElementById(t);e?e.focus():this.focusElementWrapper.focus()}},unbindFocus(){this.firstFocusable&&this.focusObserver.disconnect&&this.focusObserver.disconnect()},async onDomMutation(){this.removeFocusTrap(),await this.$nextTick(),this.trapFocus()},tabKeyListener(e){e.shiftKey&&e.target===this.focusElementWrapper&&(e.preventDefault(),this.keydownFirst(e))},keydownFirst(e){const{keyCode:t}=e;9===t&&e.shiftKey&&(this.lastFocusable.focus(),e.preventDefault())},keydownLast(e){const{keyCode:t}=e;9!==t||e.shiftKey||(this.firstFocusable.focus(),e.preventDefault())},trapFocus(){if(!this.focusElementWrapper)return;const e=[...this.focusElementWrapper.querySelectorAll("a[href], area[href], input:not(:disabled), button:not(:disabled), select:not(:disabled),\n          textarea:not(:disabled), audio[controls], video[controls], iframe, object,\n          embed, [tabindex], [contenteditable]")].filter((e=>e.matches("".concat(e.tagName,':not([tabindex^="-"])'))&&null!==e.offsetParent&&("radio"!==e.type||"radio"===e.type&&this.isTabbableRadio(e))));e.length||e.push(this.focusElementWrapper),this.firstFocusable=e[0],this.lastFocusable=e[e.length-1],this.firstFocusable.addEventListener("keydown",this.keydownFirst),this.lastFocusable.addEventListener("keydown",this.keydownLast)},isTabbableRadio(e){if(!e.name)return!0;const t=[...(e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'.concat(e.name,'"]'))].filter((t=>t.form===e.form)),o=t.find((e=>e.checked));return o?o===e:t[0]===e},removeFocusTrap(){this.firstFocusable&&this.firstFocusable.removeEventListener("keydown",this.keydownFirst),this.lastFocusable&&this.lastFocusable.removeEventListener("keydown",this.keydownLast)}}}},388:function(e,t,o){var content=o(389);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("291d9bc5",content,!0,{sourceMap:!1,manualInject:!0})},389:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-popover>.air3-popper-container{width:calc(100% - var(--ws-mobile-x)*2)}@media (min-width:700px){.air3-popover>.air3-popper-container{min-width:var(--popper-max-width);max-width:var(--popper-max-width);width:auto}.air3-popover>.air3-popper-container.size-lg{--popper-max-width:426px}.air3-popover>.air3-popper-container.size-sm{--popper-max-width:210px}}.air3-is-fullscreen-open .air3-popover-appended-to-body>.air3-popper-container,.prevent-body-scroll .air3-popover-appended-to-body>.air3-popper-container{z-index:var(--zindex-modal-popover)}",""]),e.exports=n},390:function(e,t,o){var content=o(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("75cd1c5c",content,!0,{sourceMap:!1,manualInject:!0})},391:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-dialog{--dialog-width:calc(100% - var(--dialog-padding)*2);--dialog-max-width:326px;--dialog-padding:var(--ws-6x);--dialog-border:0;--dialog-radius:var(--radius-4x);--dialog-bg:var(--bg-inverse);--dialog-font-weight:var(--font-weight-body);--dialog-message-text:var(--text-light-on-inverse);--dialog-message-font-size:var(--font-size-base-sm);--dialog-message-line-height:var(--line-height-base-sm);display:block;position:fixed;left:0;right:0;top:50%;transform:translateY(-50%);margin:0 auto;width:var(--dialog-width);max-width:var(--dialog-max-width);padding:var(--dialog-padding);border:var(--dialog-border);border-radius:var(--dialog-radius);background:var(--dialog-bg);font-weight:var(--dialog-font-weight);color:inherit}.air3-dialog+.backdrop{opacity:0;position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--bg-backdrop)}@media (forced-colors:active){.air3-dialog+.backdrop{background:highlight}}.air3-dialog[open]::backdrop{background-color:#001e00;opacity:.6;animation:fade-in-backdrop .2s ease-out;animation:var(--reduced-motion,fade-in-backdrop .2s ease-out)}@media (forced-colors:active){.air3-dialog[open]::backdrop{background:highlight}}.air3-dialog[open]+.backdrop{animation:fade-in-backdrop .2s ease-out;animation:var(--reduced-motion,fade-in-backdrop .2s ease-out);opacity:var(--opacity-backdrop)}.air3-dialog.air3-dialog-closing::backdrop{animation:fade-out-backdrop .2s ease-out;animation:var(--reduced-motion,fade-out-backdrop .2s ease-out)}.air3-dialog:not([open]){display:none}.air3-dialog .air3-dialog-actions-group{margin-top:var(--ws-6x);text-align:right}.air3-dialog .air3-dialog-actions-group .air3-btn-secondary{margin-right:var(--ws-4x)}.air3-dialog .air3-dialog-title+.air3-dialog-message{margin-top:var(--ws-4x);color:var(--dialog-message-text);font-size:var(--dialog-message-font-size);line-height:var(--dialog-message-line-height)}.air3-dialog.air3-dialog-closing+.backdrop{animation:fade-out-backdrop .2s ease-out;animation:var(--reduced-motion,fade-out-backdrop .2s ease-out)}@keyframes fade-in-backdrop{0%{opacity:0}to{opacity:.6}}@keyframes fade-out-backdrop{to{opacity:0}}html[theme=dark] .air3-dialog[open]::backdrop{background:#fff}",""]),e.exports=n},392:function(e,t,o){var content=o(393);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("b82c1536",content,!0,{sourceMap:!1,manualInject:!0})},393:function(e,t,o){var n=o(6)(!1);n.push([e.i,".air3-transition-motion-enter-active,.air3-transition-motion-leave-active{--animation-duration:0.2s;--animation-timing-function:cubic-bezier(0.9,0,1.1,1);--translate-y-start:65px;--translate-y-end:-50%;--scale-x-start:0.95;--scale-x-end:1;--scale-y-start:0.95;--scale-y-end:1;--opacity-start:0;--opacity-end:1;--animation-delay:0s;animation:air3-transition-motion var(--animation-duration);animation-timing-function:var(--animation-timing-function);animation-delay:var(--animation-delay);overflow:hidden}.air3-transition-motion-leave-active{animation-direction:reverse}@keyframes air3-transition-motion{0%{transform:translateY(var(--translate-y-start)) scale(var(--scale-x-start),var(--scale-y-start));opacity:var(--opacity-start)}to{transform:translateY(var(--translate-y-end)) scale(var(--scale-x-end),var(--scale-y-end));opacity:var(--opacity-end)}}",""]),e.exports=n},414:function(e,t,o){"use strict";o.r(t);var n=o(388),r=o.n(n),l=o(353),c={injectStyles:[r.a],name:"UpCPopover",extends:l.a,containerClass:"air3-popover",props:{closeButton:{type:Boolean,default:!0},fallbackPlacements:{type:Array,default:()=>[]},offset:{type:Array,default:()=>[0,20]}},beforeMount(){const e=[{name:"preventOverflow",options:{padding:0,escapeWithReference:!0}},{name:"offset",options:{offset:this.offset}}];this.fallbackPlacements.length&&e.push({name:"flip",options:{fallbackPlacements:this.fallbackPlacements}}),this.popperOptions=Object.assign(this.popperOptions,{modifiers:e})}},d=o(4),component=Object(d.a)(c,undefined,undefined,!1,null,null,null);t.default=component.exports},432:function(e,t,o){"use strict";o.r(t);var dialog=o(390),n=o.n(dialog),r=o(294),l=o(29),c=o(198),d=o(164),h=o.n(d),m=o(232),f=o(392),v={name:"UpTransitionMotion",injectStyles:[o.n(f).a],components:{UpTransition:m.a}},y=o(4),w=Object(y.a)(v,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("UpTransition",e._g(e._b({attrs:{name:"motion"}},"UpTransition",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null).exports,k=o(162),_=o(366);const M=async e=>{if(function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).HTMLDialogElement}())return;(await o.e(152).then(o.bind(null,2177))).default.registerDialog(e)};var C={name:"UpCDialog",components:{UpTransitionMotion:w},injectStyles:[n.a,h.a],mixins:[_.a],props:{title:{type:String,default:null,required:!0},message:{type:String,default:null},actions:{type:Array,default:()=>[]}},emits:["close"],data:()=>({isNativeApp:Object(l.a)(),openNativeDialog:null,focusOnCloseElement:null,preventBodyScroll:null,isOpen:!1,id:null}),beforeMount(){this.preventBodyScroll=Object(r.a)(window)},mounted(){this.id=Object(k.a)().toString()},destroyed(){this.isOpen&&this.preventBodyScroll.disable()},methods:{async openDialog(){if(this.focusOnCloseElement=document.activeElement===document.body?null:document.activeElement,this.isNativeApp&&null===this.openNativeDialog&&(this.openNativeDialog=await c.a.isNativeFeatureAvailable("dialogs","alert")),this.openNativeDialog)this.setActionId(),await c.b.open({title:this.title,message:this.message||" ",actions:this.actions,theme:"air-3.0"}).then((e=>{e&&e.btnClick&&e.btnClick()}));else{1===this.actions.length&&(this.actions[0].kind="primary");const e=this.$refs.dialog;await M(e),e.showModal(),this.isOpen=!0,this.preventBodyScroll.enable(),this.$nextTick((()=>{this.bindFocus(this.$refs.dialog)}))}},afterLeave(){this.close()},startClosing(){this.isOpen=!1},close(){this.$refs.dialog&&this.$refs.dialog.open?this.$refs.dialog.close():(this.unbindFocus(),this.focusOnCloseElement&&this.focusOnCloseElement.focus(),this.preventBodyScroll.disable(),this.$emit("close"))},onBtnClick(e){this.startClosing(),e.btnClick&&this.$nextTick((()=>{e.btnClick()}))},setActionId(){this.actions.forEach((e=>{e.id||(e.id="".concat(e.label,"_").concat(Math.random().toString(36).substr(2,9)))}))}}},x=Object(y.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("UpTransitionMotion",{attrs:{"data-ev-sublocation":"!dialog"},on:{"after-leave":e.afterLeave}},[e.openNativeDialog?e._e():o("dialog",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"dialog",class:["air3-dialog",{"air3-dialog-closing":!e.isOpen}],attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title-"+e.id,tabindex:"-1"},on:{close:e.close,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.startClosing.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.tabKeyListener.apply(null,arguments)}]}},[o("h2",{staticClass:"h5 air3-dialog-title",attrs:{id:"dialog-title-"+e.id}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.isNativeApp&&e.message,expression:"isNativeApp && message"}],staticClass:"air3-dialog-message",attrs:{"data-test":"dialog-message"}},[e._v("\n      "+e._s(e.message)+"\n    ")]),e._v(" "),e._t("default"),e._v(" "),o("div",{staticClass:"air3-dialog-actions-group",attrs:{role:"group"}},e._l(e.actions,(function(t){return o("button",{key:t.id,staticClass:"air3-btn",class:["air3-btn-"+t.kind],attrs:{type:"button"},on:{click:function(o){return e.onBtnClick(t)}}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),0)],2)])}),[],!1,null,null,null);t.default=x.exports},456:function(e,t,o){var content=o(633);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("c00d27ea",content,!0,{sourceMap:!1,manualInject:!0})},457:function(e,t,o){var content=o(635);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("0d0b6825",content,!0,{sourceMap:!1,manualInject:!0})},497:function(e,t,o){"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o.d(t,"a",(function(){return n}))},498:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=0;function r(e){return"__private_"+n+++"_"+e}},618:function(e,t,o){"use strict";o.r(t);var n={name:"UpCDropdownMenuSecondary",components:{UpCMenu:()=>o.e(34).then(o.bind(null,696)),UpCDropdownMobileHeader:()=>o.e(33).then(o.bind(null,1457)),UpCGroup:()=>o.e(173).then(o.bind(null,1464))},props:{items:{type:Array,default:()=>[]},sortMenuItems:{type:Boolean,default:!1},title:{type:String,default:null},align:{type:String,default:null},groups:{type:Array,default:()=>[]},itemLink:{type:String,default:""},itemKey:{type:String,default:""},itemText:{type:String,default:""},itemSublabel:{type:String,default:""},groupKey:{type:String,default:"id"},groupText:{type:String,default:"label"},groupItemsKey:{type:String,default:"items"},groupDividers:{type:Boolean,default:!1},checkableBehavior:{type:String,default:"none"},isMobile:{type:Boolean,default:!1},ariaLabelledby:{type:String,default:null},menuClass:{type:String,default:""},horizontalMenu:{type:Boolean,default:!1},id:{type:String,default:null}},data:()=>({isOpen:!0,UpCBottomSheet:()=>o.e(106).then(o.bind(null,2162)).then((e=>e.default||e)),UpCDropdownMenuSecondary:()=>o.e(108).then(o.bind(null,2337)).then((e=>e.default||e)),openedMenus:[]}),computed:{component(){return this.isMobile?this.UpCBottomSheet:this.UpCDropdownMenuSecondary}},methods:{load(){return this.component()},setGroupMenuFocus(e){if(35===e)this.onFocusGroupEnd();else if(40===e||9===e){var t;const o=this.getActiveGroupIndex();null===(t=this.$refs["group-".concat(o)])||void 0===t||t[0].setMenuFocus(e)}else this.onFocusGroupHome()},setMenuFocus(e){if(this.groups.length)setTimeout((()=>{this.setGroupMenuFocus(e)}),150);else switch(e){case 40:this.$refs.menu.onMenuFocus();break;case 36:this.$refs.menu.onHomeOption();break;case 35:this.$refs.menu.onEndOption()}},getActiveGroupIndex(){let e=0;for(let i=this.groups.length-1;i>=0;i--)if(Array.isArray(this.groups[i][this.groupItemsKey])){if(this.groups[i][this.groupItemsKey].some((e=>e.isChecked))){e=i;break}}return e},onFocusGroup(e,t,o){t&&e>0?(this.$refs["group-".concat(e-1)][0].setMenuFocus(35),o&&o.preventDefault()):!t&&e<this.groups.length-1?(this.$refs["group-".concat(e+1)][0].setMenuFocus(36),o&&o.preventDefault()):t||e!==this.groups.length-1||o?!t&&e===this.groups.length-1&&o&&this.onClose():this.$refs["group-".concat(e)][0].setMenuFocus(35)},onFocusGroupHome(){this.$refs["group-0"][0].setMenuFocus(36)},onFocusGroupEnd(){const e=this.groups.length-1;this.$refs["group-".concat(e)][0].setMenuFocus(35)},onClose(){this.$emit("close")},close(){this.isOpen=!1},resetMenuIndex(){this.groups.length?this.groups.forEach(((e,t)=>{this.$refs["group-".concat(t)][0].resetIndex()})):this.$refs.menu.resetIndex()},onSelect(e){const t="multiple"!==this.checkableBehavior;t&&this.close(),this.$emit("select",e,t)},groupSelect(e){const t="multiple"!==e.checkableBehavior;t&&this.close(),this.$emit("groupSelect",e,t)}}},r=n,l=o(4),component=Object(l.a)(r,(function(){var e,t,o=this,n=o.$createElement,r=o._self._c||n;return r(o.component,{tag:"component",attrs:{open:o.isOpen,align:o.align,classes:{"air3-dropdown-menu":o.isMobile},"aria-labelledby":o.isMobile?"dropdown-menu-title-"+o.id:void 0},on:{close:o.onClose,"bottom-sheet-close":o.close,"bottom-sheet-closed":o.onClose}},[o.isMobile&&o.title?r("div",{staticClass:"air3-dropdown-header-container"},[r("UpCDropdownMobileHeader",{attrs:{id:"dropdown-menu-title-"+o.id,title:o.title},on:{close:o.close}})],1):o._e(),o._v(" "),o.items&&!o.groups.length?r("UpCMenu",{ref:"menu",class:(e={},e[o.menuClass]=!!o.menuClass,e),attrs:{id:o.id,"aria-labelledby":o.ariaLabelledby,items:o.items,"sort-menu-items":o.sortMenuItems,"item-key":o.itemKey,"item-link":o.itemLink,"item-text":o.itemText,"item-sublabel":o.itemSublabel,"checkable-behavior":o.checkableBehavior,"horizontal-menu":o.horizontalMenu,"is-mobile":o.isMobile},on:{select:o.onSelect,close:o.onClose},scopedSlots:o._u([o.$slots["menu-decoration"]?{key:"menu-decoration",fn:function(){return[o._t("menu-decoration")]},proxy:!0}:null],null,!0)}):o._e(),o._v(" "),o.groups&&o.groups.length?r("div",{staticClass:"air3-group-container",class:(t={},t[o.menuClass]=!!o.menuClass,t)},o._l(o.groups,(function(e,t){return r("UpCGroup",{key:e[o.groupKey],ref:"group-"+t,refInFor:!0,attrs:{id:e[o.groupKey],"aria-labelledby":o.ariaLabelledby,index:t,items:e[o.groupItemsKey],title:e[o.groupText],"item-key":o.itemKey,"item-text":o.itemText,"item-sublabel":o.itemSublabel,"item-link":o.itemLink,"checkable-behavior":e.checkableBehavior,"is-mobile":o.isMobile,"group-dividers":o.groupDividers},on:{"focus-group":o.onFocusGroup,"focus-group-home":o.onFocusGroupHome,"focus-group-end":o.onFocusGroupEnd,"group-select":o.groupSelect,close:o.onClose}})})),1):o._e()],1)}),[],!1,null,null,null);t.default=component.exports},626:function(e){e.exports=JSON.parse('{"thun_MenuLabels_292":{"Edit":"Edit","Copy":"Copy","Quote":"Quote","Delete":"Delete","Download":"Download","EditMessage":"Edit message","CopyMessage":"Copy message","QuoteMessage":"Quote message","MarkAsUnread":"Mark as unread","ReportCall":"Report call","ReportMessage":"Report message","CancelReport":"Cancel report","DeleteMessage":"Delete message","AddToFavorites":"Add to favourites","RemoveFromFavorites":"Remove from favourites","Hide":"Hide","Archive":"Archive","ArchiveRoom":"Archive room","AddAsATodo":"Add as a to-do"}}')},627:function(e){e.exports=JSON.parse('{"thun_MenuLabels_292":{"Edit":"Edit","Copy":"Copy","Quote":"Quote","Delete":"Delete","Download":"Download","EditMessage":"Edit message","CopyMessage":"Copy message","QuoteMessage":"Quote message","MarkAsUnread":"Mark as unread","ReportCall":"Report call","ReportMessage":"Report message","CancelReport":"Cancel report","DeleteMessage":"Delete message","AddToFavorites":"Add to Favorites","RemoveFromFavorites":"Remove from favorites","Hide":"Hide","Archive":"Archive","ArchiveRoom":"Archive Room","AddAsATodo":"Add as a to-do"}}')},628:function(e){e.exports=JSON.parse('{"thun_MenuLabels_292":{"Edit":"[猫Edit猫]","Copy":"[猫Copy猫]","Quote":"[猫Quote猫]","Delete":"[猫Delete猫]","Download":"[猫Download猫]","EditMessage":"[猫Edit message猫]","CopyMessage":"[猫Copy message猫]","QuoteMessage":"[猫Quote message猫]","MarkAsUnread":"[猫Mark as unread猫]","ReportCall":"[猫Report call猫]","ReportMessage":"[猫Report message猫]","CancelReport":"[猫Cancel report猫]","DeleteMessage":"[猫Delete message猫]","AddToFavorites":"[猫Add to Favorites猫]","RemoveFromFavorites":"[猫Remove from favorites猫]","Hide":"[猫Hide猫]","Archive":"[猫Archive猫]","ArchiveRoom":"[猫Archive Room猫]","AddAsATodo":"[猫Add as a to-do猫]"}}')},629:function(e){e.exports=JSON.parse('{"thun_Cancel_288":"Cancel","thun_Continue_289":"Continue","thun_DeleteMessage_290":"Delete message","thun_AreYouSureYouWantToDeleteThisMessage_291":"Are you sure you want to delete this message?"}')},630:function(e){e.exports=JSON.parse('{"thun_Cancel_288":"Cancel","thun_Continue_289":"Continue","thun_DeleteMessage_290":"Delete Message","thun_AreYouSureYouWantToDeleteThisMessage_291":"Are you sure you want to delete this message?"}')},631:function(e){e.exports=JSON.parse('{"thun_Cancel_288":"[猫Cancel猫]","thun_Continue_289":"[猫Continue猫]","thun_DeleteMessage_290":"[猫Delete Message猫]","thun_AreYouSureYouWantToDeleteThisMessage_291":"[猫Are you sure you want to delete this message?猫]"}')},632:function(e,t,o){"use strict";o(456)},633:function(e,t,o){var n=o(6)(!1);n.push([e.i,".story-menu-popover .air3-popper-content{--popper-padding:var(--ws-2x) 0}.story-menu-popover>div.size-sm{--arrow-width:10px}.disable-events.offline .air3-menu-item-icon,.disable-events.offline .air3-menu-list{color:var(--text-muted-on-body)}",""]),e.exports=n},634:function(e,t,o){"use strict";o(457)},635:function(e,t,o){var n=o(6)(!1);n.push([e.i,".dropdown-menu[data-v-b5165d34]{--width-sm:150px}",""]),e.exports=n},715:function(e,t,o){"use strict";o.r(t);o(1);var n={_val:null,get innerWidth(){return null===this._val&&(this._val=window.innerWidth),this._val},set innerWidth(e){this._val=e}};class r{constructor(){this.listeners=void 0,this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notify(e){this.listeners.forEach((t=>{t(e)}))}}let l;function c(){if(!l){let e;l=new r;const t=()=>{e&&clearTimeout(e),e=setTimeout((()=>{n.innerWidth=window.innerWidth,l.notify(n.innerWidth),e=null}),25)};window.addEventListener("resize",t,{passive:!0})}return l}var d=o(497),h=o(498);const m={xs:480,sm:768,md:992,lg:1200,xl:1/0},f={sm:700,md:1200,lg:1/0},v="mobile",y="tablet",w="desktop",k={[v]:["xs","sm"],[y]:"md",[w]:["lg","xl"]},_="air-2-76",M="air-3-0";var C=Object(h.a)("findBreakpoint"),x=Object(h.a)("isDevice"),E=Object(h.a)("setBreakpointByWidth"),T=Object(h.a)("setDerivedProps");class S{constructor(e,t,o){Object.defineProperty(this,T,{value:I}),Object.defineProperty(this,E,{value:A}),Object.defineProperty(this,x,{value:D}),Object.defineProperty(this,C,{value:O}),this.mq=void 0,this.breakpoints=void 0,this.sortedBreakpoints=void 0,this.breakpointToDevice=void 0,this.mq=e,this.breakpoints=t,this.breakpointToDevice=o}initStateFromStore(e){const{mq:t}=this;t.mobile=e.mobile,t.tablet=e.tablet,t.desktop=e.desktop,t.width=e.width,null!==t.width&&Object(d.a)(this,E)[E](t.width),Object(d.a)(this,T)[T]()}setWidth(e){this.mq.width=e,Object(d.a)(this,E)[E](e),Object(d.a)(this,T)[T]()}}function O(e){var t,o,n;this.sortedBreakpoints||(this.sortedBreakpoints=Object.entries(this.breakpoints).sort(((e,t)=>{let[,a]=e,[,b]=t;return a-b})),(null===(t=this.sortedBreakpoints)||void 0===t||null===(o=t.slice(-1))||void 0===o||null===(n=o[0])||void 0===n?void 0:n[1])!==1/0&&console.warn("Value for latest breakpoint has to be Infinity"));let[r]=this.sortedBreakpoints.find((t=>{let[,o]=t;return e<o}))||[];var l,c,d;r||(r=null===(l=this.sortedBreakpoints)||void 0===l||null===(c=l.slice(-1))||void 0===c||null===(d=c[0])||void 0===d?void 0:d[0]);return r}function D(e,t){const o=this.breakpointToDevice[e]||[];return Array.isArray(o)?o.includes(t):t===o}function A(e){const t=Object(d.a)(this,C)[C](e),{mq:o}=this;o.breakpoint=t,o.mobile=Object(d.a)(this,x)[x](v,t),o.tablet=Object(d.a)(this,x)[x](y,t),o.desktop=Object(d.a)(this,x)[x](w,t)}function I(){const{mq:e}=this;e.hasDevice=e.mobile||e.desktop||e.tablet,e.hasBreakpoint=null!==e.breakpoint}var F={data:()=>({width:null,mobile:!1,desktop:!1,tablet:!1,breakpoint:null,hasBreakpoint:!1,hasDevice:!1}),install(e){let{breakpoints:t,breakpointToDevice:o,prop:r="mq",theme:l,onMismatch:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const h=function(e,t){let o=e;if(!o)switch(t){case M:o=f;break;case _:o=m;break;default:o=f}return o}(t,l||e.$themeName),v=new S(e[r],h,o||k),y=t=>{const{innerWidth:o}=n;t&&o!==v.mq.width&&"function"==typeof d&&d(),v.setWidth(o);const r=e=>{v.setWidth(e)};c().addListener(r),e.$on("hook:beforeDestroy",(()=>{c().removeListener(r)}))};var w,C,x,E,T;e.$isServer?(e._isUmqSsr=!0,e.$vnode.data.attrs=e.$vnode.data.attrs||{},e.$vnode.data.attrs["data-umq-ssr"]=1):e._isUmqSsr=!(null===(w=e.$vnode)||void 0===w||null===(C=w.elm)||void 0===C||null===(x=C.dataset)||void 0===x||!x.umqSsr);e._isUmqSsr&&!e._isMounted&&(null!==(E=e.$store)&&void 0!==E&&null!==(T=E.state)&&void 0!==T&&T.umq&&v.initStateFromStore(e.$store.state.umq),e.$isServer||e.$on("hook:mounted",(()=>{e.$nextTick((()=>{y(!0)}))})));e.$isServer||e._isUmqSsr&&!e._isMounted||y()}},$=o(414),dialog=o(432),B=o(618),j=o(220),L=o(299),N=o(22),U=o(8),R={"en-gb":o(626),en:o(627),is:o(628)},P=o(324),z={"en-gb":o(629),en:o(630),is:o(631)};const K=o.e(317).then(o.bind(null,2176)),J=Object(j.a)(z,R);var W={name:"UpDStoryMenu",props:{menuId:String,menuItems:Array,isNativeView:Boolean,disableMenuOptions:Boolean,placement:{type:String,default:"bottom"},size:{type:String,default:"sm"},visibleArrow:{type:Boolean,default:!0}},i18n:{messages:J},data(){return{curMenuId:null,confirmResolve:null,popoverTarget:"",menuOpen:!1,mq:F.data(),deleteConfirmDialogData:{actions:[{label:this.$t("thun_Cancel_288"),btnClick:()=>this.confirmResolve(!1),kind:"link"},{label:this.$t("thun_Continue_289"),btnClick:()=>this.confirmResolve(!0),kind:"primary"}],title:this.$t("thun_DeleteMessage_290"),message:this.$t("thun_AreYouSureYouWantToDeleteThisMessage_291")}}},components:{UpCPopover:$.default,UpCDialog:dialog.default,UpCDropdownMenu:B.default},computed:{menuItemsToShow(){return(this.menuItems||[]).filter((e=>!e.expire||e.expire>Date.now())).flatMap((e=>(e.label=this.$t(e.label),"deleteMessage"===e.id?{...e,callback:()=>{var t;this.sendStoryMenuClickEvent("message_delete_option"),null===(t=this.$refs.deleteConfirmDialog)||void 0===t||t.openDialog(),new Promise((e=>{this.confirmResolve=e})).then((t=>{this.sendStoryMenuClickEvent(t?"submit_delete_message":"cancel_delete_message"),t&&e.callback()}))}}:e)))},isFullscreen(){return this.mq.mobile},displayDropdownMenu(){return(this.isFullscreen||Object(U.h)())&&this.menuOpen},menuClasses(){return this.connectionStatus.isConnected?this.disableMenuOptions?"disable-events":"":"disable-events offline"}},methods:{openNativeMenu(){if(!this.menuItemsToShow.length||this.menuOpen)return;const e=this.menuItemsToShow.map((e=>({...e,callback:()=>{e.callback(),this.onCloseMenu(this.menuId)}})));this.menuOpen=!0,N.nativeClient.displayBottomSheetMenu("story-action-menu",e,(()=>{this.onCloseMenu(this.menuId)}))},open(){this.curMenuId=this.menuId,this.isNativeView?this.openNativeMenu():this.isFullscreen||Object(U.h)()?this.menuOpen=Boolean(this.menuItemsToShow.length):this.menuId&&this.$nextTick((()=>{this.openDropdownMenu()}))},close(){if(this.curMenuId=null,this.popoverTarget="",this.isNativeView||this.isFullscreen)this.menuOpen=!1;else if(this.menuOpen){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}},openDropdownMenu(){(this.menuItemsToShow.length||this.$scopedSlots["menu-header"])&&(this.menuOpen=!0,this.popoverTarget="",this.$nextTick((()=>{this.popoverTarget="#".concat(this.menuId),this.$nextTick((()=>{this.$refs.popover.open()}))})))},refresh(){var e;null===(e=this.$refs.popover)||void 0===e||e.updatePopper()},onDropdownMenuItem(e){e.callback(),this.isFullscreen?(this.menuOpen=!1,this.onCloseMenu(this.menuId)):this.$refs.popover.close()},onCloseMenu(e){e===this.menuId&&(this.menuOpen=!1,this.curMenuId=null,setTimeout((()=>{this.menuOpen||e!==this.menuId||this.$emit("close")}),300))},sendStoryMenuClickEvent(label){this.$thunderTracker.track({label:label,sublocation:"chat_room",event:"click"})}},beforeMount(){F.install(this)},watch:{menuItems:{handler(e){e?this.menuOpen&&this.curMenuId===this.menuId?this.refresh():this.open():this.close()},immediate:!0}},mounted(){this.isNativeView||this.isFullscreen?Object(P.a)((()=>this.$emit("load"))):K.then((()=>{this.$emit("load")}))},setup:()=>({connectionStatus:Object(L.b)()})},H=(o(632),o(634),o(4)),component=Object(H.a)(W,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"story-menu"},[e.isNativeView?e._e():[e.displayDropdownMenu?o("up-c-dropdown-menu",{ref:"menu",attrs:{"item-key":"id","item-text":"label",items:e.menuItemsToShow,"menu-class":e.menuClasses,"is-mobile":!0},on:{select:e.onDropdownMenuItem,close:function(t){return e.onCloseMenu(e.menuId)}}}):e._e(),e._v(" "),!e.isFullscreen&&e.popoverTarget?o("up-c-popover",{ref:"popover",attrs:{"custom-class":"story-menu-popover",trigger:"click",size:e.size,placement:e.placement,"visible-arrow":e.visibleArrow,target:e.popoverTarget,closeButton:!1},on:{close:function(t){return e.onCloseMenu(e.menuId)}}},[e._t("menu-header"),e._v(" "),o("up-c-dropdown-menu",{ref:"menu",staticClass:"dropdown-menu",class:e.menuClasses,attrs:{size:"sm","item-key":"id","item-text":"label",items:e.menuItemsToShow},on:{select:e.onDropdownMenuItem}})],2):e._e()],e._v(" "),o("up-c-dialog",{ref:"deleteConfirmDialog",attrs:{title:e.deleteConfirmDialogData.title,actions:e.deleteConfirmDialogData.actions,message:e.deleteConfirmDialogData.message}},[o("p",[e._v(e._s(e.deleteConfirmDialogData.message))])])],2)}),[],!1,null,"b5165d34",null);t.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/story-menu.2616a1c8.js.map