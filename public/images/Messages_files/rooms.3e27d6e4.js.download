(window.webpackJsonp=window.webpackJsonp||[]).push([[332],{1234:function(e,t,o){"use strict";var r=o(152),n=function(e){function t(t){var o=e.call(this)||this;return o._value=t,o}return Object(r.e)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var o=e.prototype._subscribe.call(this,t);return!o.closed&&t.next(this._value),o},t.prototype.getValue=function(){var e=this,t=e.hasError,o=e.thrownError,r=e._value;if(t)throw o;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o(178).a),l=o(736),c=o(1259),d=o(336),m=o(290),h=o(358),v=o(2),f=o(396),y=o(51),w=o(568),_=o(183),x=o(299),k=o(265),S=o(842),O=o(720),I=o(697),R=o(213),T=o(247),L=o(447),j=o(3),C={i18n:{messages:{"en-gb":o(882),en:o(883),is:o(884)}},name:"UpDRoomList",components:{UpDEmptyRooms:S.default,UpDEmptyState:k.a,UpDProgressBar:O.default,UpDRoomListItem:I.a,LazyHydrate:f.a,UpDSkeleton:R.a,UpDListHeader:j.b.lazyComponent((()=>o.e(199).then(o.bind(null,2227)))),UpDRoomListMenu:j.b.lazyComponent((()=>o.e(331).then(o.bind(null,2252))))},props:{showProgress:{type:Boolean,default:!0},isNativeView:Boolean,isSearchView:Boolean,lazyLoaded:Boolean,isFavoriteView:Boolean},mixins:[w.a],data:()=>({scrollTop:0,contactRooms:{},roomsFilter$:new n(T.a.ALL),filtering:!1,menuRoomId:null,menuId:null,menuLoaded:!1,TimeoutError:l.a}),watch:{isSearchView(e){e||window.scrollTo(0,0)},emitLoadError(){setTimeout((()=>{this.emitLoadError&&this.$emit("error",{errorMessage:this.error.message})}))},roomsLoaded(){this.observeLastItem()}},computed:{illustrationServerError:()=>()=>o.e(3).then(o.bind(null,2307)),roomsToRender(){return this.showSkeletons?this.skeletons:this.rooms},showRoomSkeletons(){return this.rooms[0]instanceof _.a},showError(){return this.error&&!this.loading},showErrorPage(){return this.showError&&this.showRoomSkeletons},emitLoadError(){return this.showError&&!this.showErrorPage&&this.connectionStatus.isOnline},showProgressBar(){return!this.showRoomSkeletons&&this.showProgress},timeoutError(){return this.error instanceof l.a}},methods:{onSetFavorite(data){const{roomId:e,isFavorite:t}=data;this.setFavorite(e,t)},onOpenMenu(e){let{menuId:t,roomId:o}=e;this.menuId!==t&&(this.menuRoomId=o,this.menuId=t)},onCloseMenu(){this.menuRoomId=null,this.menuId=null},resetScrollPosition(){this.$refs.roomList.scrollTop=0},onRoomsFilter(filter){this.resetScrollPosition(),this.$emit("filter",filter),this.roomsFilter$.next(filter)},onLatestStoryHtmlResolved(e){let{roomId:t,html:html}=e;this.updateLatestStoryResolvedHtml(t,html)}},mounted(){this.roomsFilter$.pipe(Object(c.a)(1),Object(d.a)((filter=>{this.filtering=filter!==T.a.ALL})),Object(m.a)((filter=>this.filterRooms(filter).pipe(Object(h.a)((()=>{this.rooms.length&&(this.reset(),this.observeLastItem()),this.filtering=!1})))))).subscribe()},setup(e){const{$auth:t}=Object(y.b)(),o=Object(L.a)(t),r=Object(x.b)(),n=Object(v.m)(e.lazyLoaded);return Object(v.i)((()=>{o.showRooms.value&&(n.value=!1);const e=Object(v.r)([o.showRooms,o.error],(()=>{n.value=!1,e()}))})),{...o,showSkeletons:n,connectionStatus:r,onScrolledToLastItem:()=>o.loadMore(o.roomsFilter.value)}}},E=(o(885),o(4)),component=Object(E.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{ref:"roomList",staticClass:"up-d-room-list",class:{"is-native-view":e.isNativeView,"is-desktop-view":!e.isNativeView,"is-search-view":e.isSearchView||e.isFavoriteView}},[e._t("top"),e._v(" "),o("client-only",[e.showProgressBar&&e.filtering?o("up-d-progress-bar"):e._e()],1),e._v(" "),o("lazy-hydrate",{attrs:{"when-idle":""}},[e.showErrorPage?e._e():o("up-d-list-header",{staticClass:"rooms-list-header",attrs:{"is-search-view":e.isSearchView,"is-native-view":e.isNativeView,"rooms-filter":e.hasRooms?e.roomsFilter:null},on:{query:function(t){return e.$emit("search",t)},section:function(t){return e.$emit("search-section",t)},filter:function(t){return e.onRoomsFilter(t)},"show-tips":function(t){return e.$emit("show-tips")},"clear-search":function(t){return e.$emit("clear-search")}}})],1),e._v(" "),o("div",{staticClass:"room-list-body"},[e.showErrorPage?o("up-d-empty-state",{attrs:{illustration:e.illustrationServerError}},[e.connectionStatus.isOnline?e.timeoutError?o("i18n",{attrs:{tag:"div",path:"thun_FailedToLoadRoomsDueToTimeout_79.linked"},scopedSlots:e._u([{key:"Failed",fn:function(){return[o("strong",[e._v("\n            "+e._s(e.$t("thun_FailedToLoadRoomsDueToTimeout_79.failed"))+"\n          ")])]},proxy:!0},{key:"Retry",fn:function(){return[o("UpLink",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.reloadRooms.apply(null,arguments)}}},[e._v(e._s(e.$t("thun_FailedToLoadRoomsDueToTimeout_79.retry")))])]},proxy:!0}],null,!1,3899783712)}):o("p",[e._v("\n        "+e._s(e.error.message||e.$t("thun_ThereWasAnErrorWhileLoadingRooms_484"))+"\n      ")]):o("div",[o("strong",[e._v("\n          "+e._s(e.$t("thun_NoInternetConnection_67"))+"\n        ")]),e._v(" "),o("p",[e._v("\n          "+e._s(e.$t("thun_WeLlRetryWhenYouGetBackOnline_68"))+"\n        ")])])],1):e.loading||e.rooms.length?o("div",{staticClass:"room-list-scroll"},[o("div",{ref:"scroller"},e._l(e.roomsToRender,(function(t){return o("lazy-hydrate",{key:t.id,attrs:{never:""}},[t.isHidden?e._e():o("up-d-room-list-item",{class:{"menu-open":t.id===e.menuRoomId},attrs:{id:t.id,room:t,"show-counter":e.showCounter,"display-menu":e.rooms.length>1&&e.menuLoaded&&!e.isNativeView},on:{"latest-story-html-resolved":e.onLatestStoryHtmlResolved,"menu-open":e.onOpenMenu,"set-favorite":e.onSetFavorite}})],1)})),1),e._v(" "),o("client-only",[o("up-d-room-list-menu",{attrs:{roomId:e.menuRoomId,"menu-id":e.menuId},on:{load:function(t){e.menuLoaded=!0},close:e.onCloseMenu}})],1)],1):o("up-d-empty-rooms")],1)],2)}),[],!1,null,"09478171",null);t.a=component.exports},1259:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o(337);function n(e){return Object(r.a)((function(t,o){return e<=o}))}},1400:function(e,t,o){var content=o(1964);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("f9a13cfe",content,!0,{sourceMap:!1,manualInject:!0})},1963:function(e,t,o){"use strict";o(1400)},1964:function(e,t,o){var r=o(6)(!1);r.push([e.i,".rooms-container[data-v-67d0d7e3]{display:flex;flex-direction:column;--search-input-height:120px;height:100%;flex-basis:100%}.connection-status-banner[data-v-67d0d7e3]{margin-top:calc(var(--top-nav-height) + var(--notification-alert-height))}",""]),e.exports=r},2328:function(e,t,o){"use strict";o.r(t);o(1);var r=o(165),n=o(489),l=o(337),c=o(2),d=o(51),m=o(3),h=o(381),v=o(299),f=o(1234),y=o(493),w=o(247),_=o(447),x=o(203),k={name:"UpDLazyDesktopRooms",components:{UpDRoomList:f.a,UpDConnectionStatusBanner:y.a,UpDFavoriteMessages:m.b.lazyComponent((()=>o.e(165).then(o.bind(null,2242)))),UpDSearchPanel:m.b.lazyComponent((()=>o.e(337).then(o.bind(null,2350))))},computed:{isOnRoomsListUrl(){var e;return null===(e=this.$layout)||void 0===e?void 0:e.isOnRoomsListUrl},isFavoriteView(){return this.filter===w.a.FAVORITES_ONLY&&this.searchSection===h.b.MESSAGES},isSearchView(){return Boolean(this.query)}},methods:{onFilter(filter){this.filter=filter},openRoom(e){const{query:t}=this.$route;this.$router.push({name:this.$route.name,params:{roomId:e.roomId},query:{...t,pageTitle:e.roomName}})},getActiveRoomindex(){return this.rooms.findIndex((e=>e.roomId===this.$route.params.roomId))},gotoPreviousRoom(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getActiveRoomindex();if(t<=0)return;const o=e?this.rooms.slice(0,t).reverse().find((e=>e.numUnread)):this.rooms[t-1];o&&this.openRoom(o)},gotoNextRoom(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getActiveRoomindex();if(this.rooms.length<=t+1)return;const o=e?this.rooms.slice(t,this.rooms.length).find((e=>e.numUnread)):this.rooms[t+1];o&&this.openRoom(o)},onKeyDown(e){e.altKey&&"ArrowUp"===e.key&&(this.gotoPreviousRoom(e.shiftKey),e.preventDefault()),e.altKey&&"ArrowDown"===e.key&&(this.gotoNextRoom(e.shiftKey),e.preventDefault())}},mounted(){document.addEventListener("keydown",this.onKeyDown)},beforeDestroy(){document.removeEventListener("keydown",this.onKeyDown)},setup(){const{$auth:e,$thunderTracker:t}=Object(d.b)(),o=Object(_.a)(e),m=(label,e)=>{t.track({label:label,event:e,sublocation:"spotlight_search_panel"})},f=Object(c.m)(null),filter=Object(c.m)(null),y=Object(c.m)(h.b.ROOMS),w=new r.b;w.add(Object(x.d)(y).subscribe((e=>{let[section]=e;return m((section=>{switch(section){case h.b.ROOMS:return"select_rooms_tab";case h.b.MESSAGES:return"select_messages_tab";default:return""}})(section),"click")}))),w.add(Object(x.d)(f).pipe(Object(n.a)(500),Object(l.a)((e=>{let[q]=e;return q.length>0}))).subscribe((()=>m("search_spotlight","enter")))),Object(c.g)((()=>w.unsubscribe()));return{...o,query:f,filter:filter,searchSection:y,connectionStatus:Object(v.b)(),sendRoomsPanelEvent:m}}},S=k,O=(o(1963),o(4)),component=Object(O.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"rooms-container"},[o("client-only",[e.isOnRoomsListUrl?o("up-d-connection-status-banner",{staticClass:"connection-status-banner",attrs:{status:e.connectionStatus.status}}):e._e()],1),e._v(" "),o("up-d-room-list",{ref:"roomList",attrs:{"is-search-view":e.isSearchView,"is-favorite-view":e.isFavoriteView,"lazy-loaded":""},on:{search:function(t){e.query=t},"search-section":function(t){e.searchSection=t},"show-tips":function(t){return e.$emit("show-tips")},filter:e.onFilter,"clear-search":function(t){return e.sendRoomsPanelEvent("clear_search_input","click")}}}),e._v(" "),o("client-only",[e.isFavoriteView&&!e.isSearchView?o("up-d-favorite-messages"):e._e(),e._v(" "),o("up-d-search-panel",{directives:[{name:"show",rawName:"v-show",value:e.isSearchView,expression:"isSearchView"}],ref:"search",attrs:{query:e.query,"search-section":e.searchSection}})],1)],1)}),[],!1,null,"67d0d7e3",null);t.default=component.exports},381:function(e,t,o){"use strict";o.d(t,"b",(function(){return y})),o.d(t,"d",(function(){return w})),o.d(t,"a",(function(){return _})),o.d(t,"c",(function(){return x}));o(1);var r=o(169),n=o(291),l=o(382),map=o(195),c=o(292),d=o(175);class m extends d.a{constructor(e,t,o){super(e,t,o)}search(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/search",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}spotlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/spotlight",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}spotlight4(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/spotlight4",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}browseRoomAndUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/browse",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}healthcheck(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/healthcheck",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}ping(e){return this.healthcheck(e)}getDomain(){return"search"}}var h=o(5),v=o(201);const f=new m({},h.c,h.b),y={ROOMS:"room",CONTACTS:"contact",MESSAGES:"message"},w=[y.ROOMS,y.CONTACTS,y.MESSAGES];class _{constructor(data){var e,t;(Object.assign(this,data),this.id=data.roomId||data.legacyId,"string"==typeof data.roomType)&&(this.roomType=null===(t=[["contact",1],["group",2],["interview",3]].find((e=>{let[t]=e;return t===data.roomType})))||void 0===t?void 0:t[1]);this.roomTypeName=null===(e=Object.entries(v.a).find((e=>{let[,t]=e;return t===this.roomType})))||void 0===e?void 0:e[0],this.targetUserId=this.userId}}class x{mapResult(e){const{records:t}=e,o=e=>{if(e){const t=e[["stringVal","intVal","boolVal","dateVal"].find((t=>t in e))];return"UNKNOWN"===t?null:t}return null};return t.map((e=>{let{metaData:t,snippet:r}=e;const n=o(t.roomType);if(n)return new _({roomId:o(t.roomId),roomName:o(t.roomName),topic:o(t.topic),isPublic:o(t.isPublic),orgId:o(t.orgId),created:o(t.createdTs),roomType:n,...r[0]});const l="".concat(o(t.firstName)||""," ").concat(o(t.lastName)||"").trim(),c=o(t.userId),d=o(t.orgId);return new _({roomId:o(t.roomId)||"room_".concat(c,"_").concat(d),legacyId:o(t.legacyId),roomName:l,roomType:"contact",userId:c,orgId:d,photoUrl:o(t.photoUrl),firstName:o(t.firstName),lastName:o(t.lastName)})}))}buildQuery(e){let{roomId:t,query:o,section:section}=e;return{query:t?"".concat(o," inId:").concat(t):o,limit:20,sortField:"createdTs",sortOrder:"desc",section:section}}search(e,t){const o=[y.MESSAGES].map((section=>Object(r.a)(f.search(this.buildQuery({query:e,roomId:t,section:section}))).pipe(Object(map.a)((e=>({items:this.mapResult(e),section:section,requestId:e.requestId}))),Object(c.a)((e=>Object(n.a)({error:e,section:section}))))));return Object(l.a)(...o)}browse(e,t){const o={...this.buildQuery({query:e}),...t,limit:10};return Object(r.a)(f.browseRoomAndUser(o)).pipe(Object(map.a)((e=>({items:this.mapResult(e),requestId:e.requestId}))))}searchMore(e){let{query:t,roomId:o,page:n,section:section,requestId:l}=e;const c={...this.buildQuery({query:t,roomId:o,section:section}),page:n,requestId:l};return Object(r.a)(f.search(c)).pipe(Object(map.a)((e=>this.mapResult(e))))}}},489:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var r=o(206),n=o(153),l=o(154);function c(e,t){return void 0===t&&(t=r.b),Object(n.a)((function(source,o){var r=null,n=null,c=null,d=function(){if(r){r.unsubscribe(),r=null;var e=n;n=null,o.next(e)}};function m(){var n=c+e,l=t.now();if(l<n)return r=this.schedule(void 0,n-l),void o.add(r);d()}source.subscribe(Object(l.a)(o,(function(l){n=l,c=t.now(),r||(r=t.schedule(m,e),o.add(r))}),(function(){d(),o.complete()}),void 0,(function(){n=r=null})))}))}},568:function(e,t,o){"use strict";t.a={data:()=>({lastItemObserver:null,mutationObserver:null,scrollElem:null}),methods:{startScroll(){this.scrollElem=this.$refs.scroller,this.scrollElem&&!this.mutationObserver&&(this.disconnectObservers(),this.addScrollItemObserver(),this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.scrollElem,{childList:!0}))},onMutation(){if(this.getIsSkeleton())return;const e=this.getLastItem();e&&(this.lastItemObserver.disconnect(),this.lastItemObserver.observe(e))},addScrollItemObserver(){this.lastItemObserver=new IntersectionObserver((e=>{this.onIntersection(e)}),{root:null,rootMargin:"100px"})},onIntersection(e){const t=e[0],o=t.target===this.getLastItem();t.isIntersecting&&o&&this.onScrolledToLastItem&&this.onScrolledToLastItem()},getLastItem(){return this.scrollElem.lastElementChild},getIsSkeleton(){var e;return null===(e=this.scrollElem)||void 0===e?void 0:e.querySelector(".up-d-skeleton")},observeLastItem(){this.lastItemObserver.disconnect(),this.lastItemObserver.observe(this.getLastItem())},disconnectObservers(){this.lastItemObserver&&this.lastItemObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect()},reset(){this.disconnectObservers(),this.lastItemObserver=null,this.mutationObserver=null,this.scrollElem=null,this.startScroll()}},mounted(){this.startScroll()},beforeDestroy(){this.disconnectObservers()}}},569:function(e,t,o){var content=o(742);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("90647c70",content,!0,{sourceMap:!1,manualInject:!0})},570:function(e,t,o){var content=o(744);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("964b4344",content,!0,{sourceMap:!1,manualInject:!0})},571:function(e,t,o){var content=o(746);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("609adfc6",content,!0,{sourceMap:!1,manualInject:!0})},572:function(e,t,o){var content=o(748);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("32a74074",content,!0,{sourceMap:!1,manualInject:!0})},697:function(e,t,o){"use strict";var r=o(220),n=o(286),l=o(183),c=o(302),d=o(283),m=o(816),h=o(213),v=o(157),f=o(51),y=o(300),w={"en-gb":o(877),en:o(878),is:o(879)},_=o(699);var x={name:"UpDRoomListItem",i18n:{messages:Object(r.a)(n.c,w)},props:{room:[y.a,l.a,Object],showCounter:Boolean,showTimestamp:{type:Boolean,default:!0},avatarSize:{type:Number,default:40},displayMenu:Boolean},components:{UpDPersonAvatar:d.a,UpDAgencyAvatar:m.a,UpDSkeleton:h.a,UpDRoomItemStory:_.a,UpCIcon:v.default},methods:{onSetFavorite(){this.$emit("set-favorite",{roomId:this.room.roomId,isFavorite:!1})},onMenuOpen(e,t){this.$emit("menu-open",{menuId:e,roomId:this.room.roomId}),t.preventDefault()},formatRoomTimestamp(e){const t=Object(n.a)(e,{i18n:this.$i18n});return t===this.$t("thun_Today_552")?Object(c.d)(e,{i18n:this.$i18n}):t},onClick(e){this.room.roomId||e.preventDefault(),this.$emit("select",this.room),this.tracker.track({event:"click",sublocation:"contacts_list",label:"view_room",data:{contract_id:this.room.contractId}})},onHtmlResolved(e){let{html:html}=e;this.$emit("latest-story-html-resolved",{roomId:this.room.id,html:html})}},computed:{iconMore:()=>()=>o.e(30).then(o.bind(null,494)),iconEdit:()=>()=>o.e(37).then(o.bind(null,1462)),iconRating:()=>()=>o.e(2).then(o.bind(null,2321)),validTimestamp(){return 0!==this.room.recentTimestamp},latestStoryMessage(){var e,t;return!0===Boolean(null===(e=this.room.latestStory)||void 0===e?void 0:e.deleted)?this.$t("thun_MessageDeleted_1"):(null===(t=this.room.latestStory)||void 0===t?void 0:t.blockedTimestamp)>0?this.$t("thun_UpworkHasDetectedAPotentialRisk_2"):this.room.latestStoryMessage},menuId(){return"menu_".concat(this.room.roomId)},isFavoriteRoom(){return this.room.isFavorite},unreadCounterDisplay(){return this.unreadCounter>=100?"99+":this.unreadCounter},unreadCounter(){return this.showCounter?this.room.numUnread:this.room.numUnreadMentions},latestStoryResolvedHtml(){return this.room.latestStoryResolvedHtml},isActiveRoom(){var e;return(null===(e=this.$route.params)||void 0===e?void 0:e.roomId)===this.room.roomId},isCounter(){return this.unreadCounter>0},isUnread(){return Boolean(this.room.numUnread||this.room.numUnreadMentions)},hasDraftIcon(){var e;return!this.showSkeleton&&!this.isActiveRoom&&Boolean(null===(e=this.room.draftMessage)||void 0===e?void 0:e.message)},hasIndicators(){return this.isCounter||this.hasDraftIcon},roomLink(){return{name:this.$isNativeApp?"room":"rooms",params:{roomId:this.room.roomId},query:{pageTitle:this.room.roomName,companyReference:this.$auth.orgId}}},roomTarget(){return this.$isNativeApp?"_blank":"_self"},showSkeleton(){return this.room instanceof l.a},showRoomListAction(){return!this.isCounter&&!this.hasDraftIcon&&this.displayMenu}},setup(){const{$thunderTracker:e}=Object(f.b)();return{tracker:e}}},k=(o(880),o(4)),component=Object(k.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{on:{click:function(t){return e.onClick(t)}}},[o(e.room.roomId?"nuxt-link":"a",{tag:"component",staticClass:"up-d-room-list-item",class:{skeleton:e.showSkeleton},attrs:{to:e.roomLink,target:e.roomTarget,"active-class":e.showSkeleton||!e.room.roomId?"no-active":null}},[e.room.relatedAgency&&e.room.relatedAgency.agency_org_uid===e.room.targetOrgId?o("up-d-agency-avatar",{attrs:{agency:e.room.relatedAgency,"avatar-size":e.avatarSize,"show-skeleton":e.showSkeleton}}):o("up-d-person-avatar",{attrs:{person:e.room.targetUser,"is-public":Boolean(e.room.isPublic),"show-skeleton":e.showSkeleton,"avatar-size":e.avatarSize,"avatar-font-size":e.avatarSize>=40?18:16,"is-psm":e.room.isTargetUserPsm}}),e._v(" "),o("div",{staticClass:"room-list-item-body",class:{"read-only":e.room.isReadOnly}},[o("div",{class:{"favorite-room-title":e.isFavoriteRoom}},[e.isFavoriteRoom?o("UpCIcon",{staticClass:"favorite-icon",attrs:{icon:e.iconRating,size:"sm"},nativeOn:{click:function(t){return e.onSetFavorite.apply(null,arguments)}}}):e._e(),e._v(" "),o("h4",{staticClass:"room-list-item-header room-title h5",class:{unread:e.isUnread}},[o("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.room.roomName)+"\n          ")])],1)],1),e._v(" "),e.room.subtitle?o("h5",{staticClass:"room-list-item-header"},[e._v("\n        "+e._s(e.room.subtitle)+"\n      ")]):e._e(),e._v(" "),e.room.topic?o("h5",{staticClass:"room-list-item-header room-topic",class:{"has-indicators":e.hasIndicators,"room-item-with-menu":e.showRoomListAction}},[o("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n          "+e._s(e.room.topic)+"\n        ")])],1):e._e(),e._v(" "),e.showTimestamp&&e.validTimestamp?o("div",{staticClass:"room-list-item-timestamp"},[o("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n          "+e._s(e.formatRoomTimestamp(e.room.recentTimestamp))+"\n        ")])],1):e._e(),e._v(" "),e.latestStoryMessage?o("up-d-room-item-story",{staticClass:"last-room-story",class:{"has-indicators":e.hasIndicators,"room-item-with-menu":e.showRoomListAction},attrs:{"show-skeleton":e.showSkeleton,"is-multi-line":!e.room.topic,value:e.latestStoryMessage,"resolved-html":e.latestStoryResolvedHtml},on:{"html-resolved":e.onHtmlResolved}}):e._e(),e._v(" "),e.hasIndicators?o("div",{staticClass:"room-list-indicators"},[e.hasDraftIcon?o("div",{staticClass:"room-list-draft-icon"},[o("UpCIcon",{staticClass:"draft-icon",attrs:{icon:e.iconEdit,size:"sm"}})],1):e._e(),e._v(" "),!e.showSkeleton&&e.isCounter?o("div",{staticClass:"room-list-item-unread-badge"},[o("span",[e._v(e._s(e.unreadCounterDisplay))])]):e._e()]):e._e(),e._v(" "),e.showRoomListAction?o("div",{staticClass:"room-list-menu",attrs:{id:e.menuId},on:{click:function(t){return e.onMenuOpen(e.menuId,t)}}},[o("UpCIcon",{attrs:{icon:e.iconMore,size:"sm"}})],1):e._e()],1)],1)],1)}),[],!1,null,"7406cb9e",null);t.a=component.exports},699:function(e,t,o){"use strict";var r=o(213),n=o(3),l=o(350),c={name:"UpDRoomItemStory",props:{value:String,showSkeleton:Boolean,isMultiLine:Boolean,resolvedHtml:String},components:{UpDSkeleton:r.a},data(){return{loading:!0,UpDMessage:n.b.lazyComponent((()=>o.e(350).then(o.bind(null,309)).then((component=>(this.loading=!1,component)))))}},computed:{processedValue(){return this.resolvedHtml||Object(l.a)(this.value,{i18n:this.$i18n})}},methods:{onHtmlResolved(e){this.$emit("html-resolved",e)}}},d=c,m=(o(747),o(4)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"room-list-item-story"},[o("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[o(e.UpDMessage,{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],tag:"component",class:{"multi-line":e.isMultiLine},attrs:{value:e.value,"resolved-html":e.resolvedHtml,"is-last-message":!0},on:{"html-resolved":e.onHtmlResolved}}),e._v(" "),e.loading?o("div",{class:{"multi-line":e.isMultiLine},domProps:{innerHTML:e._s(e.processedValue)}}):e._e()],1)],1)}),[],!1,null,"0359f2ee",null);t.a=component.exports},720:function(e,t,o){"use strict";o.r(t);var r=o(51),n={props:{trackPage:{type:Boolean,default:!0}},mounted(){this.trackPage&&this.track({event:"impression",sublocation:"page",label:"loading_bar"})},setup(){const{$thunderTracker:e}=Object(r.b)();return e}},l=(o(743),o(4)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"up-d-progress-bar"},[t("div",{staticClass:"progress-bar-track"},[t("div",{staticClass:"progress-bar-indeterminate"})])])}],!1,null,"3500e434",null);t.default=component.exports},738:function(e){e.exports=JSON.parse('{"thun_YourChatRoomsWillAppearHere_26":"Your chat rooms will appear here"}')},739:function(e){e.exports=JSON.parse('{"thun_YourChatRoomsWillAppearHere_26":"Your chat rooms will appear here"}')},740:function(e){e.exports=JSON.parse('{"thun_YourChatRoomsWillAppearHere_26":"[猫Your chat rooms will appear here猫]"}')},741:function(e,t,o){"use strict";o(569)},742:function(e,t,o){var r=o(6)(!1);r.push([e.i,".up-d-empty-state[data-v-78a4062a]{text-align:center;height:100%;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:#fff;flex-grow:1}.up-d-empty-state h2[data-v-78a4062a],.up-d-empty-state h3[data-v-78a4062a]{max-width:30em;padding:0 2em;margin:0 auto;color:var(--text-light-on-body);font-weight:var(--font-weight-body)}.up-d-empty-state h2[data-v-78a4062a]:not(:first-child),.up-d-empty-state h3[data-v-78a4062a]:not(:first-child){margin-top:30px}.up-d-empty-state p[data-v-78a4062a]{margin:0;padding:0 2em}.up-d-empty-state p[data-v-78a4062a]:not(:last-child){margin-bottom:20px}",""]),e.exports=r},743:function(e,t,o){"use strict";o(570)},744:function(e,t,o){var r=o(6)(!1);r.push([e.i,'.up-d-progress-bar[data-v-3500e434]{position:sticky;z-index:calc(var(--zindex-navbar) - 1);height:0;overflow:visible;left:0;top:0;display:block}.progress-bar-track[data-v-3500e434]{position:absolute;height:4px;display:block;width:100%;background-color:#dff7d3;background-color:var(--progress-bar-background,#dff7d3);background-clip:padding-box;overflow:hidden;left:0;right:0;top:0;pointer-events:none}.progress-bar-indeterminate[data-v-3500e434]{background-color:var(--bg-accent);background-color:var(--progress-bar-foreground,var(--bg-accent))}.progress-bar-indeterminate[data-v-3500e434]:before{animation:indeterminate-data-v-3500e434 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress-bar-indeterminate[data-v-3500e434]:after,.progress-bar-indeterminate[data-v-3500e434]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right}.progress-bar-indeterminate[data-v-3500e434]:after{animation:indeterminate-short-data-v-3500e434 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes indeterminate-data-v-3500e434{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes indeterminate-short-data-v-3500e434{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}',""]),e.exports=r},745:function(e,t,o){"use strict";o(571)},746:function(e,t,o){var r=o(6)(!1);r.push([e.i,".up-d-agency-avatar[data-v-68748942]{display:flex;justify-content:center;align-items:center;background-size:cover;background-repeat:no-repeat;background-position:50%;border-radius:50%;background-color:var(--gray-70);position:relative;border:var(--border)}",""]),e.exports=r},747:function(e,t,o){"use strict";o(572)},748:function(e,t,o){var r=o(6)(!1);r.push([e.i,".room-list-item-story[data-v-0359f2ee]{display:flex;align-items:center;max-width:100%}.room-list-item-story[data-v-0359f2ee]:empty{display:none}.room-list-item-story .up-d-skeleton[data-v-0359f2ee]{height:13px;margin-top:2px;margin-bottom:2px}.room-list-item-story>div[data-v-0359f2ee]{align-self:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:inherit;font-weight:var(--font-weight-body);color:var(--text-light-on-body);line-height:20px}.room-list-item-story>div.multi-line[data-v-0359f2ee],.room-list-item-story>div.multi-line[data-v-0359f2ee] p{line-height:16px;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;white-space:normal;word-break:break-all}.room-list-item-story[data-v-0359f2ee] .last-story-has-user-id{display:none}",""]),e.exports=r},749:function(e,t,o){var content=o(881);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("1fd385de",content,!0,{sourceMap:!1,manualInject:!0})},750:function(e,t,o){var content=o(886);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("b9557f9c",content,!0,{sourceMap:!1,manualInject:!0})},816:function(e,t,o){"use strict";var r=o(213),n={name:"UpDAgencyAvatar",props:{agency:Object,showSkeleton:{type:Boolean,default:!1},avatarSize:Number},components:{UpDSkeleton:r.a},computed:{styles(){var e;const t={height:"".concat(this.avatarSize,"px"),width:"".concat(this.avatarSize,"px")};if(this.showSkeleton)return t;const o=null===(e=this.agency)||void 0===e?void 0:e.agency_logo;return o&&(t["background-image"]="url(".concat(o,")")),t["line-height"]="".concat(this.avatarSize,"px"),t["font-size"]="".concat(this.avatarFontSize,"px"),t}}},l=(o(745),o(4)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"up-d-agency-avatar",style:e.styles},[o("up-d-skeleton",{attrs:{loading:e.showSkeleton,circle:"",width:e.avatarSize,height:e.avatarSize}})],1)}),[],!1,null,"68748942",null);t.a=component.exports},842:function(e,t,o){"use strict";o.r(t);var r=o(216),n=o.n(r),l={i18n:{messages:{"en-gb":o(738),en:o(739),is:o(740)}},injectStyles:[n.a]},c=(o(741),o(4)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"up-d-empty-state text-muted-on-inverse"},[o("p",[e._v(e._s(e.$t("thun_YourChatRoomsWillAppearHere_26")))])])}),[],!1,null,"78a4062a",null);t.default=component.exports},877:function(e){e.exports=JSON.parse('{"thun_MessageDeleted_1":"message deleted","thun_UpworkHasDetectedAPotentialRisk_2":"Upwork has detected a potential risk with the content of this message."}')},878:function(e){e.exports=JSON.parse('{"thun_MessageDeleted_1":"message deleted","thun_UpworkHasDetectedAPotentialRisk_2":"Upwork has detected a potential risk with the content of this message."}')},879:function(e){e.exports=JSON.parse('{"thun_MessageDeleted_1":"[猫message deleted猫]","thun_UpworkHasDetectedAPotentialRisk_2":"[猫Upwork has detected a potential risk with the content of this message.猫]"}')},880:function(e,t,o){"use strict";o(749)},881:function(e,t,o){var r=o(6)(!1);r.push([e.i,".skeleton[data-v-7406cb9e]{pointer-events:none}.up-d-room-list-item[data-v-7406cb9e]{display:flex;align-items:center;color:var(--text-dark-on-body);text-decoration:none;width:100%;padding-left:15px;box-sizing:border-box;cursor:pointer;font-size:14px}.is-mobile-app .up-d-room-list-item[data-v-7406cb9e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.up-d-room-list-item.nuxt-link-active[data-v-7406cb9e]{box-shadow:inset 4px 0 0 0 var(--forest)}.up-d-room-list-item.nuxt-link-active[data-v-7406cb9e],.up-d-room-list-item[data-v-7406cb9e]:not(.skeleton):hover{background-color:var(--select-background)}.room-list-item-body[data-v-7406cb9e]{display:flex;flex-direction:column;flex-grow:1;width:0;justify-content:top;height:80px;height:var(--room-list-item-height,80px);margin-left:10px;padding:10px 10px 0 0;border-bottom:solid var(--gray-80) var(--room-list-item-border,1px);position:relative}.room-list-item-body.read-only[data-v-7406cb9e]{font-style:italic}.search-list-item .room-list-item-body[data-v-7406cb9e]{padding:0;justify-content:center;border-bottom:0}.favorite-icon[data-v-7406cb9e]{color:var(--bg-warning);cursor:pointer}.favorite-room-title[data-v-7406cb9e]{display:flex;align-items:center}.favorite-room-title .room-list-item-header[data-v-7406cb9e]{margin-left:5px}.room-list-item-header[data-v-7406cb9e]{display:block;line-height:20px;align-items:center;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:0;color:var(--text-dark-on-body);font-weight:var(--font-weight-strong)}.room-list-item-header.room-title[data-v-7406cb9e]{width:calc(100% - 75px)}.room-list-item-header.room-title.unread[data-v-7406cb9e]{font-weight:var(--font-weight-900)}.room-list-item-header.room-topic[data-v-7406cb9e]{max-width:100%}.room-list-item-header.room-topic[data-v-7406cb9e]:empty{display:none}.room-list-item-header.has-indicators[data-v-7406cb9e]{max-width:calc(100% - 45px)}.room-list-item-header .up-d-skeleton[data-v-7406cb9e]{height:1em;margin-top:2px;margin-bottom:2px}.room-list-item-timestamp[data-v-7406cb9e]{display:flex;align-items:center;height:20px;width:60px;position:absolute;right:10px;top:10px;font-size:inherit;color:var(--text-light-on-body);font-weight:var(--font-weight-body);text-align:right;justify-content:flex-end;white-space:nowrap}.room-list-item-timestamp .up-d-skeleton[data-v-7406cb9e]{height:1em;width:55px;margin-top:2px;margin-bottom:2px}.badge-circle[data-v-7406cb9e]{height:22px;width:22px;min-width:22px;border-radius:50%;justify-content:center;border:var(--item-unread-badge-border)}.badge-circle[data-v-7406cb9e],.room-list-indicators[data-v-7406cb9e]{display:flex;position:absolute;right:10px;top:50px;align-items:center}.room-list-indicators[data-v-7406cb9e]{flex-direction:row}.room-list-indicators .room-list-item-unread-badge[data-v-7406cb9e]{min-width:22px;height:22px;line-height:22px;border-radius:11px;background:var(--item-unread-badge-background-color);color:var(--white);padding:0 5px;margin-left:10px;text-align:center}.room-list-indicators .room-list-item-unread-badge>span[data-v-7406cb9e]{font-size:12px}.room-list-indicators .room-list-item-unread-badge[data-v-7406cb9e]:empty{display:none}.room-list-indicators .room-list-item-unread-badge .up-d-skeleton[data-v-7406cb9e]{display:block;position:absolute;left:0;top:0}.room-list-indicators .room-list-draft-icon[data-v-7406cb9e]{display:flex}.room-list-indicators .room-list-draft-icon .draft-icon[data-v-7406cb9e]{color:var(--text-icon);height:14px;width:14px}@media (hover:hover){.menu-open .room-list-menu[data-v-7406cb9e],.room-list-menu-shown .room-list-menu[data-v-7406cb9e],.up-d-room-list-item:hover .room-list-menu[data-v-7406cb9e]{display:flex}.menu-open .room-item-with-menu[data-v-7406cb9e],.room-list-menu-shown .room-item-with-menu[data-v-7406cb9e],.up-d-room-list-item:hover .room-item-with-menu[data-v-7406cb9e]{max-width:calc(100% - 45px)}}.menu-open[data-v-7406cb9e]{background-color:var(--select-background)}.room-list-menu[data-v-7406cb9e]{display:none;height:22px;width:22px;min-width:22px;position:absolute;right:10px;border-radius:50%;align-items:center;justify-content:center;top:30px;background:#fff;border:1px solid var(--border-7)}.last-room-story[data-v-7406cb9e]{color:var(--text-light-on-body)}.last-room-story.has-indicators[data-v-7406cb9e]{max-width:calc(100% - 45px)}",""]),e.exports=r},882:function(e){e.exports=JSON.parse('{"thun_NoInternetConnection_67":"No internet connection.","thun_WeLlRetryWhenYouGetBackOnline_68":"We\'ll retry when you get back online.","thun_FailedToLoadRoomsDueToTimeout_79":{"failed":"Failed to load rooms due to timeout.","retry":"Retry","linked":"{Failed} {Retry}"},"thun_ThereWasAnErrorWhileLoadingRooms_484":"There was an error while loading rooms"}')},883:function(e){e.exports=JSON.parse('{"thun_NoInternetConnection_67":"No internet connection.","thun_WeLlRetryWhenYouGetBackOnline_68":"We\'ll retry when you get back online.","thun_FailedToLoadRoomsDueToTimeout_79":{"failed":"Failed to load rooms due to timeout.","retry":"Retry","linked":"{Failed} {Retry}"},"thun_ThereWasAnErrorWhileLoadingRooms_484":"There was an error while loading rooms"}')},884:function(e){e.exports=JSON.parse('{"thun_NoInternetConnection_67":"[猫No internet connection.猫]","thun_WeLlRetryWhenYouGetBackOnline_68":"[猫We\'ll retry when you get back online.猫]","thun_FailedToLoadRoomsDueToTimeout_79":{"failed":"Failed to load rooms due to timeout.","retry":"Retry","linked":"[猫{Failed} {Retry}猫]"},"thun_ThereWasAnErrorWhileLoadingRooms_484":"[猫There was an error while loading rooms猫]"}')},885:function(e,t,o){"use strict";o(750)},886:function(e,t,o){var r=o(6)(!1);r.push([e.i,".up-d-room-list[data-v-09478171]{display:flex;flex-direction:column;-webkit-tap-highlight-color:transparent;background-color:var(--white);width:100%;--search-header-height:var(--room-header-height)}.is-mobile-app .up-d-room-list[data-v-09478171]{min-height:100vh}.up-d-room-list.is-desktop-view[data-v-09478171]{min-height:100%;overflow-y:auto;height:100%}.up-d-room-list.is-search-view[data-v-09478171]{height:auto;min-height:auto;overflow:unset}.is-desktop-view .rooms-list-header[data-v-09478171]{position:sticky;top:0;z-index:1}.room-list-body[data-v-09478171]{flex-grow:1;display:flex;flex-direction:column}.is-search-view .room-list-body[data-v-09478171]{display:none}.room-list-scroll[data-v-09478171]{width:100%;height:100%}",""]),e.exports=r}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/rooms.3e27d6e4.js.map