(window.webpackJsonp=window.webpackJsonp||[]).push([[157,30],{285:function(e,t,o){"use strict";o(1);const r=e=>e.sort(((a,b)=>a-b)),n="notify";var h={name:"UpCResizeObserver",props:{widths:{type:Array,default:()=>[],validator:e=>e.every((e=>Number.isFinite(e)&&e>0))},heights:{type:Array,default:()=>[],validator:e=>e.every((e=>Number.isFinite(e)&&e>0))},observeViewport:{type:Boolean,default:!1}},data:()=>({width:0,height:0}),computed:{sortedWidthBreakpoints(){return this.widths.length?[...r(this.widths),1/0]:[]},sortedHeightBreakpoints(){return this.heights.length?[...r(this.heights),1/0]:[]},observedElement(){return this.observeViewport?window:this.$parent.$el}},mounted(){if(this.observeViewport)return this.resizeCb=()=>{this.compareAndNotify("width","innerWidth",this.sortedWidthBreakpoints),this.compareAndNotify("height","innerHeight",this.sortedHeightBreakpoints)},this.width=window.innerWidth,this.height=window.innerHeight,window.addEventListener("resize",this.resizeCb,{passive:!0}),void this.notify();window.ResizeObserver&&(window.requestAnimationFrame((()=>{this.width=this.observedElement.offsetWidth,this.height=this.observedElement.offsetHeight,window.up_c_observer_map||(window.up_c_observer_map=new WeakMap),this.widths.length||this.heights.length?(window.up_c_observer_map.set(this.observedElement,(()=>{this.compareAndNotify("width","offsetWidth",this.sortedWidthBreakpoints),this.compareAndNotify("height","offsetHeight",this.sortedHeightBreakpoints)})),this.notify()):window.up_c_observer_map.set(this.observedElement,(()=>{this.$emit(n,{width:this.observedElement.offsetWidth,height:this.observedElement.offsetHeight})}))})),window.up_c_observer||(window.up_c_observer=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{Array.isArray(e)&&e.length&&window.up_c_observer_map&&e.forEach((e=>{window.up_c_observer_map.has(e.target)&&window.up_c_observer_map.get(e.target)()}))}))}))),window.up_c_observer.observe(this.observedElement))},beforeDestroy(){this.observeViewport?window.removeEventListener("resize",this.resizeCb):(window.up_c_observer&&window.up_c_observer.unobserve(this.observedElement),window.up_c_observer_map&&window.up_c_observer_map.has(this.observedElement)&&window.up_c_observer_map.delete(this.observedElement))},methods:{notify(){let e=this.sortedWidthBreakpoints.findIndex((e=>this.width<=e));const t=e<0?this.sortedWidthBreakpoints.length:e;e=this.sortedHeightBreakpoints.findIndex((e=>this.height<=e));const o=e<0?this.sortedHeightBreakpoints.length:e;this.$emit(n,{widthIndex:t,heightIndex:o})},compareAndNotify(e,t,o){if(!o.length)return;const r=o.findIndex((t=>this[e]<=t)),h=o.findIndex((e=>this.observedElement[t]<=e));this[e]*this.observedElement[t]!=0&&(r===h||h<0)||(this.$emit(n,{["".concat(e,"Index")]:h}),this[e]=this.observedElement[t])}},render:()=>null},l=o(4),component=Object(l.a)(h,undefined,undefined,!1,null,null,null);t.a=component.exports},340:function(e,t,o){"use strict";function r(element,e,t){function o(e){const path=e.composedPath&&e.composedPath()||e.path;return Array.isArray(path)&&path.indexOf(element)<0?t(e):null}return e.forEach((e=>{document.body.addEventListener(e,o)})),()=>{e.forEach((e=>{document.body.removeEventListener(e,o)}))}}function n(element,e){return r(element,["click"],e)}function h(element,e){return r(element,["mouseup","touchend"],e)}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return h}))},494:function(e,t,o){"use strict";o.r(t);var r={},n=o(4),component=Object(n.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-name":"Layer 1",viewBox:"0 0 24 24",role:"img"}},[t("circle",{attrs:{cx:"12",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}}),t("circle",{attrs:{cx:"19.5",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}}),t("circle",{attrs:{cx:"4.5",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])}),[],!1,null,null,null);t.default=component.exports},549:function(e,t,o){var content=o(550);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(7).default)("622ac6e2",content,!0,{sourceMap:!1,manualInject:!0})},550:function(e,t,o){var r=o(6)(!1);r.push([e.i,".air3-dropdown-secondary{--dropdown-secondary-toggle-bg-selected:var(--bg-btn-light-hover);display:inline-block;position:relative}.air3-dropdown-secondary .air3-dropdown-secondary-toggle[aria-expanded=true]{background-color:var(--dropdown-secondary-toggle-bg-selected)}.air3-dropdown-secondary .air3-dropdown-secondary-toggle.has-no-border{border:0;background:none}.air3-dropdown-secondary .air3-popper-container{--popper-padding:0;--popper-max-width:auto}.air3-dropdown-secondary .air3-transition-intro-enter-active,.air3-dropdown-secondary .air3-transition-intro-leave-active{--animation-duration:0.2s;--translate-x-start:0}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=top],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=top]{--translate-y-start:20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=bottom],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=bottom]{--translate-y-start:-20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=left],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=left]{--translate-x-start:20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=right],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=right]{--translate-x-start:-20px!important}.air3-dropdown-secondary .air3-result-feedback .air3-icon{margin-right:var(--ws-3x)}.air3-dropdown-secondary-append-to-body .air3-popper-container{--popper-padding:0;--animation-duration:0.2s;--translate-x-start:0}",""]),e.exports=r},551:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"More options"}')},552:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"More options"}')},553:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"猫More options猫"}')},563:function(e,t,o){"use strict";o.r(t);var r=o(285),n=o(549),h=o.n(n),l=o(29),c=o(340),d=o(164),m=o.n(d),y=o(157),v=o(494),f=o(162);function w(e){return e.map((e=>{const t={...e};return t._origin=e,t}))}var k={"en-gb":o(551),en:o(552),is:o(553)},I={injectStyles:[h.a,m.a],name:"UpCDropdownSecondary",components:{UpCDropdownMenu:()=>o.e(112).then(o.bind(null,618)).then((e=>e.default||e)),UpCIcon:y.default,UpCResizeObserver:r.a},i18n:{messages:k},model:{prop:"selected",event:"change"},props:{items:{type:Array,default:()=>[]},appendToBody:{type:Boolean,default:!1},sortMenuItems:{type:Boolean,default:!1},title:{type:String,default:null},label:{type:String,default(){return this.$t("vc_MoreOptions_1")}},icon:{type:[Object,Function],default:null},align:{type:String,default:"start"},groups:{type:Array,default:()=>[]},checkableBehavior:{type:String,validator:e=>["single","multiple","none"].includes(e),default:"none"},disabled:{type:Boolean,default:!1},itemLink:{type:String,default:""},itemKey:{type:String,default:"id"},itemText:{type:String,default:"label"},itemSublabel:{type:String,default:""},groupKey:{type:String,default:"id"},groupText:{type:String,default:"label"},groupItemsKey:{type:String,default:"items"},groupDividers:{type:Boolean,default:!1},selected:{type:[Array,Object],default:null},menuClass:{type:String,default:""},horizontalMenu:{type:Boolean,default:!1},btnBorder:{type:Boolean,default:!1},size:{default:"md",type:String,validator:e=>["sm","md"].includes(e)}},data:()=>({UpCPopover:async()=>o.e(111).then(o.bind(null,414)).then((e=>e.default||e)),moreIcon:v.default,isOpen:!1,isNativeApp:Object(l.a)(),openNativeMenu:null,selectedIds:[],id:null,isMobile:!1,offClickOutside:null,menuItems:[],groupItems:[]}),computed:{component(){return this.isMobile?"div":this.UpCPopover},popperOffset(){const e=this.btnBorder?6:20;switch(this.align){case"center":return[0,e];case"end":return[16,e];default:return[-16,e]}},effectivePlacement(){return"start"===this.align||"end"===this.align?"bottom-".concat(this.align):"bottom"},effectiveFallbackPlacement(){return"start"===this.align||"end"===this.align?"top-".concat(this.align):"top"}},watch:{items:{immediate:!0,deep:!0,handler(e){Array.isArray(this.items)&&(this.menuItems=w(this.items)),e.length&&function(data){if(Array.isArray(data.items)&&data.items.length){const e=data.items.every((e=>e[data.itemText]&&"string"==typeof e[data.itemText]));data.items.every((e=>e[data.itemKey]&&"string"==typeof e[data.itemKey]))?e?data.itemLink&&"none"!==data.checkableBehavior&&console.error("Dropdown with link should be checkable behavior none"):console.error("Each dropdown-secondary menu item should have ".concat(data.itemText," property and type should be string")):console.error("Each dropdown-secondary menu item should have ".concat(data.itemKey," property and type should be string"))}}({items:this.menuItems,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink,checkableBehavior:this.checkableBehavior})}},groups:{immediate:!0,deep:!0,handler(e){var t,o;Array.isArray(this.groups)&&(this.groupItems=(t=this.groups,o=this.groupItemsKey,t.map((e=>{const t={...e};return t[o]=w(e[o]),t})))),e.length&&function(data){if(Array.isArray(data.groups)&&data.groups.length)if(data.groups[0][data.groupText]&&data.title)console.error("Can not add group title to the first group when there is dropdown title");else{const e=!data.itemLink||data.groups.every((e=>"none"===e.checkableBehavior)),t=data.groups.every((e=>e[data.groupKey]&&"string"==typeof e[data.groupKey])),o=data.groups.every((e=>!Array.isArray(e[data.groupItems])||e[data.groupItems].every((e=>e[data.itemKey]&&"string"==typeof e[data.itemKey])))),r=data.groups.every((e=>!Array.isArray(e[data.groupItems])||e[data.groupItems].every((e=>e[data.itemText]&&"string"==typeof e[data.itemText]))));t?o?r?e||console.error("Group dropdown with link should be checkable behavior none"):console.error("Each dropdown-secondary menu item should have ".concat(data.itemText," property and type should be string")):console.error("Each dropdown-secondary menu item should have ".concat(data.itemKey," property and type should be string")):console.error("Each group items should have ".concat(data.groupKey," property and type should be string"))}}({groups:this.groupItems,groupText:this.groupText,groupKey:this.groupKey,groupItems:this.groupItemsKey,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink,title:this.title})}},selected:{immediate:!0,handler(e,t){const o=Array.isArray(e)&&e.length,r=!t&&(e||o);this.setDefaultSelectedValues({shouldNotEmitChange:r})}}},async mounted(){if(this.id=Object(f.a)().toString(),this.$refs.container&&(this.offClickOutside=Object(c.a)(this.$refs.container,this.onClickOutside)),this.isNativeApp){const{openNative:e,syncNativeSelection:t,isNativeFeatureAvailable:r}=await o.e(230).then(o.bind(null,2195));this.isNativeFeatureAvailable=r,this.openNative=e,this.syncNativeSelection=t}},beforeDestroy(){this.offClickOutside&&this.offClickOutside()},methods:{async open(){this.isOpen?this.close():(this.isOpen=!0,this.isMobile||this.isNativeApp||(await this.UpCPopover().then((async()=>(await this.$options.components.UpCDropdownMenu(),new Promise((e=>{setTimeout((async()=>{await this.$refs.menu.load(),await this.$refs.popover.createPopperIns({open:!0}),e()}),0)}))))),this.$refs.menu.setMenuFocus(40)),this.isNativeApp&&null===this.openNativeMenu&&(this.openNativeMenu=await this.isNativeFeatureAvailable("menus","secondary")),this.openNativeMenu&&await this.openNative())},onMouseDown(e){this.isOpen&&e.preventDefault()},onClickOutside(){this.isOpen&&!this.isMobile&&this.closeMenu()},close(){this.isOpen&&(this.closeMenu(),this.$emit("close"))},isSelectedChanged(){let e=[];this.selected&&!Array.isArray(this.selected)?e.push(this.selected[this.itemKey]):Array.isArray(this.selected)&&(e=this.selected.map((e=>e[this.itemKey])));let t=[];if(this.menuItems&&!this.groupItems.length)t=this.menuItems.filter((e=>e.isChecked)).map((e=>e[this.itemKey]));else if(this.groupItems&&this.groupItems.length){let e=[];this.groupItems.forEach((t=>{t&&Array.isArray(t[this.groupItemsKey])&&(e=e.concat(t[this.groupItemsKey]))})),t=e.filter((e=>e.isChecked)).map((e=>e[this.itemKey]))}return!(e.length===t.length&&e.every((e=>t.indexOf(e)>=0)))},setDefaultSelectedValues(e){let{shouldNotEmitChange:t}=e;if(this.isSelectedChanged())if(!this.selected||Array.isArray(this.selected)&&!this.selected.length)this.menuItems&&!this.groupItems.length?"none"!==this.checkableBehavior&&this.menuItems.forEach(((e,t)=>{e.isChecked=!1,this.$set(this.menuItems,t,e)})):this.groupItems&&this.groupItems.length&&this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&e[this.groupItemsKey].forEach(((t,o)=>{t.isChecked=!1,this.$set(e[this.groupItemsKey],o,t)}))}));else{if(Array.isArray(this.selected)){if(this.menuItems&&!this.groupItems.length)this.selected.forEach((e=>{"none"!==this.checkableBehavior&&this.setSelectedProp(e,this.menuItems,this.checkableBehavior,!0)}));else if(this.groupItems&&this.groupItems.length){const e={};this.selected.forEach((t=>{this.groupItems.forEach((o=>{if(o[this.groupItemsKey].find((option=>option[this.itemKey]===t[this.itemKey]))&&"none"!==o.checkableBehavior){const r=o.checkableBehaviorParentId&&"single"===o.checkableBehavior?o.checkableBehaviorParentId:o[this.groupKey];e[r]||(e[r]=[]),"single"===o.checkableBehavior?e[r][0]=t:e[r].push(t)}}))}));const t=Object.values(e).reduce(((e,t)=>e.concat(t)),[]);this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&t.forEach((t=>{this.setSelectedProp(t,e[this.groupItemsKey],e.checkableBehavior,!0)}))}))}}else this.menuItems&&!this.groupItems.length?"none"!==this.checkableBehavior&&this.setSelectedProp(this.selected,this.menuItems,this.checkableBehavior,!0):this.groupItems&&this.groupItems.length&&this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&this.setSelectedProp(this.selected,e[this.groupItemsKey],e.checkableBehavior,!0)}));t||this.emitSelectionEvent()}},setSelectedProp(e,t,o,r){const n=t.find((t=>t[this.itemKey]===e[this.itemKey]));t.forEach(((h,l)=>{h[this.itemKey]===e[this.itemKey]?h.isChecked=!("multiple"===o&&!r)||!h.isChecked:"multiple"!==o&&n&&(h.isChecked=!1),this.$set(t,l,h)}))},onSelect(e,t){e&&(this.$emit("select",e._origin),e.onSelect&&("multiple"!==this.checkableBehavior?e.onSelect():e.isChecked||e.onSelect()),"none"!==this.checkableBehavior&&this.setSelectedProp(e,this.menuItems,this.checkableBehavior),this.emitSelectionEvent(),t&&!this.isMobile&&this.closeMenu(!0))},groupSelect(e,t){if(!e||!e.item)return;this.$emit("select",e.item._origin),e.item.onSelect&&("multiple"!==e.checkableBehavior?e.item.onSelect():e.item.isChecked||e.item.onSelect());const o=this.groupItems.find((t=>t[this.groupKey]===e.groupId));if("multiple"===o.checkableBehavior)this.setSelectedProp(e.item,o[this.groupItemsKey],e.checkableBehavior);else if("single"===o.checkableBehavior){let t=o[this.groupItemsKey];this.groupItems.forEach((e=>{(o.checkableBehaviorParentId&&(o.checkableBehaviorParentId===e[this.groupKey]||o.checkableBehaviorParentId===e.checkableBehaviorParentId)||o[this.groupKey]===e.checkableBehaviorParentId)&&(t=t.concat(e[this.groupItemsKey]))})),this.setSelectedProp(e.item,t,e.checkableBehavior)}"none"!==e.checkableBehavior&&this.emitSelectionEvent(),t&&!this.isMobile&&this.closeMenu(!0)},focus(){setTimeout((()=>{this.$refs.toggle.focus()}),0)},closeMenu(e){this.isMobile||this.openNativeMenu||!this.$refs.popover?this.isOpen=!1:(this.$refs.menu.resetMenuIndex(),this.$refs.popover.close(e),this.$refs.popover.$on("destroyed",(()=>{this.isOpen=!1})))},emitSelectionEvent(){if(this.menuItems&&!this.groupItems.length){const e=this.menuItems.filter((e=>e.isChecked)).map((e=>e._origin));"single"===this.checkableBehavior?this.$emit("change",e[0]):"multiple"===this.checkableBehavior&&this.$emit("change",e)}else if(this.groupItems&&this.groupItems.length){let e=[];this.groupItems.forEach((t=>{t&&Array.isArray(t[this.groupItemsKey])&&(e=e.concat(t[this.groupItemsKey]))}));const t=e.filter((e=>e.isChecked)).map((e=>e._origin));this.$emit("change",t)}},handleResize(e){this.isMobile=!e.widthIndex}}},_=o(4),component=Object(_.a)(I,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{"data-ev-sublocation":"!dropdown_secondary"}},[o("UpCResizeObserver",{directives:[{name:"show",rawName:"v-show",value:!e.isNativeApp,expression:"!isNativeApp"}],attrs:{widths:[699],"observe-viewport":!0},on:{notify:e.handleResize}}),e._v(" "),o("div",{ref:"container",staticClass:"air3-dropdown-secondary",class:{open:e.isOpen}},[o("button",{ref:"toggle",staticClass:"air3-btn air3-btn-secondary air3-btn-circle air3-dropdown-secondary-toggle",class:{"has-no-border":e.btnBorder,"air3-btn-sm":"sm"===e.size},attrs:{id:"dropdown-secondary-label-"+e.id,type:"button","aria-expanded":""+e.isOpen,disabled:e.disabled,"data-ev-label":"dropdown_toggle"},on:{click:e.open,mousedown:e.onMouseDown,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.open.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.open.apply(null,arguments))}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.close.apply(null,arguments)}}},[o("span",{staticClass:"sr-only"},[e._v(e._s(e.label))]),e._v(" "),o("UpCIcon",{attrs:{icon:e.icon||e.moreIcon,size:"sm"}})],1),e._v(" "),e.isOpen&&!e.openNativeMenu?o(e.component,e._b({ref:"popover",tag:"component",attrs:{"append-to-body":e.appendToBody}},"component",!e.isMobile&&{closeButton:!1,aria:!1,offset:e.popperOffset,fallbackPlacements:[e.effectiveFallbackPlacement],placement:e.effectivePlacement,trigger:"none",target:"#dropdown-secondary-label-"+e.id,customClass:e.appendToBody?"air3-dropdown-secondary-append-to-body":""},!1),[o("UpCDropdownMenu",{ref:"menu",attrs:{id:e.id,"aria-labelledby":"dropdown-secondary-label-"+e.id,title:e.title,align:e.align,items:e.menuItems,"sort-menu-items":e.sortMenuItems,groups:e.groupItems,"checkable-behavior":e.checkableBehavior,"item-key":e.itemKey,"item-text":e.itemText,"item-link":e.itemLink,"item-sublabel":e.itemSublabel,"group-key":e.groupKey,"group-text":e.groupText,"group-items-key":e.groupItemsKey,"group-dividers":e.groupDividers,"is-mobile":e.isMobile,"menu-class":e.menuClass,"horizontal-menu":e.horizontalMenu},on:{close:e.close,groupSelect:e.groupSelect,select:e.onSelect},scopedSlots:e._u([e.$slots["menu-decoration"]?{key:"menu-decoration",fn:function(){return[e._t("menu-decoration")]},proxy:!0}:null],null,!0)})],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/dropdown-menu-secondary.4872a02c.js.map