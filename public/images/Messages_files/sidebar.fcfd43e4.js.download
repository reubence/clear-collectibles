/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[341,30,32,157,351],{1212:function(e){e.exports=JSON.parse('{"thun_Search_407":"Search"}')},1213:function(e){e.exports=JSON.parse('{"thun_Search_407":"Search"}')},1214:function(e){e.exports=JSON.parse('{"thun_Search_407":"[猫Search猫]"}')},1215:function(e,t,n){"use strict";n(804)},1216:function(e,t,n){var r=n(6)(!1);r.push([e.i,"input[data-v-594fc52c]{min-height:60px;min-height:var(--search-rooms-height,60px)}input[data-v-594fc52c],input[data-v-594fc52c]:focus,input[data-v-594fc52c]:hover{--input-border-color:transparent}",""]),e.exports=r},1223:function(e){e.exports=JSON.parse('{"thun_NoMessagesFoundThatMatchYourSearch_98":"No messages found that match your search"}')},1224:function(e){e.exports=JSON.parse('{"thun_NoMessagesFoundThatMatchYourSearch_98":"No messages found that match your search"}')},1225:function(e){e.exports=JSON.parse('{"thun_NoMessagesFoundThatMatchYourSearch_98":"[猫No messages found that match your search猫]"}')},1235:function(e,t,n){"use strict";n(1);var r=n(165),map=n(195),o=n(267),l=n(167),c=n(153);var d=n(1266),filter=n(337),m=n(2),h=n(381),v=n(805),f=n(203),y=n(51),x=n(811),_={"en-gb":n(1223),en:n(1224),is:n(1225)};const w=h.b.MESSAGES;var I={i18n:{messages:_},name:"UpDSearchMessages",props:{query:String,roomId:String},components:{UpDMessageList:x.a},watch:{query:{immediate:!0,handler(e){this.searchQuery(e,this.roomId)}}},methods:{loadMore(){this.loadingMore[w]||this.searchMore(w,this.roomId).subscribe()},onStoryClick(){this.sendMessageSearchEvent("open_message_search_result","click")}},setup(){const{loading:e,loadingMore:t,result:n,searchQuery:h,searchMore:x}=Object(v.a)(),{$thunderTracker:_}=Object(y.b)(),I=(label,e)=>{_.track({label:label,event:e,sublocation:"message_search_panel"})},k=new r.b;return k.add(Object(f.d)(e).pipe(Object(map.a)((e=>{let[t]=e;return t[w]})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(l.c)(e);return Object(c.a)((function(source,t){(n?Object(o.a)(e,source,n):Object(o.a)(e,source)).subscribe(t)}))}(!0),Object(d.a)(),Object(filter.a)((e=>{let[t,n]=e;return!n&&t}))).subscribe((()=>{I("view_message_search_results","impression")}))),Object(m.j)((()=>k.unsubscribe())),{loading:e,loadingMore:t,result:n,searchQuery:h,searchMore:x,searchSection:w,sendMessageSearchEvent:I}}},k=I,O=n(4),component=Object(O.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("up-d-message-list",{attrs:{loading:e.loading[e.searchSection],stories:e.result[e.searchSection],query:e.query},on:{loadMore:e.loadMore,storyClick:e.onStoryClick}},[n("h3",{staticClass:"h5"},[e._v(e._s(e.$t("thun_NoMessagesFoundThatMatchYourSearch_98")))])])}),[],!1,null,null,null);t.a=component.exports},1266:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(153),o=n(154);function l(){return Object(r.a)((function(source,e){var t,n=!1;source.subscribe(Object(o.a)(e,(function(r){var p=t;t=r,n&&e.next([p,r]),n=!0})))}))}},1401:function(e,t,n){var content=n(1977);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("7f7f45bb",content,!0,{sourceMap:!1,manualInject:!0})},1402:function(e,t,n){var content=n(1982);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("aacc6740",content,!0,{sourceMap:!1,manualInject:!0})},1440:function(e,t,n){var content=n(2116);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("bca7134e",content,!0,{sourceMap:!1,manualInject:!0})},1441:function(e,t,n){var content=n(2118);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("98d658ae",content,!0,{sourceMap:!1,manualInject:!0})},1442:function(e,t,n){var content=n(2123);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("56580b73",content,!0,{sourceMap:!1,manualInject:!0})},1443:function(e,t,n){var content=n(2128);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("33fc471f",content,!0,{sourceMap:!1,manualInject:!0})},1444:function(e,t,n){var content=n(2133);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("24d9c4d8",content,!0,{sourceMap:!1,manualInject:!0})},1445:function(e,t,n){var content=n(2138);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("694e9dc1",content,!0,{sourceMap:!1,manualInject:!0})},1446:function(e,t,n){var content=n(2140);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("142b6879",content,!0,{sourceMap:!1,manualInject:!0})},1447:function(e,t,n){var content=n(2145);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("112dad99",content,!0,{sourceMap:!1,manualInject:!0})},1448:function(e,t,n){var content=n(2147);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("03d828ee",content,!0,{sourceMap:!1,manualInject:!0})},193:function(e,t,n){var content=n(210);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("e11ed0e8",content,!0,{sourceMap:!1,manualInject:!0})},1968:function(e,t,n){var content=n(1969);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("7cbb4ef8",content,!0,{sourceMap:!1,manualInject:!0})},1969:function(e,t,n){var r=n(6)(!1);r.push([e.i,".air3-line-clamp-wrapper{position:relative}.air3-line-clamp-wrapper .air3-line-clamp{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;max-height:calc(var(--line-height-base)*(var(--lines) + 1));transition:max-height .3s ease-in;transition:var(--reduced-motion,max-height .3s ease-in)}.air3-line-clamp-wrapper .is-expanded{max-height:100rem;max-height:var(--line-clamp-height,100rem);transition:max-height .3s ease-out;transition:var(--reduced-motion,max-height .3s ease-out);-webkit-line-clamp:10000}.air3-line-clamp-wrapper .is-clamped{-webkit-line-clamp:var(--lines)}",""]),e.exports=r},1970:function(e){e.exports=JSON.parse('{"vc_Less":"less","vc_More":"more"}')},1971:function(e){e.exports=JSON.parse('{"vc_Less":"less","vc_More":"more"}')},1972:function(e){e.exports=JSON.parse('{"vc_Less":"猫less猫","vc_More":"猫more猫"}')},1973:function(e){e.exports=JSON.parse('{"thun_CloseRoomOptionsPanel_1":"Close Room Options Panel"}')},1974:function(e){e.exports=JSON.parse('{"thun_CloseRoomOptionsPanel_1":"Close Room Options Panel"}')},1975:function(e){e.exports=JSON.parse('{"thun_CloseRoomOptionsPanel_1":"[猫Close Room Options Panel猫]"}')},1976:function(e,t,n){"use strict";n(1401)},1977:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-sidebar-header[data-v-333144fb]{--padding-size:15px;display:flex;flex-direction:row;border-bottom:var(--border)}.up-d-sidebar-header>.avatar[data-v-333144fb]{margin:var(--padding-size) 0 var(--padding-size) var(--padding-size);flex-shrink:0}.up-d-sidebar-header>.air3-btn-circle[data-v-333144fb]{flex-shrink:0}.up-d-sidebar-header>.header-content[data-v-333144fb]{padding:var(--padding-size);position:relative;display:flex;flex-direction:column;overflow:hidden;flex:1}.up-d-sidebar-header>.header-content>*[data-v-333144fb]{line-height:20px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:0}.up-d-sidebar-header>.header-content small[data-v-333144fb]{white-space:normal}.up-d-sidebar-header>.header-content .clickable[data-v-333144fb]{cursor:pointer}.up-d-sidebar-header>.header-content>button[data-v-333144fb]{position:absolute;top:5px;right:2px}.up-d-sidebar-header>.header-content>h3[data-v-333144fb]{cursor:pointer}.up-d-sidebar-header .briefcase-icon[data-v-333144fb]{transform:translateY(3px)}",""]),e.exports=r},1978:function(e){e.exports=JSON.parse('{"thun_People_1":"People","thun_FilesAndLinks_2":"Files & links","thun_PersonalNotepad_3":"Personal notepad","thun_SearchMessages_4":"Search messages"}')},1979:function(e){e.exports=JSON.parse('{"thun_People_1":"People","thun_FilesAndLinks_2":"Files & Links","thun_PersonalNotepad_3":"Personal notepad","thun_SearchMessages_4":"Search Messages"}')},1980:function(e){e.exports=JSON.parse('{"thun_People_1":"[猫People猫]","thun_FilesAndLinks_2":"[猫Files & Links猫]","thun_PersonalNotepad_3":"[猫Personal notepad猫]","thun_SearchMessages_4":"[猫Search Messages猫]"}')},1981:function(e,t,n){"use strict";n(1402)},1982:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-sidebar[data-v-204a1791]{background-color:var(--white);height:100%;overflow:hidden}ul[data-v-204a1791]{margin:0;padding:0}li[data-v-204a1791]{display:flex;align-items:center;margin-bottom:0;list-style:none;border-bottom:var(--border);font-weight:var(--font-weight-strong);padding:var(--sidebar-padding);cursor:pointer}.app-icon[data-v-204a1791]{margin-right:10px}.panel-list-item-title[data-v-204a1791]{flex:1}.air3-icon[data-v-204a1791]{color:var(--text-icon)}",""]),e.exports=r},210:function(e,t,n){var r=n(6)(!1);r.push([e.i,".m-0{margin:0!important}.m-1,.m-1x{margin:var(--ws-1x)!important}.m-2,.m-2x{margin:var(--ws-2x)!important}.m-3,.m-3x{margin:var(--ws-3x)!important}.m-4,.m-4x{margin:var(--ws-4x)!important}.m-5,.m-6x{margin:var(--ws-6x)!important}.m-6,.m-8x{margin:var(--ws-8x)!important}.m-10x{margin:var(--ws-10x)!important}.m-7,.m-12x{margin:var(--ws-12x)!important}.m-auto{margin:auto!important}@media (min-width:700px){.m-md-0{margin:0!important}.m-md-1,.m-md-1x{margin:var(--ws-1x)!important}.m-md-2,.m-md-2x{margin:var(--ws-2x)!important}.m-md-3,.m-md-3x{margin:var(--ws-3x)!important}.m-md-4,.m-md-4x{margin:var(--ws-4x)!important}.m-md-5,.m-md-6x{margin:var(--ws-6x)!important}.m-md-6,.m-md-8x{margin:var(--ws-8x)!important}.m-md-10x{margin:var(--ws-10x)!important}.m-md-7,.m-md-12x{margin:var(--ws-12x)!important}.m-md-auto{margin:auto!important}}@media (min-width:1200px){.m-lg-0{margin:0!important}.m-lg-1,.m-lg-1x{margin:var(--ws-1x)!important}.m-lg-2,.m-lg-2x{margin:var(--ws-2x)!important}.m-lg-3,.m-lg-3x{margin:var(--ws-3x)!important}.m-lg-4,.m-lg-4x{margin:var(--ws-4x)!important}.m-lg-5,.m-lg-6x{margin:var(--ws-6x)!important}.m-lg-6,.m-lg-8x{margin:var(--ws-8x)!important}.m-lg-10x{margin:var(--ws-10x)!important}.m-lg-7,.m-lg-12x{margin:var(--ws-12x)!important}.m-lg-auto{margin:auto!important}}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1,.mx-1x{margin-right:var(--ws-1x)!important;margin-left:var(--ws-1x)!important}.mx-2,.mx-2x{margin-right:var(--ws-2x)!important;margin-left:var(--ws-2x)!important}.mx-3,.mx-3x{margin-right:var(--ws-3x)!important;margin-left:var(--ws-3x)!important}.mx-4,.mx-4x{margin-right:var(--ws-4x)!important;margin-left:var(--ws-4x)!important}.mx-5,.mx-6x{margin-right:var(--ws-6x)!important;margin-left:var(--ws-6x)!important}.mx-6,.mx-8x{margin-right:var(--ws-8x)!important;margin-left:var(--ws-8x)!important}.mx-10x{margin-right:var(--ws-10x)!important;margin-left:var(--ws-10x)!important}.mx-7,.mx-12x{margin-right:var(--ws-12x)!important;margin-left:var(--ws-12x)!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}@media (min-width:700px){.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1,.mx-md-1x{margin-right:var(--ws-1x)!important;margin-left:var(--ws-1x)!important}.mx-md-2,.mx-md-2x{margin-right:var(--ws-2x)!important;margin-left:var(--ws-2x)!important}.mx-md-3,.mx-md-3x{margin-right:var(--ws-3x)!important;margin-left:var(--ws-3x)!important}.mx-md-4,.mx-md-4x{margin-right:var(--ws-4x)!important;margin-left:var(--ws-4x)!important}.mx-md-5,.mx-md-6x{margin-right:var(--ws-6x)!important;margin-left:var(--ws-6x)!important}.mx-md-6,.mx-md-8x{margin-right:var(--ws-8x)!important;margin-left:var(--ws-8x)!important}.mx-md-10x{margin-right:var(--ws-10x)!important;margin-left:var(--ws-10x)!important}.mx-md-7,.mx-md-12x{margin-right:var(--ws-12x)!important;margin-left:var(--ws-12x)!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}}@media (min-width:1200px){.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1,.mx-lg-1x{margin-right:var(--ws-1x)!important;margin-left:var(--ws-1x)!important}.mx-lg-2,.mx-lg-2x{margin-right:var(--ws-2x)!important;margin-left:var(--ws-2x)!important}.mx-lg-3,.mx-lg-3x{margin-right:var(--ws-3x)!important;margin-left:var(--ws-3x)!important}.mx-lg-4,.mx-lg-4x{margin-right:var(--ws-4x)!important;margin-left:var(--ws-4x)!important}.mx-lg-5,.mx-lg-6x{margin-right:var(--ws-6x)!important;margin-left:var(--ws-6x)!important}.mx-lg-6,.mx-lg-8x{margin-right:var(--ws-8x)!important;margin-left:var(--ws-8x)!important}.mx-lg-10x{margin-right:var(--ws-10x)!important;margin-left:var(--ws-10x)!important}.mx-lg-7,.mx-lg-12x{margin-right:var(--ws-12x)!important;margin-left:var(--ws-12x)!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1,.my-1x{margin-top:var(--ws-1x)!important;margin-bottom:var(--ws-1x)!important}.my-2,.my-2x{margin-top:var(--ws-2x)!important;margin-bottom:var(--ws-2x)!important}.my-3,.my-3x{margin-top:var(--ws-3x)!important;margin-bottom:var(--ws-3x)!important}.my-4,.my-4x{margin-top:var(--ws-4x)!important;margin-bottom:var(--ws-4x)!important}.my-5,.my-6x{margin-top:var(--ws-6x)!important;margin-bottom:var(--ws-6x)!important}.my-6,.my-8x{margin-top:var(--ws-8x)!important;margin-bottom:var(--ws-8x)!important}.my-10x{margin-top:var(--ws-10x)!important;margin-bottom:var(--ws-10x)!important}.my-7,.my-12x{margin-top:var(--ws-12x)!important;margin-bottom:var(--ws-12x)!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}@media (min-width:700px){.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1,.my-md-1x{margin-top:var(--ws-1x)!important;margin-bottom:var(--ws-1x)!important}.my-md-2,.my-md-2x{margin-top:var(--ws-2x)!important;margin-bottom:var(--ws-2x)!important}.my-md-3,.my-md-3x{margin-top:var(--ws-3x)!important;margin-bottom:var(--ws-3x)!important}.my-md-4,.my-md-4x{margin-top:var(--ws-4x)!important;margin-bottom:var(--ws-4x)!important}.my-md-5,.my-md-6x{margin-top:var(--ws-6x)!important;margin-bottom:var(--ws-6x)!important}.my-md-6,.my-md-8x{margin-top:var(--ws-8x)!important;margin-bottom:var(--ws-8x)!important}.my-md-10x{margin-top:var(--ws-10x)!important;margin-bottom:var(--ws-10x)!important}.my-md-7,.my-md-12x{margin-top:var(--ws-12x)!important;margin-bottom:var(--ws-12x)!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}}@media (min-width:1200px){.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1,.my-lg-1x{margin-top:var(--ws-1x)!important;margin-bottom:var(--ws-1x)!important}.my-lg-2,.my-lg-2x{margin-top:var(--ws-2x)!important;margin-bottom:var(--ws-2x)!important}.my-lg-3,.my-lg-3x{margin-top:var(--ws-3x)!important;margin-bottom:var(--ws-3x)!important}.my-lg-4,.my-lg-4x{margin-top:var(--ws-4x)!important;margin-bottom:var(--ws-4x)!important}.my-lg-5,.my-lg-6x{margin-top:var(--ws-6x)!important;margin-bottom:var(--ws-6x)!important}.my-lg-6,.my-lg-8x{margin-top:var(--ws-8x)!important;margin-bottom:var(--ws-8x)!important}.my-lg-10x{margin-top:var(--ws-10x)!important;margin-bottom:var(--ws-10x)!important}.my-lg-7,.my-lg-12x{margin-top:var(--ws-12x)!important;margin-bottom:var(--ws-12x)!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}}.mt-0{margin-top:0!important}.mt-1,.mt-1x{margin-top:var(--ws-1x)!important}.mt-2,.mt-2x{margin-top:var(--ws-2x)!important}.mt-3,.mt-3x{margin-top:var(--ws-3x)!important}.mt-4,.mt-4x{margin-top:var(--ws-4x)!important}.mt-5,.mt-6x{margin-top:var(--ws-6x)!important}.mt-6,.mt-8x{margin-top:var(--ws-8x)!important}.mt-10x{margin-top:var(--ws-10x)!important}.mt-7,.mt-12x{margin-top:var(--ws-12x)!important}.mt-auto{margin-top:auto!important}@media (min-width:700px){.mt-md-0{margin-top:0!important}.mt-md-1,.mt-md-1x{margin-top:var(--ws-1x)!important}.mt-md-2,.mt-md-2x{margin-top:var(--ws-2x)!important}.mt-md-3,.mt-md-3x{margin-top:var(--ws-3x)!important}.mt-md-4,.mt-md-4x{margin-top:var(--ws-4x)!important}.mt-md-5,.mt-md-6x{margin-top:var(--ws-6x)!important}.mt-md-6,.mt-md-8x{margin-top:var(--ws-8x)!important}.mt-md-10x{margin-top:var(--ws-10x)!important}.mt-md-7,.mt-md-12x{margin-top:var(--ws-12x)!important}.mt-md-auto{margin-top:auto!important}}@media (min-width:1200px){.mt-lg-0{margin-top:0!important}.mt-lg-1,.mt-lg-1x{margin-top:var(--ws-1x)!important}.mt-lg-2,.mt-lg-2x{margin-top:var(--ws-2x)!important}.mt-lg-3,.mt-lg-3x{margin-top:var(--ws-3x)!important}.mt-lg-4,.mt-lg-4x{margin-top:var(--ws-4x)!important}.mt-lg-5,.mt-lg-6x{margin-top:var(--ws-6x)!important}.mt-lg-6,.mt-lg-8x{margin-top:var(--ws-8x)!important}.mt-lg-10x{margin-top:var(--ws-10x)!important}.mt-lg-7,.mt-lg-12x{margin-top:var(--ws-12x)!important}.mt-lg-auto{margin-top:auto!important}}.mr-0{margin-right:0!important}.mr-1,.mr-1x{margin-right:var(--ws-1x)!important}.mr-2,.mr-2x{margin-right:var(--ws-2x)!important}.mr-3,.mr-3x{margin-right:var(--ws-3x)!important}.mr-4,.mr-4x{margin-right:var(--ws-4x)!important}.mr-5,.mr-6x{margin-right:var(--ws-6x)!important}.mr-6,.mr-8x{margin-right:var(--ws-8x)!important}.mr-10x{margin-right:var(--ws-10x)!important}.mr-7,.mr-12x{margin-right:var(--ws-12x)!important}.mr-auto{margin-right:auto!important}@media (min-width:700px){.mr-md-0{margin-right:0!important}.mr-md-1,.mr-md-1x{margin-right:var(--ws-1x)!important}.mr-md-2,.mr-md-2x{margin-right:var(--ws-2x)!important}.mr-md-3,.mr-md-3x{margin-right:var(--ws-3x)!important}.mr-md-4,.mr-md-4x{margin-right:var(--ws-4x)!important}.mr-md-5,.mr-md-6x{margin-right:var(--ws-6x)!important}.mr-md-6,.mr-md-8x{margin-right:var(--ws-8x)!important}.mr-md-10x{margin-right:var(--ws-10x)!important}.mr-md-7,.mr-md-12x{margin-right:var(--ws-12x)!important}.mr-md-auto{margin-right:auto!important}}@media (min-width:1200px){.mr-lg-0{margin-right:0!important}.mr-lg-1,.mr-lg-1x{margin-right:var(--ws-1x)!important}.mr-lg-2,.mr-lg-2x{margin-right:var(--ws-2x)!important}.mr-lg-3,.mr-lg-3x{margin-right:var(--ws-3x)!important}.mr-lg-4,.mr-lg-4x{margin-right:var(--ws-4x)!important}.mr-lg-5,.mr-lg-6x{margin-right:var(--ws-6x)!important}.mr-lg-6 .mr-lg-8x{margin-right:var(--ws-8x)!important}.mr-lg-10x{margin-right:var(--ws-10x)!important}.mr-lg-7,.mr-lg-12{margin-right:var(--ws-12x)!important}.mr-lg-auto{margin-right:auto!important}}.mb-0{margin-bottom:0!important}.mb-1,.mb-1x{margin-bottom:var(--ws-1x)!important}.mb-2,.mb-2x{margin-bottom:var(--ws-2x)!important}.mb-3,.mb-3x{margin-bottom:var(--ws-3x)!important}.mb-4,.mb-4x{margin-bottom:var(--ws-4x)!important}.mb-5,.mb-6x{margin-bottom:var(--ws-6x)!important}.mb-6,.mb-8x{margin-bottom:var(--ws-8x)!important}.mb-10x{margin-bottom:var(--ws-10x)!important}.mb-7,.mb-12x{margin-bottom:var(--ws-12x)!important}.mb-auto{margin-bottom:auto!important}@media (min-width:700px){.mb-md-0{margin-bottom:0!important}.mb-md-1,.mb-md-1x{margin-bottom:var(--ws-1x)!important}.mb-md-2,.mb-md-2x{margin-bottom:var(--ws-2x)!important}.mb-md-3,.mb-md-3x{margin-bottom:var(--ws-3x)!important}.mb-md-4,.mb-md-4x{margin-bottom:var(--ws-4x)!important}.mb-md-5,.mb-md-6x{margin-bottom:var(--ws-6x)!important}.mb-md-6,.mb-md-8x{margin-bottom:var(--ws-8x)!important}.mb-md-10x{margin-bottom:var(--ws-10x)!important}.mb-md-7,.mb-md-12x{margin-bottom:var(--ws-12x)!important}.mb-md-auto{margin-bottom:auto!important}}@media (min-width:1200px){.mb-lg-0{margin-bottom:0!important}.mb-lg-1,.mb-lg-1x{margin-bottom:var(--ws-1x)!important}.mb-lg-2,.mb-lg-2x{margin-bottom:var(--ws-2x)!important}.mb-lg-3,.mb-lg-3x{margin-bottom:var(--ws-3x)!important}.mb-lg-4,.mb-lg-4x{margin-bottom:var(--ws-4x)!important}.mb-lg-5,.mb-lg-6x{margin-bottom:var(--ws-6x)!important}.mb-lg-6,.mb-lg-8x{margin-bottom:var(--ws-8x)!important}.mb-lg-10x{margin-bottom:var(--ws-10x)!important}.mb-lg-7,.mb-lg-12x{margin-bottom:var(--ws-12x)!important}.mb-lg-auto{margin-bottom:auto!important}}.ml-0{margin-left:0!important}.ml-1,.ml-1x{margin-left:var(--ws-1x)!important}.ml-2,.ml-2x{margin-left:var(--ws-2x)!important}.ml-3,.ml-3x{margin-left:var(--ws-3x)!important}.ml-4,.ml-4x{margin-left:var(--ws-4x)!important}.ml-5,.ml-6x{margin-left:var(--ws-6x)!important}.ml-6,.ml-8x{margin-left:var(--ws-8x)!important}.ml-10x{margin-left:var(--ws-10x)!important}.ml-7,.ml-12x{margin-left:var(--ws-12x)!important}.ml-auto{margin-left:auto!important}@media (min-width:700px){.ml-md-0{margin-left:0!important}.ml-md-1,.ml-md-1x{margin-left:var(--ws-1x)!important}.ml-md-2,.ml-md-2x{margin-left:var(--ws-2x)!important}.ml-md-3,.ml-md-3x{margin-left:var(--ws-3x)!important}.ml-md-4,.ml-md-4x{margin-left:var(--ws-4x)!important}.ml-md-5,.ml-md-6x{margin-left:var(--ws-6x)!important}.ml-md-6,.ml-md-8x{margin-left:var(--ws-8x)!important}.ml-md-10x{margin-left:var(--ws-10x)!important}.ml-md-7,.ml-md-12x{margin-left:var(--ws-12x)!important}.ml-md-auto{margin-left:auto!important}}@media (min-width:1200px){.ml-lg-0{margin-left:0!important}.ml-lg-1,.ml-lg-1x{margin-left:var(--ws-1x)!important}.ml-lg-2,.ml-lg-2x{margin-left:var(--ws-2x)!important}.ml-lg-3,.ml-lg-3x{margin-left:var(--ws-3x)!important}.ml-lg-4,.ml-lg-4x{margin-left:var(--ws-4x)!important}.ml-lg-5,.ml-lg-6x{margin-left:var(--ws-6x)!important}.ml-lg-6,.ml-lg-8x{margin-left:var(--ws-8x)!important}.ml-lg-10x{margin-left:var(--ws-10x)!important}.ml-lg-7,.ml-lg-12x{margin-left:var(--ws-12x)!important}.ml-lg-auto{margin-left:auto!important}}",""]),e.exports=r},2115:function(e,t,n){"use strict";n(1440)},2116:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-generic-info-panel[data-v-23f20f22]{position:relative;display:flex;flex-direction:column;height:100%}.panel-title[data-v-23f20f22]{display:flex;align-items:center;min-height:60px;min-height:var(--search-rooms-height,60px);border-bottom:var(--border);font-weight:var(--font-weight-strong);font-size:16px;padding-right:var(--sidebar-padding)}.file-section .panel-title[data-v-23f20f22]{border-bottom:0}.back-icon[data-v-23f20f22]{margin:0 2px;flex:0 0 auto}.content[data-v-23f20f22]{flex-grow:1;position:relative;overflow:hidden}.title[data-v-23f20f22]{flex:1;line-height:1em}",""]),e.exports=r},2117:function(e,t,n){"use strict";n(1441)},2118:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-search-input[data-v-86021cca]{width:100%}.up-d-search-messages[data-v-86021cca]{padding-top:15px;position:relative;overflow-y:auto;height:100%}",""]),e.exports=r},2119:function(e){e.exports=JSON.parse('{"thun_All_100":"All","thun_Files_101":"Files","thun_Links_102":"Links","thun_FilesLinks_411":"Files & links","thun_SearchFiles_414":"Search files","thun_SearchLinks_415":"Search links","thun_Search_416":"Search","thun_DoYouTrustThePersonWhoSentThisLink_417":"Do you trust the person who sent this link?","thun_NoSection_491":"No {section}"}')},2120:function(e){e.exports=JSON.parse('{"thun_All_100":"All","thun_Files_101":"Files","thun_Links_102":"Links","thun_FilesLinks_411":"Files & Links","thun_SearchFiles_414":"Search files","thun_SearchLinks_415":"Search links","thun_Search_416":"Search","thun_DoYouTrustThePersonWhoSentThisLink_417":"Do you trust the person who sent this link?","thun_NoSection_491":"No {section}"}')},2121:function(e){e.exports=JSON.parse('{"thun_All_100":"[猫All猫]","thun_Files_101":"[猫Files猫]","thun_Links_102":"[猫Links猫]","thun_FilesLinks_411":"[猫Files & Links猫]","thun_SearchFiles_414":"[猫Search files猫]","thun_SearchLinks_415":"[猫Search links猫]","thun_Search_416":"[猫Search猫]","thun_DoYouTrustThePersonWhoSentThisLink_417":"[猫Do you trust the person who sent this link?猫]","thun_NoSection_491":"[猫No {section}猫]"}')},2122:function(e,t,n){"use strict";n(1442)},2123:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-files-panel[data-v-2c5aa3f3]{overflow-y:auto;height:100%}.panel-attachment[data-v-2c5aa3f3]{overflow-y:auto;margin:10px var(--sidebar-padding);cursor:pointer}.panel-attachment[data-v-2c5aa3f3]:first-child{margin-top:20px}.author-name[data-v-2c5aa3f3]{color:var(--text-light-on-body)}.attachment-panel-header[data-v-2c5aa3f3]{position:sticky;top:0;z-index:1;background-color:var(--white)}.attachment-panel-header .attachment-sections[data-v-2c5aa3f3]{margin:0;display:flex;list-style:none;list-style-type:none;font-size:14px;font-weight:var(--font-weight-strong);padding:0 var(--sidebar-padding);border-bottom:var(--border)}.attachment-panel-header .attachment-sections li[data-v-2c5aa3f3]{padding:5px 10px 10px;cursor:pointer;margin:0 10px 0 0;width:33%;text-align:center}.attachment-panel-header .attachment-sections li.active[data-v-2c5aa3f3]{color:var(--up-green);border-bottom:3px solid var(--up-green)}.files-panel__search-input[data-v-2c5aa3f3]{border-bottom:var(--border)}.up-d-empty-state[data-v-2c5aa3f3]{height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:0 var(--sidebar-padding)}",""]),e.exports=r},2124:function(e){e.exports=JSON.parse('{"thun_AddACoworker_106":"Add a coworker","thun_InviteCoworkers_208":{"invite":"Invite coworkers","linked":"{Invite} to help you interview and evaluate freelancers."}}')},2125:function(e){e.exports=JSON.parse('{"thun_AddACoworker_106":"Add a coworker","thun_InviteCoworkers_208":{"invite":"Invite coworkers","linked":"{Invite} to help you interview and evaluate freelancers."}}')},2126:function(e){e.exports=JSON.parse('{"thun_AddACoworker_106":"[猫Add a coworker猫]","thun_InviteCoworkers_208":{"invite":"Invite coworkers","linked":"[猫{Invite} to help you interview and evaluate freelancers.猫]"}}')},2127:function(e,t,n){"use strict";n(1443)},2128:function(e,t,n){var r=n(6)(!1);r.push([e.i,".add-coworker[data-v-0cadd3c2]{display:flex;padding:20px;position:relative;background-color:var(--gray-90);border-bottom:var(--border);border-top:var(--border)}.add-coworker a[data-v-0cadd3c2]{cursor:pointer}.add-coworker .coworker-icon[data-v-0cadd3c2]{color:var(--gray-55)}.add-coworker .close-icon[data-v-0cadd3c2]{cursor:pointer;position:absolute;right:10px;top:5px;font-size:26px;color:var(--gray-70)!important}",""]),e.exports=r},2129:function(e){e.exports=JSON.parse('{"thun_You_519":"{roomRole} (you)","thun_Roles_520":{"Owner":"Owner","Member":"Member","Admin":"Admin","Unknown":"Unknown"}}')},2130:function(e){e.exports=JSON.parse('{"thun_You_519":"{roomRole} (you)","thun_Roles_520":{"Owner":"Owner","Member":"Member","Admin":"Admin","Unknown":"Unknown"}}')},2131:function(e){e.exports=JSON.parse('{"thun_You_519":"[猫{roomRole} (you)猫]","thun_Roles_520":{"Owner":"[猫Owner猫]","Member":"[猫Member猫]","Admin":"[猫Admin猫]","Unknown":"[猫Unknown猫]"}}')},2132:function(e,t,n){"use strict";n(1444)},2133:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-user-list-item[data-v-54328018]{height:var(--people-panel-item-height);display:flex;flex-direction:row;align-items:center}.up-d-user-list-item[data-v-54328018] .air3-dropdown-secondary-toggle{--btn-border-color:unset;--btn-border-color-secondary:unset}.person-data[data-v-54328018]{margin-left:var(--sidebar-padding);flex:1;overflow:hidden}.person-data strong[data-v-54328018]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.person-data span[data-v-54328018]{display:block}",""]),e.exports=r},2134:function(e){e.exports=JSON.parse('{"thun_Pending_1":"Pending","thun_Expired_2":"Expired","thun_Withdrawn_3":"Withdrawn","thun_Unknown_4":"Unknown","thun_Accepted_5":"Accepted"}')},2135:function(e){e.exports=JSON.parse('{"thun_Pending_1":"Pending","thun_Expired_2":"Expired","thun_Withdrawn_3":"Withdrawn","thun_Unknown_4":"Unknown","thun_Accepted_5":"Accepted"}')},2136:function(e){e.exports=JSON.parse('{"thun_Pending_1":"[猫Pending猫]","thun_Expired_2":"[猫Expired猫]","thun_Withdrawn_3":"[猫Withdrawn猫]","thun_Unknown_4":"[猫Unknown猫]","thun_Accepted_5":"[猫Accepted猫]"}')},2137:function(e,t,n){"use strict";n(1445)},2138:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-email-invite-list-item[data-v-1edbb677]{height:var(--people-panel-item-height);display:flex;flex-direction:row;align-items:center}.up-d-email-invite-list-item .email-data[data-v-1edbb677]{margin-left:var(--sidebar-padding);flex:1;overflow:hidden}.up-d-email-invite-list-item .email-data strong[data-v-1edbb677]{white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.up-d-email-invite-list-item .email-data span[data-v-1edbb677]{display:block}.email-invite-dropdown[data-v-1edbb677] .air3-dropdown-secondary-toggle{--btn-border-color:unset;--btn-border-color-secondary:unset}",""]),e.exports=r},2139:function(e,t,n){"use strict";n(1446)},2140:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-people-panel-item[data-v-4e47e53c]{padding-left:var(--sidebar-padding);padding-right:var(--sidebar-padding)}",""]),e.exports=r},2141:function(e){e.exports=JSON.parse('{"thun_AddPeople_360":"Add people","thun_ContactUs_361":"Contact us","thun_ConfirmRemoving_362":"Confirm removing","thun_UnableToRemoveAUserPleaseTryAgainLater_363":"Unable to remove a user. Please try again later.","thun_UnableToMakeAdminPleaseTryAgainLater_364":"Unable to make admin. Please try again later.","thun_ConfirmLeavingRoom_365":"Confirm leaving room","thun_UnableToMakeMemberPleaseTryAgainLater_366":"Unable to make member. Please try again later.","thun_ChangeOwner_367":"Change owner","thun_UnableToChangeOwnerPleaseTryAgainLater_368":"Unable to change owner. Please try again later.","thun_InvitationRemoved_369":"Invitation removed.","thun_UnableToRemoveInvitationPleaseTryAgainLa_370":"Unable to remove invitation. Please try again later.","thun_ConfirmResending_371":"Confirm resending","thun_InvitationResent_372":"Invitation resent.","thun_UnableToResendInvitationPleaseTryAgainLa_373":"Unable to resend invitation. Please try again later.","thun_People_374":"People"}')},2142:function(e){e.exports=JSON.parse('{"thun_AddPeople_360":"Add People","thun_ContactUs_361":"Contact Us","thun_ConfirmRemoving_362":"Confirm removing","thun_UnableToRemoveAUserPleaseTryAgainLater_363":"Unable to remove a user. Please try again later.","thun_UnableToMakeAdminPleaseTryAgainLater_364":"Unable to make admin. Please try again later.","thun_ConfirmLeavingRoom_365":"Confirm leaving room","thun_UnableToMakeMemberPleaseTryAgainLater_366":"Unable to make member. Please try again later.","thun_ChangeOwner_367":"Change owner","thun_UnableToChangeOwnerPleaseTryAgainLater_368":"Unable to change owner. Please try again later.","thun_InvitationRemoved_369":"Invitation removed.","thun_UnableToRemoveInvitationPleaseTryAgainLa_370":"Unable to remove invitation. Please try again later.","thun_ConfirmResending_371":"Confirm resending","thun_InvitationResent_372":"Invitation resent.","thun_UnableToResendInvitationPleaseTryAgainLa_373":"Unable to resend invitation. Please try again later.","thun_People_374":"People"}')},2143:function(e){e.exports=JSON.parse('{"thun_AddPeople_360":"[猫Add People猫]","thun_ContactUs_361":"[猫Contact Us猫]","thun_ConfirmRemoving_362":"[猫Confirm removing猫]","thun_UnableToRemoveAUserPleaseTryAgainLater_363":"[猫Unable to remove a user. Please try again later.猫]","thun_UnableToMakeAdminPleaseTryAgainLater_364":"[猫Unable to make admin. Please try again later.猫]","thun_ConfirmLeavingRoom_365":"[猫Confirm leaving room猫]","thun_UnableToMakeMemberPleaseTryAgainLater_366":"[猫Unable to make member. Please try again later.猫]","thun_ChangeOwner_367":"[猫Change owner猫]","thun_UnableToChangeOwnerPleaseTryAgainLater_368":"[猫Unable to change owner. Please try again later.猫]","thun_InvitationRemoved_369":"[猫Invitation removed.猫]","thun_UnableToRemoveInvitationPleaseTryAgainLa_370":"[猫Unable to remove invitation. Please try again later.猫]","thun_ConfirmResending_371":"[猫Confirm resending猫]","thun_InvitationResent_372":"[猫Invitation resent.猫]","thun_UnableToResendInvitationPleaseTryAgainLa_373":"[猫Unable to resend invitation. Please try again later.猫]","thun_People_374":"[猫People猫]"}')},2144:function(e,t,n){"use strict";n(1447)},2145:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-people-panel[data-v-dffe51bc]{--people-panel-item-height:50px;overflow-y:auto;padding:5px var(--sidebar-padding);height:100%}.is-sudo .up-d-people-panel[data-v-dffe51bc] .air3-dropdown-toggle{pointer-events:none}.up-d-people-panel.virtual-list[data-v-dffe51bc]{display:flex;flex-direction:column;padding-left:0;padding-right:0}.up-d-people-panel .virtual-list[data-v-dffe51bc]{flex:1;overflow-y:auto}",""]),e.exports=r},2146:function(e,t,n){"use strict";n(1448)},2147:function(e,t,n){var r=n(6)(!1);r.push([e.i,".content[data-v-b15eecb8]{padding:var(--sidebar-padding);height:100%;overflow-y:auto}",""]),e.exports=r},2213:function(e,t,n){"use strict";n.r(t);var r=n(157),o=n(164),l=n.n(o),c=n(801),d=n.n(c),m=n(51),h=n(817),v=n(193),f=n.n(v),y={i18n:{messages:{"en-gb":n(2124),en:n(2125),is:n(2126)}},injectStyles:[f.a],components:{UpCIcon:r.default},computed:{iconAddPerson:()=>()=>n.e(104).then(n.bind(null,1465))}},x=(n(2127),n(4)),_=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-coworker"},[n("div",{staticClass:"close-icon",on:{click:function(t){return e.$emit("hide")}}},[e._v("×")]),e._v(" "),n("div",[n("UpCIcon",{staticClass:"coworker-icon mr-4x",attrs:{size:"xl",icon:e.iconAddPerson}})],1),e._v(" "),n("div",[n("div",{staticClass:"mb-3x text-base"},[e._v(e._s(e.$t("thun_AddACoworker_106")))]),e._v(" "),n("div",{staticClass:"text-body-sm"},[n("i18n",{attrs:{tag:!1,path:"thun_InviteCoworkers_208.linked"},scopedSlots:e._u([{key:"Invite",fn:function(){return[n("UpLink",{on:{click:function(t){return e.$emit("add")}}},[e._v(e._s(e.$t("thun_InviteCoworkers_208.invite")))])]},proxy:!0}])})],1)])])}),[],!1,null,"0cadd3c2",null).exports,w=n(563),I=n(283);var k=n(216),O=n.n(k),S={"en-gb":n(2129),en:n(2130),is:n(2131)},C={components:{UpDPersonAvatar:I.a,UpCDropdownSecondary:w.default},injectStyles:[O.a],i18n:{messages:S},props:{item:Object,menuItems:Array},methods:{userRoleLabel(e){const t=e.uid===this.$auth.userId,n=this.$t((e=>{switch(e){case"owner":return"thun_Roles_520.Owner";case"participant":return"thun_Roles_520.Member";case"admin":return"thun_Roles_520.Admin";default:return"thun_Roles_520.Unknown"}})(e.role));return t?this.$t("thun_You_519",{roomRole:n}):n}}},N=(n(2132),Object(x.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-user-list-item"},[n("up-d-person-avatar",{attrs:{id:"user_"+e.item.orgId+"_"+e.item.userId+"_avatar",person:e.item,"avatar-size":30,"avatar-font-size":10,role:"avatar","data-user-id":e.item.userId,"data-org-id":e.item.orgId,"data-context":"user-list-item",tabindex:"0"}}),e._v(" "),n("div",{staticClass:"person-data"},[n("strong",{staticClass:"text-base-sm",attrs:{id:"user_"+e.item.orgId+"_"+e.item.userId+"_name",title:e.item.fullName,role:"person","data-user-id":e.item.userId,"data-org-id":e.item.orgId,"data-context":"user-list-item"}},[e._v("\n      "+e._s(e.item.fullName)+"\n    ")]),e._v(" "),n("span",{staticClass:"text-body-sm text-light-on-inverse"},[e._v(e._s(e.userRoleLabel(e.item)))])]),e._v(" "),e.menuItems.length?n("up-c-dropdown-secondary",{attrs:{items:e.menuItems,align:"center",size:"sm"},on:{select:function(t){return e.$emit("action",t.id)}}}):e._e()],1)}),[],!1,null,"54328018",null).exports),E=n(347),T=n(2134),j=n(2135),A=n(2136);var P={i18n:{messages:{"en-gb":T,en:j,is:A}},injectStyles:[O.a],components:{UpDPersonAvatar:I.a,UpCDropdownSecondary:w.default},props:{item:Object,menuItems:Array},methods:{getInviteStatusLabel(e){return this.$t((e=>{switch(e){case E.a.PENDING:return"thun_Pending_1";case E.a.EXPIRED:return"thun_Expired_2";case E.a.ACCEPTED:return"thun_Accepted_5";case E.a.WITHDRAWN:return"thun_Withdrawn_3";default:return"thun_Unknown_4"}})(e))}}},U=(n(2137),Object(x.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-email-invite-list-item"},[n("up-d-person-avatar",{attrs:{"is-person-placeholder":"","avatar-size":30,"avatar-font-size":10}}),e._v(" "),n("div",{staticClass:"email-data"},[n("strong",{attrs:{title:e.item.email}},[e._v(e._s(e.item.email))]),e._v(" "),n("span",{staticClass:"text-light-on-inverse"},[e._v(e._s(e.getInviteStatusLabel(e.item.status)))])]),e._v(" "),e.menuItems.length?n("up-c-dropdown-secondary",{staticClass:"email-invite-dropdown",attrs:{items:e.menuItems,align:"center",size:"sm"},on:{select:function(t){return e.$emit("action",t.id)}}}):e._e()],1)}),[],!1,null,"1edbb677",null).exports),M={components:{UpDUserListItem:N,UpDInviteListItem:U},props:{source:Object,getUserMenuItems:Function,onUserMenuSelect:Function,getInviteMenuItems:Function,onInviteMenuSelect:Function},computed:{isUser(){return"USER"===this.source.type},item(){return this.source.item},menuItems(){return this.showMenuItems?this.isUser?this.getUserMenuItems(this.item.userId,this.item.orgId):this.getInviteMenuItems(this.item):[]}},data:()=>({showMenuItems:!1}),mounted(){setTimeout((()=>{this.showMenuItems=!0}),200)}},L=(n(2139),Object(x.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-people-panel-item"},[e.isUser?n("up-d-user-list-item",{attrs:{item:e.item,"menu-items":e.menuItems},on:{action:function(t){return e.onUserMenuSelect(t,e.item)}}}):n("up-d-invite-list-item",{attrs:{item:e.item,"menu-items":e.menuItems},on:{action:function(t){return e.onInviteMenuSelect(t,e.item)}}})],1)}),[],!1,null,"4e47e53c",null).exports),D=n(211),$=n(723),R=n(230),F=n(636),z=n(668),B={"en-gb":n(2141),en:n(2142),is:n(2143)},V={name:"UpDPeoplePanel",components:{UpCIcon:r.default,UpDAddCoworkerBanner:_,UpDGenericInfoPanel:h.a,UpDUserListItem:N,UpDInviteListItem:U,VirtualList:d.a},i18n:{messages:B},props:{roomId:String,isSudo:Boolean,config:Object},injectStyles:[l.a],mixins:[D.a],data:()=>({hiddenCoworker:!1,UpDPeoplePanelVirtualListItem:L}),computed:{addIcon:()=>()=>n.e(103).then(n.bind(null,2364)),showVirtualList(){return this.roomUsers.length+this.emailInvites.length>30},virtualListItems(){return this.showVirtualList?[...this.roomUsers.map((e=>({type:"USER",item:e}))),...this.emailInvites.map((e=>({type:"INVITE",item:e})))]:[]}},methods:{sendPeoplePanelEvent(label){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";this.$thunderTracker.track({label:label,event:e,sublocation:"people_panel"})},userItemKey:e=>"".concat(e.orgId,":").concat(e.userId),inviteItemKey:e=>e.id,virtualItemKey(e){let{type:t,item:n}=e;return"USER"===t?this.userItemKey(n):this.inviteItemKey(n)},showToasterError(e){this.createToaster({type:"danger",content:e})},showToasterConfirmation(e){this.createToaster({content:e})},addPeople(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.openModalDialog({title:this.$t("thun_AddPeople_360"),name:"add-people-modal",params:{roomId:this.roomId},query:{isInvitingCoworker:n,canInviteHMHForHiringManager:null===(e=this.config)||void 0===e?void 0:e.canInviteHMHForHiringManager,canInviteHMHForRecruiter:null===(t=this.config)||void 0===t?void 0:t.canInviteHMHForRecruiter}}).catch((e=>{let{action:t,payload:n}=e;"CONTACT_US"===t&&this.onContactUs(n)}))},onContactUs(data){this.openModalDialog({name:"contact-us-modal",title:this.$t("thun_ContactUs_361"),data:data})},onUserMenuSelect(e,t){switch(e){case $.b.MAKE_MEMBER:this.sendPeoplePanelEvent("make_member"),this.handleMakeMember(t);break;case $.b.MAKE_OWNER:this.sendPeoplePanelEvent("make_owner"),this.handleChangeOwner(t);break;case $.b.MAKE_ADMIN:this.sendPeoplePanelEvent("make_admin"),this.handleMakeAdmin(t);break;case $.b.LEAVE:this.sendPeoplePanelEvent("leave_room"),this.handleLeaveRoom(t);break;case $.b.REMOVE:this.sendPeoplePanelEvent("remove_from_room"),this.handleRemoveUser(t);break;default:Object(F.a)(e,"Unknown User action:")}},onInviteMenuSelect(e,t){switch(e){case $.a.RESEND:this.sendPeoplePanelEvent("resend_email_invite"),this.handleResendInvite(t);break;case $.a.EXPIRE:this.sendPeoplePanelEvent("remove_email_invite"),this.handleRemoveInvite(t);break;default:Object(F.a)(e,"Unknown Invite action:")}},handleRemoveUser(e){this.openModalDialog({title:this.$t("thun_ConfirmRemoving_362"),name:"remove-person-modal",params:{roomId:this.roomId},data:{fullName:e.fullName}}).then((()=>{this.removeUser(e.uid,e.orgId).catch((()=>{this.showToasterError(this.$t("thun_UnableToRemoveAUserPleaseTryAgainLater_363"))}))})).catch((()=>{}))},handleMakeAdmin(e){this.makeAdmin(e.uid,e.orgId).catch((()=>{this.showToasterError(this.$t("thun_UnableToMakeAdminPleaseTryAgainLater_364"))}))},handleLeaveRoom(e){this.openModalDialog({title:this.$t("thun_ConfirmLeavingRoom_365"),name:"leave-room-modal",params:{roomId:this.roomId}}).then((()=>{this.leaveRoom({...e}).catch((e=>{this.showToasterError(e)}))})).catch((()=>{}))},handleMakeMember(e){this.makeMember(e.uid,e.orgId).catch((()=>{this.showToasterError(this.$t("thun_UnableToMakeMemberPleaseTryAgainLater_366"))}))},handleChangeOwner(e){this.openModalDialog({title:this.$t("thun_ChangeOwner_367"),name:"change-owner-modal",params:{roomId:this.roomId}}).then((()=>{this.makeOwner(e.uid,e.orgId).catch((()=>{this.showToasterError(this.$t("thun_UnableToChangeOwnerPleaseTryAgainLater_368"))}))})).catch((()=>{}))},handleRemoveInvite(e){this.openModalDialog({title:this.$t("thun_ConfirmRemoving_362"),name:"remove-invite-modal",params:{roomId:this.roomId}}).then((()=>{this.expireInvite(e.id).then((()=>{this.showToasterConfirmation(this.$t("thun_InvitationRemoved_369"))})).catch((()=>{this.showToasterError(this.$t("thun_UnableToRemoveInvitationPleaseTryAgainLa_370"))}))})).catch((()=>{}))},handleResendInvite(e){this.openModalDialog({title:this.$t("thun_ConfirmResending_371"),name:"resend-invite-modal",params:{roomId:this.roomId}}).then((()=>{this.resendInvite(e.id).then((()=>{this.showToasterConfirmation(this.$t("thun_InvitationResent_372"))})).catch((()=>{this.showToasterError(this.$t("thun_UnableToResendInvitationPleaseTryAgainLa_373"))}))})).catch((()=>{}))}},activated(){this.hiddenCoworker=!1},mounted(){this.loadEmailInvites()},setup(e){const{$auth:t}=Object(m.b)(),n=Object(R.c)(e.roomId,t),r=Object($.c)(e.roomId,t),{canAddCoworker:o}=Object(z.a)(e.roomId);return{canAddCoworker:o,...n,...r}}},K=V,H=(n(2144),Object(x.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("up-d-generic-info-panel",e._g({class:{"is-sudo":e.isSudo},attrs:{title:e.$t("thun_People_374"),impression:"","data-ev-label":"view_people_panel","data-ev-sublocation":"people_panel"}},e.$listeners),[n("button",{directives:[{name:"show",rawName:"v-show",value:e.canAdd,expression:"canAdd"}],staticClass:"air3-btn air3-btn-sm air3-btn-circle",attrs:{slot:"action",type:"button","data-ev-label":"click_add_people","aria-label":e.$t("thun_AddPeople_360")},on:{click:function(t){return e.addPeople()}},slot:"action"},[n("UpCIcon",{attrs:{icon:e.addIcon,size:"sm"}})],1),e._v(" "),e.showVirtualList?n("div",{staticClass:"up-d-people-panel virtual-list"},[n("virtual-list",{staticClass:"virtual-list",attrs:{"data-key":e.virtualItemKey,"data-sources":e.virtualListItems,"data-component":e.UpDPeoplePanelVirtualListItem,keeps:40,"estimate-size":50,"extra-props":{getUserMenuItems:e.getUserMenuItems,onUserMenuSelect:e.onUserMenuSelect,getInviteMenuItems:e.getInviteMenuItems,onInviteMenuSelect:e.onInviteMenuSelect}}}),e._v(" "),!e.hiddenCoworker&&e.canAddCoworker?n("up-d-add-coworker-banner",{attrs:{impression:"","data-ev-label":"view_add_coworker_plugin"},on:{hide:function(t){e.hiddenCoworker=!0},add:function(t){return e.addPeople(!0)}}}):e._e()],1):n("div",{staticClass:"up-d-people-panel"},[e._l(e.roomUsers,(function(t){return n("up-d-user-list-item",{key:e.userItemKey(t),attrs:{tabindex:"0",item:t,"menu-items":e.getUserMenuItems(t.userId,t.orgId)},on:{action:function(n){return e.onUserMenuSelect(n,t)}}})})),e._v(" "),e._l(e.emailInvites,(function(t){return n("up-d-invite-list-item",{key:e.inviteItemKey(t),attrs:{tabindex:"0",item:t,"menu-items":e.getInviteMenuItems(t)},on:{action:function(n){return e.onInviteMenuSelect(n,t)}}})})),e._v(" "),!e.hiddenCoworker&&e.canAddCoworker?n("up-d-add-coworker-banner",{attrs:{impression:"","data-ev-label":"view_add_coworker_plugin"},on:{hide:function(t){e.hiddenCoworker=!0},add:function(t){return e.addPeople(!0)}}}):e._e()],2)])}),[],!1,null,"dffe51bc",null));t.default=H.exports},2219:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(248),l=n(157),c=n(2),d=n(51),m=n(283),h=n(816),v=n(213),f=(n(1),n(304)),y=n(207),x=n(183),_=n(203),filter=n(337),w=n(502),I=n(290),k=n(358),O=n(262),S=n(169),C=n(229),N=n(230);var E=(e,t,n)=>{const r=Object(d.a)(f.d),{room:o}=Object(C.a)(e,t),{currentUser:l}=Object(N.c)(e,t),m='\n        query getRoom {\n          room(id: "'.concat(e,'") {\n          targetUser {\n            user {\n              talentProfile {\n                personalData {\n                  title\n                }\n             }\n            }\n          }\n        }\n      }'),h=Object(c.m)(!0),v=Object(c.m)(""),E=function(e){return Object(c.a)((()=>e.isClient))}(t),T=function(e){return Object(c.a)((()=>e.value.isGroup()))}(o),j=function(e){return Object(c.a)((()=>{var t,n;return(null===(t=e.value.targetUser)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.timezone)||""}))}(o),A=function(e){return Object(c.a)((()=>{var t;return e.value.isAgencyDirectMessage&&(null===(t=e.value.relatedAgency)||void 0===t?void 0:t.agency_org_uid)===e.value.targetOrgId}))}(o),P=function(e){return Object(c.a)((()=>e.value.targetUser))}(o),U=function(e){return Object(c.a)((()=>e.value.relatedAgency))}(o),title=function(e,t){return Object(c.a)((()=>{var n;return e.value?t.value.roomName:null===(n=t.value.targetUser)||void 0===n?void 0:n.fullName}))}(T,o),M=function(e){return Object(c.a)((()=>!e.value||e.value instanceof x.a))}(o),L=function(e){return Object(c.a)((()=>e.value.isAgencyDirectMessage&&!e.value.relatedAgency))}(o),D=function(e,t,n){return Object(c.a)((()=>e.value||t.value||n.value))}(M,h,L),$=function(e,t,n){return Object(c.a)((()=>{var r,o,l,c;return Object(f.a)((null===(r=e.value)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.offsetToUTC)||0,(null===(l=t.value.targetUser)||void 0===l||null===(c=l.location)||void 0===c?void 0:c.offsetToUTC)||0,{i18n:n})}))}(l,o,r),R=function(e){return Object(c.a)((()=>{var t;return null===(t=e.value.context)||void 0===t?void 0:t.jobName}))}(o),F=function(e){return Object(c.a)((()=>e.value.targetUserId))}(o),z=function(e){return Object(c.a)((()=>e.value.targetOrgId))}(o),B=function(e,t,n,r,o){return Object(c.a)((()=>{var l,c;return e.value?t.value?null===(c=n.value.targetUser)||void 0===c?void 0:c.fullName:n.value.topic:r.value?o.value:(null===(l=n.value.context)||void 0===l?void 0:l.associatedClientCompany)||o.value}))}(T,A,o,E,v),V=function(e){return Object(c.a)((()=>{var t;return null===(t=e.value.context)||void 0===t?void 0:t.cipherText}))}(o);{const sub=Object(_.c)(o).pipe(Object(filter.a)((e=>{let[t]=e;return!(t instanceof x.a)})),Object(w.a)(1),Object(I.a)((()=>T.value?O.a:Object(S.a)((async()=>n().post({query:m}).json().then((e=>{let{data:data,errors:t}=e;return t?null:data.room.targetUser.user.talentProfile.personalData.title})))()))),Object(y.c)((e=>{v.value=e})),Object(k.a)((()=>{h.value=!1}))).subscribe();Object(c.j)((()=>{sub.unsubscribe()}))}return{title:title,subtitle:B,isLoading:D,projectName:R,targetOrgId:z,targetUserId:F,targetPerson:P,relatedAgency:U,timezoneOffset:$,targetUserTimezone:j,isAgencyDirectMessage:A,jobCipherText:V}},T=n(1968),j=n.n(T),A=n(164),P=n.n(A),U=n(162),M=n(285),L={"en-gb":n(1970),en:n(1971),is:n(1972)},D={injectStyles:[j.a,P.a],name:"UpCLineClamp",components:{UpCResizeObserver:M.a},props:{lines:{type:Number,default:3,required:!0},labelLess:{type:String,default(){return this.$t("vc_Less")}},labelMore:{type:String,default(){return this.$t("vc_More")}},hiddenLabel:{type:String,default:""},expandable:{type:Boolean,default:!0}},i18n:{messages:L},data:()=>({isExpanded:!1,id:Object(U.a)().toString(),hasMore:!1,isClamped:!0,lineClampHeight:null,showLess:!1}),computed:{style(){const e=2*(this.$refs["line-clamp"]&&this.$refs["line-clamp"].clientHeight/this.lines);return"--lines:".concat(this.lines,";").concat(this.expandable?"--line-clamp-height:".concat(Math.max(e,this.lineClampHeight),"px"):"")}},watch:{isExpanded:{async handler(e){await this.$nextTick(),e&&(this.lineClampHeight=this.$refs["line-clamp"].scrollHeight)}}},mounted(){this.expandable&&(this.handleResize(),this.lineClampHeight=this.$refs["line-clamp"].scrollHeight)},methods:{toggle(){this.isClamped=!1,this.isExpanded=!this.isExpanded,this.isExpanded&&this.$refs["line-clamp"].focus(),this.$emit("toggle",{isExpanded:this.isExpanded})},handleResize(){const e=this.$refs["line-clamp"],t=e.scrollHeight>e.clientHeight;this.hasMore=!this.isExpanded&&t,this.lineClampHeight=this.$refs["line-clamp"].scrollHeight,this.isClamped=this.getNumberOfVisibleLines(e)===this.lines,this.showLess=this.getNumberOfVisibleLines(e)>this.lines},getNumberOfVisibleLines:e=>Math.round(e.clientHeight/parseFloat(document.defaultView.getComputedStyle(e,null).getPropertyValue("line-height"))),onTransitionend(){this.isClamped=!this.isExpanded}}},$=n(4),R=Object($.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"air3-line-clamp-wrapper",style:e.style,attrs:{"data-ev-sublocation":"!line_clamp"}},[e.expandable?n("UpCResizeObserver",{on:{notify:e.handleResize}}):e._e(),e._v(" "),n("div",{ref:"line-clamp",staticClass:"air3-line-clamp",class:{"is-expanded":e.isExpanded,"is-clamped":e.isClamped},attrs:{id:"air3-line-clamp-"+e.id,tabindex:"-1"},on:{transitionend:e.onTransitionend}},[e._t("default")],2),e._v(" "),e.expandable&&e.hasMore||e.showLess?n("button",{ref:"line-clamp-btn",staticClass:"air3-btn-link-secondary",attrs:{"aria-expanded":e.isExpanded?"true":"false","aria-controls":"air3-line-clamp-"+e.id,type:"button","data-ev-label":"line_clamp_toggle","data-ev-open":""+e.isExpanded},on:{click:function(t){return t.preventDefault(),e.toggle()}}},[e.showLess?n("span",[n("span",[e._v(e._s(e.labelLess))]),e._v(" "),e.hiddenLabel?n("span",{staticClass:"sr-only"},[e._v(", "+e._s(e.hiddenLabel))]):e._e()]):e._e(),e._v(" "),!e.isExpanded&&e.hasMore&&e.isClamped?n("span",[n("span",[e._v(e._s(e.labelMore))]),e._v(" "),e.hiddenLabel?n("span",{staticClass:"sr-only"},[e._v(e._s(e.hiddenLabel))]):e._e()]):e._e()]):e._e()],1)}),[],!1,null,null,null).exports,F=n(193),z=n.n(F),B=n(216),V=n.n(B),K={"en-gb":n(1973),en:n(1974),is:n(1975)},H={name:"UpDSidebarHeader",injectStyles:[z.a,V.a,P.a],i18n:{messages:K},props:{roomId:{type:String,required:!0}},components:{UpCIcon:l.default,UpDPersonAvatar:m.a,UpDAgencyAvatar:h.a,UpDSkeleton:v.a,UpCLineClamp:R},data:()=>({timer:null}),computed:{briefcaseIcon:()=>()=>n.e(124).then(n.bind(null,1250)),closeIcon:()=>()=>n.e(0).then(n.bind(null,205)),targetUserCurrentTime(){return clearTimeout(this.timer),this.timer=setTimeout((()=>{this.timer=null}),3e4),Object(f.b)(this.targetUserTimezone,{i18n:this.$i18n})},locationLabel(){return"".concat(this.targetUserCurrentTime," ").concat(this.timezoneOffset?"(".concat(this.timezoneOffset,")"):"")}},setup(e){const{$auth:t,$httpGql:n}=Object(d.b)();return{...E(e.roomId,t,n)}},methods:{goToJobPost(){this.jobCipherText&&window.open("".concat(window.origin,"/jobs/").concat(this.jobCipherText),"_blank")}}},J=(n(1976),Object($.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-sidebar-header"},[e.isAgencyDirectMessage?n("up-d-agency-avatar",{staticClass:"avatar",attrs:{id:"sidebar-agency-header",agency:e.relatedAgency,"avatar-size":80,"show-skeleton":e.isLoading,role:"avatar"}}):n("up-d-person-avatar",{staticClass:"avatar",attrs:{id:"sidebar-header","show-skeleton":e.isLoading,person:e.targetPerson,"avatar-size":80,"avatar-font-size":30,"data-org-id":e.targetOrgId,"data-user-id":e.targetUserId,"data-context":"sidebar-header",role:"avatar"}}),e._v(" "),e.isLoading?n("div",{staticClass:"header-content"},[n("h3",{staticClass:"h5"},[n("up-d-skeleton",{attrs:{loading:!0}},[e._v("Lorem ipsum sit dolor\n      ")])],1),e._v(" "),n("small",[n("up-d-skeleton",{attrs:{loading:!0}},[e._v("Lorem ipsum sit dolor amet\n      ")])],1),e._v(" "),n("small",[n("up-d-skeleton",{attrs:{loading:!0}},[e._v("Lorem ipsum sit dolor amet\n      ")])],1)]):n("div",{staticClass:"header-content"},[n("h3",{staticClass:"mr-4x h5",attrs:{id:"sidebar-header-title","data-title":"",title:e.title,"data-org-id":e.targetOrgId,"data-user-id":e.targetUserId,"data-context":"sidebar-header",role:"title"}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),n("div",{staticClass:"text-base-sm text-light-on-inverse mr-6x",attrs:{"data-subtitle":"",title:e.subtitle}},[e._v("\n      "+e._s(e.subtitle)+"\n    ")]),e._v(" "),e.targetPerson?n("small",{staticClass:"text-light-on-inverse",attrs:{"data-location":"",title:e.locationLabel}},[e._v(e._s(e.locationLabel))]):e._e(),e._v(" "),n("div",{on:{click:e.goToJobPost}},[n("UpCLineClamp",{staticClass:"text-light-on-inverse",class:{clickable:e.jobCipherText},attrs:{lines:2,expandable:!1}},[e.projectName?n("small",{attrs:{"data-project-name":"",title:e.projectName}},[n("UpCIcon",{staticClass:"briefcase-icon",attrs:{size:"sm",icon:e.briefcaseIcon}}),e._v("\n          "+e._s(e.projectName)+"\n        ")],1):e._e()])],1),e._v(" "),n("button",{staticClass:"air3-btn air3-btn-circle",attrs:{"aria-label":e.$t("thun_CloseRoomOptionsPanel_1")},on:{click:function(t){return e.$emit("close")}}},[n("UpCIcon",{attrs:{size:"sm",icon:e.closeIcon}})],1)])],1)}),[],!1,null,"333144fb",null).exports),W=n(574),G=n(701),Y=n(486),Q=n(330),X=n(12),Z=n(668),ee={"en-gb":n(1978),en:n(1979),is:n(1980)};const te=void 0,ne=r.default.component("loader",{render:e=>e(o.a,{props:{loading:!0}})});var ie={i18n:{messages:ee},name:"UpDSidebar",props:{roomId:{type:String,required:!0},isSudo:Boolean,loading:Boolean,config:Object},data:()=>({iconChevronRight:()=>n.e(342).then(n.bind(null,1246))}),computed:{panels(){const e=[{id:"search",title:this.$t("thun_SearchMessages_4"),icon:()=>n.e(342).then(n.bind(null,721)),component:"search"},...this.newPluginPanels.filter((e=>{let{roomId:t}=e;return t===this.roomId})).map((e=>{let{id:t,component:component,title:title,icon:n,componentProps:r}=e;return{id:t,component:"generic-plugin-panel",nestedComponent:component,nestedComponentProps:r,title:title,icon:n}})),...this.pluginPanels.filter((e=>{let{roomId:t}=e;return t===this.roomId})).map((e=>{let{panelId:t,panelTitle:r,html:html,opened:o,plugin:l}=e;return{id:t,title:r,component:"generic-plugin-panel",icon:()=>n.e(370).then(n.bind(null,1243)),opened:o,html:html,plugin:l}}))];return this.room instanceof Y.a&&!this.room.isOneOnOne()&&e.push({id:"people",title:this.$t("thun_People_1"),icon:()=>n.e(342).then(n.bind(null,1463)),component:"people"}),e.push({id:"files",title:this.$t("thun_FilesAndLinks_2"),icon:()=>n.e(370).then(n.bind(null,2346)),component:"files"}),e.push({id:"notepad",title:this.$t("thun_PersonalNotepad_3"),icon:()=>n.e(342).then(n.bind(null,2351)),component:"notepad"}),e},pluginPanel(){return this.pluginPanels.find((e=>{let{roomId:t}=e;return t===this.roomId}))},selectedPanelMeta(){return this.panels.find((e=>{let{id:t}=e;return t===this.selectedPanelId}))},selectedPanelComponent(){var e;return null===(e=this.selectedPanelMeta)||void 0===e?void 0:e.component},selectedPanelTitle(){var e;return null===(e=this.selectedPanelMeta)||void 0===e?void 0:e.title},selectedPanelHtml(){var e;return null===(e=this.selectedPanelMeta)||void 0===e?void 0:e.html},selectedPanelNestedComponent(){var e;return null===(e=this.selectedPanelMeta)||void 0===e?void 0:e.nestedComponent},selectedPanelNestedComponentProps(){var e;return null===(e=this.selectedPanelMeta)||void 0===e?void 0:e.nestedComponentProps}},components:{UpCIcon:l.default,UpDSidebarHeader:J,KeepAlive:G.a,search:()=>({loading:ne,component:Promise.resolve().then(n.bind(null,2352))}),files:()=>({loading:ne,component:Promise.resolve().then(n.bind(null,2237))}),people:()=>({loading:ne,component:Promise.resolve().then(n.bind(null,2213))}),genericPluginPanel:()=>({loading:ne,component:Promise.resolve().then(n.bind(null,2353))}),notepad:()=>({loading:ne,component:n.e(343).then(n.bind(null,2231))})},methods:{onPanelEvent(e){var t,n,r,o;"function"==typeof(null===(t=this.selectedPanelMeta)||void 0===t||null===(n=t.plugin)||void 0===n?void 0:n.remote[e])&&(null===(r=this.selectedPanelMeta)||void 0===r||null===(o=r.plugin)||void 0===o||o.remote[e]())},showPanel(e){this.$thunderTracker.track({label:e,sublocation:"right_sidebar",event:"click"}),this.internalSelectedPanelId=e},showList(){this.internalSelectedPanelId=null}},watch:{"pluginPanel.opened":{immediate:!0,handler(){this.pluginPanel&&this.pluginPanel.opened&&(this.internalSelectedPanelId=this.pluginPanel.panelId,this.$emit("plugin-panel",this.pluginPanel.panelId))}}},setup(e){const t=Object(c.m)(te),{$auth:n,$config:r,$httpGql:o,$i18n:l,$thunderTracker:m}=Object(d.b)(),{room:h,targetUser:v}=Object(C.a)(e.roomId,n),{panels:f}=Object(W.a)(n,r,o,l),y=Object(d.c)(),{panelToOpen:x}=Object(X.b)(y),{canAddCoworker:_}=Object(Z.a)(e.roomId),w=Object(c.a)((()=>x.value||(_.value?"people":null))),I=Object(c.a)((()=>t.value!==te?t.value:w.value)),{panels:k}=Object(Q.a)(e.roomId,{onPluginPanel(e){t.value=e}});return Object(c.r)(I,(e=>{const label=(e=>{switch(e){case"direct_message_dash_room_about_client":return"view_about_client";case"catalog-panel-v1":return"view_project_info";default:return null}})(e);label&&m.track({label:label,sublocation:"plugin_panel",event:"impression"})})),{room:h,targetUser:v,newPluginPanels:k,selectedPanelId:I,pluginPanels:f,internalSelectedPanelId:t}}},ae=ie,re=(n(1981),Object($.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-sidebar"},[n("up-d-sidebar-header",{directives:[{name:"show",rawName:"v-show",value:!e.selectedPanelId,expression:"!selectedPanelId"}],attrs:{"room-id":e.roomId},on:{close:function(t){return e.$emit("close")}}}),e._v(" "),n("client-only",[n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.selectedPanelId,expression:"!selectedPanelId"}]},e._l(e.panels,(function(t){return n("li",{key:t.id,attrs:{tabindex:"0"},on:{click:function(n){return e.showPanel(t.id)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"space",32,n.key,[" ","Spacebar"])&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.showPanel(t.id)}}},[n("UpCIcon",{staticClass:"app-icon",attrs:{size:"md",icon:t.icon}}),e._v(" "),n("span",{staticClass:"panel-list-item-title"},[e._v(e._s(t.title))]),e._v(" "),n("UpCIcon",{staticClass:"next-icon",attrs:{icon:e.iconChevronRight,size:"sm"}})],1)})),0)]),e._v(" "),n("keep-alive",[e.selectedPanelComponent?n(e.selectedPanelComponent,{tag:"component",attrs:{auth:e.$auth,title:e.selectedPanelTitle,html:e.selectedPanelHtml,component:e.selectedPanelNestedComponent,"component-props":e.selectedPanelNestedComponentProps,"is-sudo":e.isSudo,roomId:e.roomId,panelId:e.selectedPanelId,room:e.room,config:e.config},on:{back:e.showList,panelEvent:e.onPanelEvent}}):e._e()],1)],1)}),[],!1,null,"204a1791",null));t.default=re.exports},2237:function(e,t,n){"use strict";n.r(t);var r=n(165),o=n(178),l=n(489),c=n(568),d=n(211),m=n(338),h=n(183);const v=["story-image-attachment-with-preview.png","story-file-attachment.pdf","story-image-attachment-with-preview.png"];n(1);var f=n(169),y=n(291),x=n(336),map=n(195),_=n(290),w=n(358),I=n(2);const k="eo:file",O="eo:url,gdrive:word,gdrive:presentation,gdrive:spreadsheet,gdrive:drawing,gdrive:file";var S=n(259),C=n(170),N=n(200),E=n(161),T=n(221);const j={ALL:"Files & Links",FILES:"Files",LINKS:"Links"},A=section=>section===j.ALL?[k,O]:section===j.FILES?[k]:[O];class P extends S.a{constructor(data){var e;super(data),this.authorName=null,Object.assign(this,Object(I.n)(this)),this.authorId=null===(e=this.author)||void 0===e?void 0:e.userId}setAuthor(e){this.authorName=e}}var U=e=>{const t=new N.a,{loadPersons:n}=Object(T.a)(),c=new o.a,d=Object(I.l)({loading:{},status:{},result:{},searchResult:{},searchStatus:{},searchQuery:{},loadingMore:!1}),m=e=>{const t=e.map((e=>e.authorId));return n(t,{noPresence:!0,fetchPolicy:E.b.CacheFirst}).pipe(Object(x.a)((t=>{e.forEach((e=>{t[e.authorId]&&e.setAuthor(t[e.authorId].fullName)}))})))},h=new Set,v=(section,n,cursor)=>{d.loading={...d.loading,[section]:!cursor};const r={roomId:e,attachTypes:A(section),sortDirection:"desc",cursor:cursor};return n&&(r.name=n),Object(f.a)(t.getRoomAttachments(r)).pipe(Object(map.a)((e=>{let{objectReferences:t=[],cursor:n}=e;return[t.map((e=>new P(e))).filter((e=>!e.deleted&&!e.blocked)),n]})),Object(x.a)((e=>{let[t,r]=e;n?(d.searchResult={...d.searchResult,[section]:(d.searchResult[section]||[]).concat(t)},d.searchStatus[section]=r):(d.result={...d.result,[section]:(d.result[section]||[]).concat(t)},d.status[section]=r,t.forEach((e=>{h.add(e.id)}))),d.loading={...d.loading,[section]:!1}})),Object(_.a)((e=>{let[t]=e;return m(t)})),Object(w.a)((()=>{d.loading={...d.loading,[section]:!1}})))},k=new r.b,O=t=>{if(t.roomId!==e)return;const n=t.objectReferences.filter((e=>("eo:file"===e.objectType||"eo:url"===e.objectType)&&!h.has(e.objectReferenceId))).map((e=>new P({...e,author:{userId:t.userId},created:Date.now()})));n.length&&(n.forEach((e=>{h.add(e.id)})),k.add(m(n).subscribe()),d.result={[j.ALL]:d.result[j.ALL]?n.concat(d.result[j.ALL]):null,[j.FILES]:d.result[j.FILES]?n.filter((e=>"eo:file"===e.objectType)).concat(d.result[j.FILES]):null,[j.LINKS]:d.result[j.LINKS]?n.filter((e=>"eo:url"===e.objectType)).concat(d.result[j.LINKS]):null})};return Object(I.i)((()=>{Object(C.a)((e=>{e.on("newStory_2",O),e.on("updatedStory_2",O)})),c.pipe(Object(l.a)(200),Object(_.a)((e=>{let{query:t,section:section}=e;return t===d.searchQuery[section]?Object(y.a)(d.searchResult[section]):(d.searchQuery={...d.searchQuery,[section]:t},d.searchResult={...d.searchResult,[section]:null},d.searchStatus[section]=null,""===t&&d.result[section]?Object(y.a)(d.result[section]):v(section,t))}))).subscribe()})),Object(I.j)((()=>{Object(C.a)((e=>{e._off("newStory_2",O),e._off("updatedStory_2",O)})),k.unsubscribe(),c.complete()})),{...Object(I.q)(d),loadAttachments:section=>{const e=d.searchQuery[section]?d.searchResult[section]:d.result[section];return e?Object(f.a)(e):(d.loadingMore=!1,d.searchQuery={...d.searchQuery,[section]:null},v(section))},loadMoreAttachments:section=>{const e=d.searchQuery[section]?d.searchStatus[section]:d.status[section];return e?(d.loadingMore=!0,v(section,d.searchQuery[section],e).pipe(Object(w.a)((()=>{d.loadingMore=!1})))):Object(y.a)([])},searchAttachments:(section,e)=>c.next({section:section,query:e})}},M=n(3),L=n(321),D=n(213),$=n(717),R=n(265),F=n(817),z=n(843),B=n(51),V={i18n:{messages:{"en-gb":n(2119),en:n(2120),is:n(2121)}},name:"UpDFilesPanel",props:{roomId:{type:String,required:!0},room:Object,isSudo:Boolean},components:{UpDSkeleton:D.a,UpDAttachment:$.default,UpDEmptyState:R.a,UpDGenericInfoPanel:F.a,UpDSearchInput:z.a},directives:{ConfirmExternalLink:Object(M.a)((()=>n.e(154).then(n.bind(null,2168))),"ConfirmExternalLink")},mixins:[c.a,d.a],data(){return{AttachmentSection:j,section:j.ALL,skeletons:(e=3,Array(e).fill(null).map(((e,t)=>{const n=v[t%v.length],r=null!=n&&n.endsWith("png")?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=":null;return new h.a({id:String(t),fileName:n,url:n?null:"https://upwork.com",imageUrl:r,thumbnailWidth:r?50:0,thumbnailHeight:r?50:0,authorName:m.a[t%m.a.length],created:m.b[t%m.b.length]})}))),subscriptions:new r.b};var e},computed:{illustrationNoContacts:()=>()=>n.e(91).then(n.bind(null,2335)),attachments(){return this.loading[this.section]?this.skeletons:this.searchQuery[this.section]?this.searchResult[this.section]:this.result[this.section]},searchPlaceholder(){switch(this.section){case j.FILES:return this.$t("thun_SearchFiles_414");case j.LINKS:return this.$t("thun_SearchLinks_415");default:return this.$t("thun_Search_416")}}},methods:{onScrolledToLastItem(){this.loadingMore||this.subscriptions.add(this.loadMoreAttachments(this.section).subscribe((()=>{this.sendFilesPanelEvent("view_more_files_links","impression")})))},onSectionChange(section){this.sendFilesPanelEvent("switch_files_tab"),this.subscriptions.unsubscribe(),this.subscriptions=new r.b,this.section=section,this.subscriptions.add(this.loadAttachments(section).subscribe()),this.reset()},getExternalLinkInfo(e){return{userId:e.authorId,isPsm:this.room.isRecruiter(e.authorId)}},async onConfirmExternalLink(e){let{event:t,link:link,data:data,shouldConfirm:n}=e;if(t.preventDefault(),this.isSudo)return;let r=!0;if(n)try{await this.openModalDialog({title:this.$t("thun_DoYouTrustThePersonWhoSentThisLink_417"),name:"room-confirm-external-link-modal",params:{roomId:this.roomId},oneTimeConfirmationKey:"externalLinkFromUser:".concat(data.userId,":confirmed")})}catch(e){r=!1}r&&window.open(link,"_blank")},onFileOpen(e){if(this.loading[this.section]||"eo:url"===e.objectType)return;this.$thunderTracker.track({label:"file_opened_from_files_list",sublocation:"files_panel",event:"click"});let t=e.url||e.objectUrl;var n,r;t&&(null!==(n=this.$store.state.flags)&&void 0!==n&&null!==(r=n.ff)&&void 0!==r&&r.newCoverletterEndpoint&&(t=t.replace(/\/messages\/coverletter\/att\/download\//,"/ab/proposals/att/download/")),Object(L.e)(t))},onSearchQuery(e){this.searchEvent$$.next(),this.searchAttachments(this.section,e)}},mounted(){this.subscriptions.add(this.loadAttachments(this.section).subscribe())},beforeDestroy(){this.subscriptions.unsubscribe()},setup(e){const{$thunderTracker:t}=Object(B.b)(),n=function(label){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";t.track({label:label,event:e,sublocation:"files_panel"})},r=new o.a;return r.pipe(Object(l.a)(500)).subscribe((()=>n("search_files_links","enter"))),{searchEvent$$:r,sendFilesPanelEvent:n,...U(e.roomId)}}},K=V,H=(n(2122),n(4)),component=Object(H.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("up-d-generic-info-panel",e._g({staticClass:"file-section",attrs:{title:e.$t("thun_FilesLinks_411"),impression:"","data-ev-label":"view_files_links","data-ev-sublocation":"files_panel"}},e.$listeners),[n("div",{staticClass:"up-d-files-panel"},[n("div",{staticClass:"attachment-panel-header"},[n("ul",{staticClass:"attachment-sections"},[n("li",{class:{active:e.section===e.AttachmentSection.ALL},attrs:{tabindex:"0"},on:{click:function(t){return e.onSectionChange(e.AttachmentSection.ALL)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSectionChange(e.AttachmentSection.ALL)}}},[e._v("\n          "+e._s(e.$t("thun_All_100"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.section===e.AttachmentSection.FILES},attrs:{tabindex:"0"},on:{click:function(t){return e.onSectionChange(e.AttachmentSection.FILES)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSectionChange(e.AttachmentSection.FILES)}}},[e._v("\n          "+e._s(e.$t("thun_Files_101"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.section===e.AttachmentSection.LINKS},attrs:{tabindex:"0"},on:{click:function(t){return e.onSectionChange(e.AttachmentSection.LINKS)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSectionChange(e.AttachmentSection.LINKS)}}},[e._v("\n          "+e._s(e.$t("thun_Links_102"))+"\n        ")])]),e._v(" "),n("up-d-search-input",{staticClass:"files-panel__search-input",attrs:{"hide-icon":!0,"show-border":!0,placeholder:e.searchPlaceholder,value:e.searchQuery[e.section]},on:{query:e.onSearchQuery,"clear-search":function(t){return e.sendFilesPanelEvent("clear_files_search")}}})],1),e._v(" "),e.attachments&&0===e.attachments.length?n("up-d-empty-state",{staticClass:"up-d-empty-state",attrs:{illustration:e.illustrationNoContacts}},[n("h3",{staticClass:"h5"},[e._v(e._s(e.$t("thun_NoSection_491",{section:e.section})))])]):e._e(),e._v(" "),n("div",{ref:"scroller"},e._l(e.attachments,(function(t){return n("up-d-attachment",{directives:[{name:"confirm-external-link",rawName:"v-confirm-external-link",value:{data:e.getExternalLinkInfo(t),handler:e.onConfirmExternalLink},expression:"{\n          data: getExternalLinkInfo(attachment),\n          handler: onConfirmExternalLink,\n        }"}],key:t.id,staticClass:"panel-attachment",attrs:{id:t.id,attachment:t,"show-link":!0,"show-skeleton":e.loading[e.section]},on:{"file-open":function(n){return e.onFileOpen(t)}},scopedSlots:e._u([{key:"content",fn:function(){return[t.authorName?n("span",{staticClass:"author-name"},[n("up-d-skeleton",{attrs:{loading:e.loading[e.section]}},[e._v("\n              "+e._s(t.authorName)+"\n            ")])],1):e._e()]},proxy:!0}],null,!0)})})),1)],1)])}),[],!1,null,"2c5aa3f3",null);t.default=component.exports},231:function(e,t,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("063eae8a",content,!0,{sourceMap:!1,manualInject:!0})},2352:function(e,t,n){"use strict";n.r(t);n(1);var r=n(165),o=n(489),filter=n(337),l=n(2),c=n(265),d=n(843),m=n(1235),h=n(817),v=n(203),f=n(51),y={name:"UpDSearchPanel",components:{UpDGenericInfoPanel:h.a,UpDSearchInput:d.a,UpDEmptyState:c.a,UpDSearchMessages:m.a},props:{roomId:String},methods:{onQuery(e){this.query=e.trim()},onClearSearch(){this.sendMessageSearchPanelEvent("clear_message_search","click"),this.$emit("close")}},setup(){const{$thunderTracker:e}=Object(f.b)(),t=(label,t)=>{e.track({label:label,event:t,sublocation:"message_search_panel"})},n=Object(l.m)(null),c=new r.b;return c.add(Object(v.d)(n).pipe(Object(o.a)(500),Object(filter.a)((e=>{let[q]=e;return q.length>0}))).subscribe((()=>t("search_in_room","enter")))),Object(l.j)((()=>c.unsubscribe())),{query:n,sendMessageSearchPanelEvent:t}}},x=(n(2117),n(4)),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("up-d-generic-info-panel",e._g({attrs:{impression:"","data-ev-label":"view_message_search_panel","data-ev-sublocation":"message_search_panel"}},e.$listeners),[n("up-d-search-input",{ref:"searchInput",staticClass:"up-d-search-input",attrs:{slot:"title","hide-icon":""},on:{query:e.onQuery,"clear-search":e.onClearSearch},slot:"title"}),e._v(" "),e.query?n("up-d-search-messages",{staticClass:"up-d-search-messages",attrs:{roomId:e.roomId,query:e.query}}):e._e()],1)}),[],!1,null,"86021cca",null);t.default=component.exports},2353:function(e,t,n){"use strict";n.r(t);var r=n(817);const o={"data-dash-onclick":"click","data-dash-onmouseover":"mouseover"};var l={name:"UpDGenericPluginPanel",components:{UpDGenericInfoPanel:r.a},props:{html:String,title:String,panelId:String,component:Function,componentProps:Object},data:()=>({panelEventListenerCancelers:[]}),methods:{onPanelEvents(e){var t;const{panelId:n,method:r,selector:o,params:l}=e.detail;if(n!==this.panelId)return;const element=null===(t=this.$refs.panelContent)||void 0===t?void 0:t.querySelector(o);var c;if("addClass"===r)null==element||null===(c=element.classList)||void 0===c||c.add(...l);else if("removeClass"===r){var d;null==element||null===(d=element.classList)||void 0===d||d.remove(...l)}},setupPanelEventListeners(){const e=e=>{this.$emit("panelEvent",e)};Object.keys(o).forEach((t=>{this.$refs.panelContent.querySelectorAll("[".concat(t,"]")).forEach((element=>{const n=(r=t,function(t){t.preventDefault(),e(t.target.getAttribute(r))});var r;const l=o[t];element.addEventListener(l,n),this.panelEventListenerCancelers.push((()=>{element.removeEventListener(l,n)}))}))}))},cleanUpPanelEventListeners(){this.panelEventListenerCancelers.forEach((e=>e()))}},mounted(){this.setupPanelEventListeners(),window.addEventListener("panel:dom",this.onPanelEvents)},beforeDestroy(){this.cleanUpPanelEventListeners(),window.removeEventListener("panel:dom",this.onPanelEvents)}},c=(n(2146),n(4)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("up-d-generic-info-panel",e._g({attrs:{title:e.title}},e.$listeners),[e.component?n("div",{ref:"panelContent",staticClass:"content"},[n(e.component,e._b({tag:"component"},"component",e.componentProps,!1))],1):n("div",{ref:"panelContent",staticClass:"content",domProps:{innerHTML:e._s(e.html)}})])}),[],!1,null,"b15eecb8",null);t.default=component.exports},264:function(e,t,n){var r=n(6)(!1);r.push([e.i,".air3-input,.air3-textarea{--input-width:100%;--input-border-color:var(--border-color-control);--input-border-color-hover:var(--border-color-control-hover);--input-border-color-selected:var(--border-color-control-selected);--input-border-width:var(--border-width-control);--input-border:var(--input-border-width) solid var(--input-border-color);--input-radius:var(--radius-4x);--input-bg:var(--bg-control);--input-text:var(--text-dark-on-control);--input-font-size:var(--font-size-base-sm);--input-line-height:var(--line-height-base);--input-text-placeholder:var(--text-light-on-control);display:block;width:100%;border:var(--input-border);border-radius:var(--input-radius);color:var(--input-text);background-color:var(--input-bg);background-clip:padding-box;font-size:var(--input-font-size);line-height:var(--input-line-height);transition:border-color .15s ease-in-out}.air3-input:hover,.air3-textarea:hover{--input-border-color:var(--input-border-color-hover)}.air3-input:focus,.air3-textarea:focus{--input-border-color:var(--input-border-color-selected)}.air3-input[disabled],.air3-input[readonly],.air3-textarea[disabled],.air3-textarea[readonly]{--input-border-color:var(--bg-disabled);--input-bg:var(--bg-disabled);--input-text:var(--text-on-disabled);cursor:not-allowed}.air3-input[disabled]::-moz-placeholder,.air3-input[readonly]::-moz-placeholder,.air3-textarea[disabled]::-moz-placeholder,.air3-textarea[readonly]::-moz-placeholder{color:var(--text-on-disabled)}.air3-input[disabled]::placeholder,.air3-input[readonly]::placeholder,.air3-textarea[disabled]::placeholder,.air3-textarea[readonly]::placeholder{color:var(--text-on-disabled)}.air3-input[readonly],.air3-textarea[readonly]{cursor:text}.air3-input[readonly]::-moz-selection,.air3-textarea[readonly]::-moz-selection{background-color:var(--bg-dark)}.air3-input[readonly]::selection,.air3-textarea[readonly]::selection{background-color:var(--bg-dark)}.air3-input::-moz-placeholder,.air3-textarea::-moz-placeholder{color:var(--input-text-placeholder);opacity:1}.air3-input::placeholder,.air3-textarea::placeholder{color:var(--input-text-placeholder);opacity:1}.air3-input.has-error,.air3-input.has-error:focus,.air3-input.has-error:hover,.air3-textarea.has-error,.air3-textarea.has-error:focus,.air3-textarea.has-error:hover{--input-border-color:var(--color-danger)!important}.air3-input{--input-height:var(--height-base);--input-padding:var(--ws-2x) var(--ws-4x);--input-round-radius:var(--radius-pill);--input-height-sm:var(--height-sm);min-height:var(--input-height);padding:var(--input-padding)}.air3-input[type=search],.air3-input[type=search]::-webkit-search-cancel-button,.air3-input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.air3-input.air3-input-round{border-radius:var(--input-round-radius)}.air3-textarea{--textarea-padding:var(--ws-2x) var(--ws-4x);height:auto;resize:vertical;padding:var(--textarea-padding)}.air3-textarea-expanding{resize:none}.air3-input-sm{min-height:var(--input-height-sm)}.air3-input-round{border-radius:var(--input-round-radius)}",""]),e.exports=r},285:function(e,t,n){"use strict";n(1);const r=e=>e.sort(((a,b)=>a-b)),o="notify";var l={name:"UpCResizeObserver",props:{widths:{type:Array,default:()=>[],validator:e=>e.every((e=>Number.isFinite(e)&&e>0))},heights:{type:Array,default:()=>[],validator:e=>e.every((e=>Number.isFinite(e)&&e>0))},observeViewport:{type:Boolean,default:!1}},data:()=>({width:0,height:0}),computed:{sortedWidthBreakpoints(){return this.widths.length?[...r(this.widths),1/0]:[]},sortedHeightBreakpoints(){return this.heights.length?[...r(this.heights),1/0]:[]},observedElement(){return this.observeViewport?window:this.$parent.$el}},mounted(){if(this.observeViewport)return this.resizeCb=()=>{this.compareAndNotify("width","innerWidth",this.sortedWidthBreakpoints),this.compareAndNotify("height","innerHeight",this.sortedHeightBreakpoints)},this.width=window.innerWidth,this.height=window.innerHeight,window.addEventListener("resize",this.resizeCb,{passive:!0}),void this.notify();window.ResizeObserver&&(window.requestAnimationFrame((()=>{this.width=this.observedElement.offsetWidth,this.height=this.observedElement.offsetHeight,window.up_c_observer_map||(window.up_c_observer_map=new WeakMap),this.widths.length||this.heights.length?(window.up_c_observer_map.set(this.observedElement,(()=>{this.compareAndNotify("width","offsetWidth",this.sortedWidthBreakpoints),this.compareAndNotify("height","offsetHeight",this.sortedHeightBreakpoints)})),this.notify()):window.up_c_observer_map.set(this.observedElement,(()=>{this.$emit(o,{width:this.observedElement.offsetWidth,height:this.observedElement.offsetHeight})}))})),window.up_c_observer||(window.up_c_observer=new ResizeObserver((e=>{window.requestAnimationFrame((()=>{Array.isArray(e)&&e.length&&window.up_c_observer_map&&e.forEach((e=>{window.up_c_observer_map.has(e.target)&&window.up_c_observer_map.get(e.target)()}))}))}))),window.up_c_observer.observe(this.observedElement))},beforeDestroy(){this.observeViewport?window.removeEventListener("resize",this.resizeCb):(window.up_c_observer&&window.up_c_observer.unobserve(this.observedElement),window.up_c_observer_map&&window.up_c_observer_map.has(this.observedElement)&&window.up_c_observer_map.delete(this.observedElement))},methods:{notify(){let e=this.sortedWidthBreakpoints.findIndex((e=>this.width<=e));const t=e<0?this.sortedWidthBreakpoints.length:e;e=this.sortedHeightBreakpoints.findIndex((e=>this.height<=e));const n=e<0?this.sortedHeightBreakpoints.length:e;this.$emit(o,{widthIndex:t,heightIndex:n})},compareAndNotify(e,t,n){if(!n.length)return;const r=n.findIndex((t=>this[e]<=t)),l=n.findIndex((e=>this.observedElement[t]<=e));this[e]*this.observedElement[t]!=0&&(r===l||l<0)||(this.$emit(o,{["".concat(e,"Index")]:l}),this[e]=this.observedElement[t])}},render:()=>null},c=n(4),component=Object(c.a)(l,undefined,undefined,!1,null,null,null);t.a=component.exports},295:function(e,t,n){var content=n(342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("73a46ff1",content,!0,{sourceMap:!1,manualInject:!0})},327:function(e,t,n){"use strict";function r(code){return 9===code||32===code}n.d(t,"a",(function(){return A}));const o=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function l(e){return c[e.charCodeAt(0)]}const c=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function d(e,t){if(!Boolean(e))throw new Error(t)}const m=10,h=2;function v(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:v(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>h)return"[Array]";const n=Math.min(m,e.length),r=e.length-n,o=[];for(let i=0;i<n;++i)o.push(v(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push(`... ${r} more items`);return"["+o.join(", ")+"]"}(e,n);return function(object,e){const t=Object.entries(object);if(0===t.length)return"{}";if(e.length>h)return"["+function(object){const e=Object.prototype.toString.call(object).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof object.constructor){const e=object.constructor.name;if("string"==typeof e&&""!==e)return e}return e}(object)+"]";const n=t.map((([t,n])=>t+": "+v(n,e)));return"{ "+n.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}Symbol.toStringTag;Symbol.toStringTag;const f={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},y=new Set(Object.keys(f));function x(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&y.has(t)}var _,w;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(_||(_={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(w||(w={}));const I=Object.freeze({});function k(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function O(e){return function(e,t,n=f){const r=new Map;for(const e of Object.values(w))r.set(e,k(t,e));let o,l,c,m=Array.isArray(e),h=[e],y=-1,_=[],O=e;const path=[],S=[];do{y++;const e=y===h.length,f=e&&0!==_.length;if(e){if(l=0===S.length?void 0:path[path.length-1],O=c,c=S.pop(),f)if(m){O=O.slice();let e=0;for(const[t,n]of _){const r=t-e;null===n?(O.splice(r,1),e++):O[r]=n}}else{O=Object.defineProperties({},Object.getOwnPropertyDescriptors(O));for(const[e,t]of _)O[e]=t}y=o.index,h=o.keys,_=o.edits,m=o.inArray,o=o.prev}else if(c){if(l=m?y:h[y],O=c[l],null==O)continue;path.push(l)}let w;if(!Array.isArray(O)){var C,N;x(O)||d(!1,`Invalid AST Node: ${T=O,v(T,[])}.`);const n=e?null===(C=r.get(O.kind))||void 0===C?void 0:C.leave:null===(N=r.get(O.kind))||void 0===N?void 0:N.enter;if(w=null==n?void 0:n.call(t,O,l,c,path,S),w===I)break;if(!1===w){if(!e){path.pop();continue}}else if(void 0!==w&&(_.push([l,w]),!e)){if(!x(w)){path.pop();continue}O=w}}var E;void 0===w&&f&&_.push([l,O]),e?path.pop():(o={inArray:m,index:y,keys:h,edits:_,prev:o},m=Array.isArray(O),h=m?O:null!==(E=n[O.kind])&&void 0!==E?E:[],y=-1,_=[],c&&S.push(c),c=O)}while(void 0!==o);var T;return 0!==_.length?_[_.length-1][1]:e}(e,S)}const S={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>C(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=E("(",C(e.variableDefinitions,", "),")"),n=C([e.operation,C([e.name,t]),C(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+E(" = ",n)+E(" ",C(r," "))},SelectionSet:{leave:({selections:e})=>N(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const l=E("",e,": ")+t;let c=l+E("(",C(n,", "),")");return c.length>80&&(c=l+E("(\n",T(C(n,"\n")),"\n)")),C([c,C(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+E(" ",C(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>C(["...",E("on ",e),C(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${E("(",C(n,", "),")")} on ${t} ${E("",C(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),o=n.split(/\r\n|[\n\r]/g),l=1===o.length,c=o.length>1&&o.slice(1).every((line=>0===line.length||r(line.charCodeAt(0)))),d=n.endsWith('\\"""'),m=e.endsWith('"')&&!d,h=e.endsWith("\\"),v=m||h,f=!(null!=t&&t.minimize)&&(!l||e.length>70||v||c||d);let y="";const x=l&&r(e.charCodeAt(0));return(f&&!x||c)&&(y+="\n"),y+=n,(f||v)&&(y+="\n"),'"""'+y+'"""'}(e):`"${e.replace(o,l)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+C(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+C(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+E("(",C(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>E("",e,"\n")+C(["schema",C(t," "),N(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>E("",e,"\n")+C(["scalar",t,C(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>E("",e,"\n")+C(["type",t,E("implements ",C(n," & ")),C(r," "),N(o)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:o})=>E("",e,"\n")+t+(j(n)?E("(\n",T(C(n,"\n")),"\n)"):E("(",C(n,", "),")"))+": "+r+E(" ",C(o," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:o})=>E("",e,"\n")+C([t+": "+n,E("= ",r),C(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>E("",e,"\n")+C(["interface",t,E("implements ",C(n," & ")),C(r," "),N(o)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>E("",e,"\n")+C(["union",t,C(n," "),E("= ",C(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>E("",e,"\n")+C(["enum",t,C(n," "),N(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>E("",e,"\n")+C([t,C(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>E("",e,"\n")+C(["input",t,C(n," "),N(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:o})=>E("",e,"\n")+"directive @"+t+(j(n)?E("(\n",T(C(n,"\n")),"\n)"):E("(",C(n,", "),")"))+(r?" repeatable":"")+" on "+C(o," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>C(["extend schema",C(e," "),N(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>C(["extend scalar",e,C(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>C(["extend type",e,E("implements ",C(t," & ")),C(n," "),N(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>C(["extend interface",e,E("implements ",C(t," & ")),C(n," "),N(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>C(["extend union",e,C(t," "),E("= ",C(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>C(["extend enum",e,C(t," "),N(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>C(["extend input",e,C(t," "),N(n)]," ")}};function C(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function N(e){return E("{\n",T(C(e,"\n")),"\n}")}function E(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function T(e){return E("  ",e.replace(/\n/g,"\n  "))}function j(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}const A=e=>({fetchQueryResult:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e({handleApiErrors:!1}).post({query:O(t),variables:n}).json()}})},333:function(e,t,n){"use strict";n.r(t);var r={},o=n(4),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",viewBox:"0 0 24 24",role:"img"}},[t("path",{attrs:{"vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10","stroke-width":"1.5",d:"M8.94 8.94l5.786 5.786m0-5.786l-5.785 5.786m2.892 6.107a9 9 0 100-18 9 9 0 000 18z"}})])}),[],!1,null,null,null);t.default=component.exports},340:function(e,t,n){"use strict";function r(element,e,t){function n(e){const path=e.composedPath&&e.composedPath()||e.path;return Array.isArray(path)&&path.indexOf(element)<0?t(e):null}return e.forEach((e=>{document.body.addEventListener(e,n)})),()=>{e.forEach((e=>{document.body.removeEventListener(e,n)}))}}function o(element,e){return r(element,["click"],e)}function l(element,e){return r(element,["mouseup","touchend"],e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}))},341:function(e,t,n){"use strict";n(295)},342:function(e,t,n){var r=n(6)(!1);r.push([e.i,".spinner{transform-origin:center center;animation:spinnerIconRotate 2s linear infinite}.spinner circle{stroke-dasharray:1,200;stroke-dashoffset:0;animation:spinnerIconDash 1.5s ease-in-out infinite;stroke-linecap:round;fill:none}@keyframes spinnerIconRotate{to{transform:rotate(1turn)}}@keyframes spinnerIconDash{0%{stroke-dasharray:1,200;stroke-dashoffset:0;stroke:#0c7100}50%{stroke-dasharray:89,200;stroke-dashoffset:-35;stroke:#14a800}to{stroke-dasharray:89,200;stroke-dashoffset:-124;stroke:#89d480}}",""]),e.exports=r},343:function(e,t,n){"use strict";n.r(t);var r={},o=(n(341),n(4)),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"spinner",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"25 25 50 50"}},[t("circle",{attrs:{cx:"50",cy:"50",r:"20","stroke-width":"4","stroke-miterlimit":"10"}})])}),[],!1,null,null,null);t.default=component.exports},352:function(e,t,n){"use strict";var r=n(157),o=n(333),l=n(343),input=n(231),c=n.n(input),d=n(373),m=n.n(d),h={i18n:{messages:{"en-gb":n(375),en:n(376),is:n(377)}},injectStyles:[c.a,m.a],name:"UpCInput",components:{UpCIcon:r.default},props:{isLoading:{type:Boolean,default:!1},hasClearButton:{type:Boolean,default:!0}},data:()=>({iconSpinner:l.default,iconCloseCircle:o.default,showClear:!1,isCleared:!1,input:null}),watch:{isLoading:{handler(e){return this.input.focus(),this.$nextTick((()=>e))}}},mounted(){this.addInputAttributes()},updated(){this.addInputAttributes()},methods:{clearInput(){this.input&&(this.input.value="",this.input.focus(),setTimeout((()=>{this.isCleared=!0}),200),setTimeout((()=>{this.isCleared=!1}),500),this.$emit("clear",{value:this.input.value}),this.input.dispatchEvent(new CustomEvent("input",{value:this.input.value})))},onClearKeydown(e){this.$emit("clear-keydown",e)},addInputAttributes(){this.input=this.$refs.container.querySelector("input"),this.input&&(this.showClear=this.input.value.length>0&&!this.input.disabled)},onChangeInput(e){this.input=this.$refs.container.querySelector("input"),this.showClear=(this.input.value.length>0||e.detail)&&!this.input.disabled}}},v=n(4),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container"},[n("div",{staticClass:"air3-input-group",class:{"is-prepended":e.$slots["left-icon"],"is-appended":e.$slots["right-icon"],"air3-input-group-clear":e.hasClearButton}},[e.$slots["left-icon"]?n("div",{staticClass:"air3-input-prepend"},[e._t("left-icon")],2):e._e(),e._v(" "),e._t("input"),e._v(" "),n("div",{staticClass:"air3-input-append"},[e.showClear&&!e.isLoading&&e.hasClearButton?n("button",{staticClass:"air3-btn-clear",attrs:{"data-qa":"clear-button",type:"button","data-ev-label":"input_clear"},on:{click:e.clearInput,keydown:function(t){return e.onClearKeydown(t)}}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("vc_ClearInput_35")))]),e._v(" "),n("UpCIcon",{attrs:{icon:e.iconCloseCircle}})],1):e._e(),e._v(" "),e.isLoading?n("UpCIcon",{staticClass:"air3-loading-icon",attrs:{"data-qa":"loading-icon",icon:e.iconSpinner}}):e._e(),e._v(" "),e.$slots["right-icon"]?e._t("right-icon"):e._e()],2),e._v(" "),e.hasClearButton?n("div",{staticClass:"sr-only",attrs:{"aria-live":"polite"}},[e.isCleared?n("span",[e._v(e._s(e.$t("vc_Cleared_36")))]):e._e()]):e._e()],2)])}),[],!1,null,null,null);t.a=component.exports},373:function(e,t,n){var content=n(374);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("29a47c0a",content,!0,{sourceMap:!1,manualInject:!0})},374:function(e,t,n){var r=n(6)(!1);r.push([e.i,".air3-input-group{--input-ws-left:var(--ws-4x);--input-ws-right:var(--ws-4x);--input-group-padding:2px var(--input-ws-right) 0 var(--input-ws-left);--input-group-clear-icon-text:var(--text-icon-on-control);display:grid;grid-template-columns:var(--input-ws-left) auto var(--input-ws-right)}.air3-input-group.is-prepended{--input-ws-left:var(--ws-12x)}.air3-input-group.is-appended{--input-ws-right:var(--ws-12x)}.air3-input-group .air3-input,.air3-input-group .air3-input-append,.air3-input-group .air3-input-prepend{grid-row:1/1;display:flex;align-items:center}.air3-input-group .air3-input-prepend{position:relative;grid-column:1/1;padding-left:var(--ws-4x);pointer-events:none}.air3-input-group .air3-input-append{grid-column:3/4;padding-right:var(--ws-2x);justify-content:flex-end}.air3-input-group .air3-input{--input-padding:var(--input-group-padding);grid-column:1/-1}.air3-input-group .air3-btn-clear{font-size:0;cursor:pointer;background:none;border:0;padding:0;width:100%;height:100%;text-align:left;line-height:1;color:var(--input-group-clear-icon-text)}.air3-input-group .is-disabled{color:var(--text-on-disabled)}.air3-input-group-clear{--input-ws-right:var(--ws-8x)}",""]),e.exports=r},375:function(e){e.exports=JSON.parse('{"vc_ClearInput_35":"Clear Input","vc_Cleared_36":"Cleared"}')},376:function(e){e.exports=JSON.parse('{"vc_ClearInput_35":"Clear Input","vc_Cleared_36":"Cleared"}')},377:function(e){e.exports=JSON.parse('{"vc_ClearInput_35":"[猫Clear Input猫]","vc_Cleared_36":"[猫Cleared猫]"}')},381:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return w}));n(1);var r=n(169),o=n(291),l=n(382),map=n(195),c=n(292),d=n(175);class m extends d.a{constructor(e,t,n){super(e,t,n)}search(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/search",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}spotlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/spotlight",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}spotlight4(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/spotlight4",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}browseRoomAndUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/public/browse",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}healthcheck(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={path:"/healthcheck",method:"GET",query:this._buildQueryWithOrg(e)};return this._fetchJSON(t)}ping(e){return this.healthcheck(e)}getDomain(){return"search"}}var h=n(5),v=n(201);const f=new m({},h.c,h.b),y={ROOMS:"room",CONTACTS:"contact",MESSAGES:"message"},x=[y.ROOMS,y.CONTACTS,y.MESSAGES];class _{constructor(data){var e,t;(Object.assign(this,data),this.id=data.roomId||data.legacyId,"string"==typeof data.roomType)&&(this.roomType=null===(t=[["contact",1],["group",2],["interview",3]].find((e=>{let[t]=e;return t===data.roomType})))||void 0===t?void 0:t[1]);this.roomTypeName=null===(e=Object.entries(v.a).find((e=>{let[,t]=e;return t===this.roomType})))||void 0===e?void 0:e[0],this.targetUserId=this.userId}}class w{mapResult(e){const{records:t}=e,n=e=>{if(e){const t=e[["stringVal","intVal","boolVal","dateVal"].find((t=>t in e))];return"UNKNOWN"===t?null:t}return null};return t.map((e=>{let{metaData:t,snippet:r}=e;const o=n(t.roomType);if(o)return new _({roomId:n(t.roomId),roomName:n(t.roomName),topic:n(t.topic),isPublic:n(t.isPublic),orgId:n(t.orgId),created:n(t.createdTs),roomType:o,...r[0]});const l="".concat(n(t.firstName)||""," ").concat(n(t.lastName)||"").trim(),c=n(t.userId),d=n(t.orgId);return new _({roomId:n(t.roomId)||"room_".concat(c,"_").concat(d),legacyId:n(t.legacyId),roomName:l,roomType:"contact",userId:c,orgId:d,photoUrl:n(t.photoUrl),firstName:n(t.firstName),lastName:n(t.lastName)})}))}buildQuery(e){let{roomId:t,query:n,section:section}=e;return{query:t?"".concat(n," inId:").concat(t):n,limit:20,sortField:"createdTs",sortOrder:"desc",section:section}}search(e,t){const n=[y.MESSAGES].map((section=>Object(r.a)(f.search(this.buildQuery({query:e,roomId:t,section:section}))).pipe(Object(map.a)((e=>({items:this.mapResult(e),section:section,requestId:e.requestId}))),Object(c.a)((e=>Object(o.a)({error:e,section:section}))))));return Object(l.a)(...n)}browse(e,t){const n={...this.buildQuery({query:e}),...t,limit:10};return Object(r.a)(f.browseRoomAndUser(n)).pipe(Object(map.a)((e=>({items:this.mapResult(e),requestId:e.requestId}))))}searchMore(e){let{query:t,roomId:n,page:o,section:section,requestId:l}=e;const c={...this.buildQuery({query:t,roomId:n,section:section}),page:o,requestId:l};return Object(r.a)(f.search(c)).pipe(Object(map.a)((e=>this.mapResult(e))))}}},411:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"usersContacts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"ObjectField",name:{kind:"Name",value:"includeInactive"},value:{kind:"BooleanValue",value:!0}}]}},{kind:"Argument",name:{kind:"Name",value:"pagination"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"ObjectField",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"total"},name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"contact"},name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"userId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"legacyId"},name:{kind:"Name",value:"nid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"portrait"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"photoUrl"},name:{kind:"Name",value:"portrait100"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"fullName"},name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"country"},name:{kind:"Name",value:"countryName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cityName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timezone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"orgId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"orgName"},name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:665}};n.loc.source={body:"query ($query: String, $limit: Int!, $cursor: String) {\n  usersContacts(\n    filter: { query: $query, includeInactive: true }\n    pagination: { first: $limit, after: $cursor }\n  ) {\n    total: totalCount\n    pageInfo {\n      cursor: endCursor\n    }\n    contact: edges {\n      cursor\n      node {\n        user {\n          userId: id\n          legacyId: nid\n          portrait {\n            photoUrl: portrait100\n          }\n        }\n        fullName: name\n        score\n        location {\n          country: countryName\n          cityName\n          timezone\n        }\n        organization {\n          orgId: id\n          orgName: name\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=n},415:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(1);var r=n(215),o=n(327),l=n(411),c=n.n(l);const d=e=>{const{fetchQueryResult:t}=Object(o.a)(e),n=Object(r.a)();return{getContactsGql:e=>{let{query:r="",limit:o=200}=e;return t(c.a,{query:r,limit:o}).then((e=>{let{data:data}=e;var t;const n=((null===(t=null==data?void 0:data.usersContacts)||void 0===t?void 0:t.contact)||[]).map((e=>{let{node:t}=e;var n;const{fullName:r,user:o,organization:l,location:c}=t,d=null===(n=null==o?void 0:o.portrait)||void 0===n?void 0:n.photoUrl;delete o.portrait;const[m,h]=null==r?void 0:r.split(" ");return{...o,fullName:r,firstName:m,lastName:h,...l,photoUrl:d,...c}}));return(e=>{const t={};return e.forEach((e=>{t[e.fullName]=(t[e.fullName]||[]).concat(e)})),e.forEach((e=>{const n=t[e.fullName]||[],r=new Set,o=new Set;if(n.forEach((e=>{r.add(e.legacyId),o.add(e.orgId)})),r.size>1&&o.size>1){const t=e.fullName!==e.orgName?"- ".concat(e.orgName):"";e.subtitle="".concat(e.legacyId," ").concat(t)}else r.size>1?e.subtitle=e.legacyId:o.size>1&&(e.subtitle=e.orgName)})),e})(n)})).catch((e=>{n.error(e)}))}}}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(381),o=n(2);class l extends r.a{constructor(data){super(data),this.targetUser=null,Object.assign(this,Object(o.n)(this))}setUser(e){this.targetUser=e}}},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return F}));n(1);var r=n(291),o=n(382),l=n(357),c=n(323),d=n(169),m=n(178),h=n(336),v=n(292),map=n(195),filter=n(337),f=n(489),y=n(290),x=n(153),_=n(154),w=n(166),I=n(281),k=n(155);var O=n(2),S=n(177),C=n(300),N=n(214),E=n(201),T={"en-gb":n(480),en:n(481),is:n(482)};const j=(e,t)=>e.fullName||"".concat(e.firstName||""," ").concat(e.lastName||"").trim()||t.t("thun_Person_581");var A=n(224);var P=n(225),U=n(51),M=n(415),L=n(200),D=n(221),$=n(170);const R={PRELOADING:"PRELOADING",IDLE:"IDLE",PENDING:"PENDING",FOUND:"FOUND",NOT_FOUND:"NOT_FOUND"},F=()=>{const{loadPersons:e}=Object(D.a)(),t=new L.a,n={},l=(e,t)=>{e.forEach((e=>{n[e]=t}))};return c=>Object(o.a)((t=>{const o=t.filter((e=>{let{targetUserId:t,targetUser:n}=e;return t&&(!n||!n.status)})),c=o.filter((e=>{let{targetUserId:t}=e;return t&&!n[t]})).map((e=>e.targetUserId));return l(c,!0),e(c).pipe(Object(h.a)((e=>{o.forEach((t=>{e[t.targetUserId]&&t.setUser(e[t.targetUserId])})),l(c,!1)})),Object(v.a)((()=>(l(c,!1),Object(r.a)([])))))})(c),(e=>{const r=e.filter((e=>{let{isAgencyDirectMessage:t,relatedAgency:r,roomId:o}=e;return t&&!r&&!n[o]}));return l(r.map((e=>e.roomId)),!0),Object(o.a)(...r.map((e=>t.getAgencyMetadata(e.roomId).pipe(Object(h.a)((t=>{e.setAgency(t),l([e.roomId],!1)}))))))})(c))};t.b=(e,t)=>{Object(U.a)(T);const n=Object(O.m)(R.PRELOADING),o=Object(O.m)(),D=Object(O.m)(!1),{getContactsGql:F}=Object(M.a)(t);let z=null;const B=Object(O.m)([]),V=new L.a,K=async function(){return F({query:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",limit:200}).then((e=>e.map((e=>{const t=new C.a(function(e,t){return new N.a({roomId:null,roomName:j(e,t),topic:null,roomType:E.a.ONE_ON_ONE,targetUserId:e.userId,targetOrgId:e.orgId,targetOrgName:e.orgName,subtitle:e.subtitle,isPublic:0,isContactRoom:1})}(e));return t.setUser(new P.a(function(e){return new A.a({location:{...e},personName:{...e},...e})}(e))),t}))))},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(l.a)((()=>Object(c.a)(Object(d.a)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return V.getRoomsSummary({query:e,limit:200}).then((e=>e.map((e=>new C.a(e)))))}(e)),Object(d.a)(K(e))).pipe(Object(map.a)((e=>{let[t,n]=e;return t.concat(n.filter((a=>{const e=t.filter((b=>a.targetUserId===b.targetUserId&&a.targetOrgId===b.targetOrgId)),n=e.find((b=>a.roomTypeName===b.roomTypeName));return n&&(n.subtitle=a.subtitle),0===e.length})))})),Object(h.a)((e=>{z||(z=e)})),Object(v.a)((e=>(o.value=e,Object(r.a)([])))))))},J=e=>{var t;null===(t=z)||void 0===t||t.push(new C.a({...e}))},W=t=>{let{userId:n,orgId:r,roomId:o}=t;z&&e.userId===n&&e.orgId===r&&(z=z.filter((e=>e.roomId!==o)))},G=e=>{var t;let{roomId:n,...data}=e;const r=null===(t=z)||void 0===t?void 0:t.find((e=>e.roomId===n));r&&r.update(data)};let Y=null;Object(O.i)((()=>{Object($.a)((e=>{e.on("newRoom",J),e.on("removeUser",W),e.on("updateRoom",G)})),n.value=R.PRELOADING,Y=H()})),Object(O.j)((()=>{Object($.a)((e=>{e._off("newRoom",J),e._off("removeUser",W),e._off("updateRoom",G)}))}));const Q=(e,t)=>e.filter((e=>t.every((t=>{var n;return e.roomName.match(t)||(null===(n=e.topic)||void 0===n?void 0:n.match(t))})))),X=new m.a;return X.pipe(Object(h.a)((e=>{e?n.value=R.PENDING:(B.value=[],n.value=R.IDLE)})),Object(filter.a)((e=>e)),Object(f.a)(300),Object(y.a)((e=>z?Object(r.a)(z).pipe(Object(map.a)((t=>[t,e]))):Y.pipe(function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,r=void 0===n?1/0:n,o=t.delay,l=t.resetOnSuccess,c=void 0!==l&&l;return r<=0?w.a:Object(x.a)((function(source,e){var t,n=0,l=function(){var d=!1;t=source.subscribe(Object(_.a)(e,(function(t){c&&(n=0),e.next(t)}),void 0,(function(c){if(n++<r){var m=function(){t?(t.unsubscribe(),t=null,l()):d=!0};if(null!=o){var h="number"==typeof o?Object(I.a)(o):Object(k.a)(o(c,n)),v=Object(_.a)(e,(function(){v.unsubscribe(),m()}),(function(){e.complete()}));h.subscribe(v)}else m()}else e.error(c)}))),d&&(t.unsubscribe(),t=null,l())};l()}))}(1),Object(map.a)((t=>[t,e]))))),Object(map.a)((e=>{let[t,n]=e;const r=Object(S.b)(n).toLowerCase().trim().split(/\s+/g).map((e=>new RegExp(e,"i")));return[Q(t,r),n,r]})),Object(h.a)((e=>{let[t,r,o]=e;B.value=t,n.value=R[t.length?"FOUND":"NOT_FOUND"],((e,t)=>{D.value=!0,H(e).pipe(Object(map.a)((e=>{var n;return z=null===(n=z)||void 0===n?void 0:n.concat(e.filter((a=>!z.find((b=>a.roomId&&b.roomId?a.roomId===b.roomId:!a.roomId&&!b.roomId&&a.targetUserId===b.targetUserId&&a.targetOrgId===b.targetOrgId))))),Q(z,t)})),Object(h.a)((e=>{B.value=e,D.value=!1}))).subscribe()})(r,o)}))).subscribe(),{searchRooms:e=>X.next(e),getOneOnOneRoom:e=>V.getOneOnOneRoom({userId:e.targetUserId,orgId:e.targetOrgId}),results:B,status:Object(O.a)((()=>n.value)),error:o,showProgressBar:D}}},479:function(e,t,n){var content=n(679);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("6d850498",content,!0,{sourceMap:!1,manualInject:!0})},480:function(e){e.exports=JSON.parse('{"thun_Person_581":"Person"}')},481:function(e){e.exports=JSON.parse('{"thun_Person_581":"Person"}')},482:function(e){e.exports=JSON.parse('{"thun_Person_581":"[猫Person猫]"}')},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(206),o=n(153),l=n(154);function c(e,t){return void 0===t&&(t=r.b),Object(o.a)((function(source,n){var r=null,o=null,c=null,d=function(){if(r){r.unsubscribe(),r=null;var e=o;o=null,n.next(e)}};function m(){var o=c+e,l=t.now();if(l<o)return r=this.schedule(void 0,o-l),void n.add(r);d()}source.subscribe(Object(l.a)(n,(function(l){o=l,c=t.now(),r||(r=t.schedule(m,e),n.add(r))}),(function(){d(),n.complete()}),void 0,(function(){o=r=null})))}))}},494:function(e,t,n){"use strict";n.r(t);var r={},o=n(4),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-name":"Layer 1",viewBox:"0 0 24 24",role:"img"}},[t("circle",{attrs:{cx:"12",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}}),t("circle",{attrs:{cx:"19.5",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}}),t("circle",{attrs:{cx:"4.5",cy:"12",r:"1.5",fill:"var(--icon-color, #001e00)","vector-effect":"non-scaling-stroke",stroke:"var(--icon-color, #001e00)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])}),[],!1,null,null,null);t.default=component.exports},549:function(e,t,n){var content=n(550);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("622ac6e2",content,!0,{sourceMap:!1,manualInject:!0})},550:function(e,t,n){var r=n(6)(!1);r.push([e.i,".air3-dropdown-secondary{--dropdown-secondary-toggle-bg-selected:var(--bg-btn-light-hover);display:inline-block;position:relative}.air3-dropdown-secondary .air3-dropdown-secondary-toggle[aria-expanded=true]{background-color:var(--dropdown-secondary-toggle-bg-selected)}.air3-dropdown-secondary .air3-dropdown-secondary-toggle.has-no-border{border:0;background:none}.air3-dropdown-secondary .air3-popper-container{--popper-padding:0;--popper-max-width:auto}.air3-dropdown-secondary .air3-transition-intro-enter-active,.air3-dropdown-secondary .air3-transition-intro-leave-active{--animation-duration:0.2s;--translate-x-start:0}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=top],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=top]{--translate-y-start:20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=bottom],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=bottom]{--translate-y-start:-20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=left],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=left]{--translate-x-start:20px!important}.air3-dropdown-secondary .air3-transition-intro-enter-active [data-popper-placement^=right],.air3-dropdown-secondary .air3-transition-intro-leave-active [data-popper-placement^=right]{--translate-x-start:-20px!important}.air3-dropdown-secondary .air3-result-feedback .air3-icon{margin-right:var(--ws-3x)}.air3-dropdown-secondary-append-to-body .air3-popper-container{--popper-padding:0;--animation-duration:0.2s;--translate-x-start:0}",""]),e.exports=r},551:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"More options"}')},552:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"More options"}')},553:function(e){e.exports=JSON.parse('{"vc_MoreOptions_1":"猫More options猫"}')},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(443);class o extends r.a{constructor(data){super(data),this.id=data.storyId,this.user=null}setUser(e){this.user=e}}},563:function(e,t,n){"use strict";n.r(t);var r=n(285),o=n(549),l=n.n(o),c=n(29),d=n(340),m=n(164),h=n.n(m),v=n(157),f=n(494),y=n(162);function x(e){return e.map((e=>{const t={...e};return t._origin=e,t}))}var _={"en-gb":n(551),en:n(552),is:n(553)},w={injectStyles:[l.a,h.a],name:"UpCDropdownSecondary",components:{UpCDropdownMenu:()=>n.e(112).then(n.bind(null,618)).then((e=>e.default||e)),UpCIcon:v.default,UpCResizeObserver:r.a},i18n:{messages:_},model:{prop:"selected",event:"change"},props:{items:{type:Array,default:()=>[]},appendToBody:{type:Boolean,default:!1},sortMenuItems:{type:Boolean,default:!1},title:{type:String,default:null},label:{type:String,default(){return this.$t("vc_MoreOptions_1")}},icon:{type:[Object,Function],default:null},align:{type:String,default:"start"},groups:{type:Array,default:()=>[]},checkableBehavior:{type:String,validator:e=>["single","multiple","none"].includes(e),default:"none"},disabled:{type:Boolean,default:!1},itemLink:{type:String,default:""},itemKey:{type:String,default:"id"},itemText:{type:String,default:"label"},itemSublabel:{type:String,default:""},groupKey:{type:String,default:"id"},groupText:{type:String,default:"label"},groupItemsKey:{type:String,default:"items"},groupDividers:{type:Boolean,default:!1},selected:{type:[Array,Object],default:null},menuClass:{type:String,default:""},horizontalMenu:{type:Boolean,default:!1},btnBorder:{type:Boolean,default:!1},size:{default:"md",type:String,validator:e=>["sm","md"].includes(e)}},data:()=>({UpCPopover:async()=>n.e(111).then(n.bind(null,414)).then((e=>e.default||e)),moreIcon:f.default,isOpen:!1,isNativeApp:Object(c.a)(),openNativeMenu:null,selectedIds:[],id:null,isMobile:!1,offClickOutside:null,menuItems:[],groupItems:[]}),computed:{component(){return this.isMobile?"div":this.UpCPopover},popperOffset(){const e=this.btnBorder?6:20;switch(this.align){case"center":return[0,e];case"end":return[16,e];default:return[-16,e]}},effectivePlacement(){return"start"===this.align||"end"===this.align?"bottom-".concat(this.align):"bottom"},effectiveFallbackPlacement(){return"start"===this.align||"end"===this.align?"top-".concat(this.align):"top"}},watch:{items:{immediate:!0,deep:!0,handler(e){Array.isArray(this.items)&&(this.menuItems=x(this.items)),e.length&&function(data){if(Array.isArray(data.items)&&data.items.length){const e=data.items.every((e=>e[data.itemText]&&"string"==typeof e[data.itemText]));data.items.every((e=>e[data.itemKey]&&"string"==typeof e[data.itemKey]))?e?data.itemLink&&"none"!==data.checkableBehavior&&console.error("Dropdown with link should be checkable behavior none"):console.error("Each dropdown-secondary menu item should have ".concat(data.itemText," property and type should be string")):console.error("Each dropdown-secondary menu item should have ".concat(data.itemKey," property and type should be string"))}}({items:this.menuItems,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink,checkableBehavior:this.checkableBehavior})}},groups:{immediate:!0,deep:!0,handler(e){var t,n;Array.isArray(this.groups)&&(this.groupItems=(t=this.groups,n=this.groupItemsKey,t.map((e=>{const t={...e};return t[n]=x(e[n]),t})))),e.length&&function(data){if(Array.isArray(data.groups)&&data.groups.length)if(data.groups[0][data.groupText]&&data.title)console.error("Can not add group title to the first group when there is dropdown title");else{const e=!data.itemLink||data.groups.every((e=>"none"===e.checkableBehavior)),t=data.groups.every((e=>e[data.groupKey]&&"string"==typeof e[data.groupKey])),n=data.groups.every((e=>!Array.isArray(e[data.groupItems])||e[data.groupItems].every((e=>e[data.itemKey]&&"string"==typeof e[data.itemKey])))),r=data.groups.every((e=>!Array.isArray(e[data.groupItems])||e[data.groupItems].every((e=>e[data.itemText]&&"string"==typeof e[data.itemText]))));t?n?r?e||console.error("Group dropdown with link should be checkable behavior none"):console.error("Each dropdown-secondary menu item should have ".concat(data.itemText," property and type should be string")):console.error("Each dropdown-secondary menu item should have ".concat(data.itemKey," property and type should be string")):console.error("Each group items should have ".concat(data.groupKey," property and type should be string"))}}({groups:this.groupItems,groupText:this.groupText,groupKey:this.groupKey,groupItems:this.groupItemsKey,itemKey:this.itemKey,itemText:this.itemText,itemLink:this.itemLink,title:this.title})}},selected:{immediate:!0,handler(e,t){const n=Array.isArray(e)&&e.length,r=!t&&(e||n);this.setDefaultSelectedValues({shouldNotEmitChange:r})}}},async mounted(){if(this.id=Object(y.a)().toString(),this.$refs.container&&(this.offClickOutside=Object(d.a)(this.$refs.container,this.onClickOutside)),this.isNativeApp){const{openNative:e,syncNativeSelection:t,isNativeFeatureAvailable:r}=await n.e(230).then(n.bind(null,2195));this.isNativeFeatureAvailable=r,this.openNative=e,this.syncNativeSelection=t}},beforeDestroy(){this.offClickOutside&&this.offClickOutside()},methods:{async open(){this.isOpen?this.close():(this.isOpen=!0,this.isMobile||this.isNativeApp||(await this.UpCPopover().then((async()=>(await this.$options.components.UpCDropdownMenu(),new Promise((e=>{setTimeout((async()=>{await this.$refs.menu.load(),await this.$refs.popover.createPopperIns({open:!0}),e()}),0)}))))),this.$refs.menu.setMenuFocus(40)),this.isNativeApp&&null===this.openNativeMenu&&(this.openNativeMenu=await this.isNativeFeatureAvailable("menus","secondary")),this.openNativeMenu&&await this.openNative())},onMouseDown(e){this.isOpen&&e.preventDefault()},onClickOutside(){this.isOpen&&!this.isMobile&&this.closeMenu()},close(){this.isOpen&&(this.closeMenu(),this.$emit("close"))},isSelectedChanged(){let e=[];this.selected&&!Array.isArray(this.selected)?e.push(this.selected[this.itemKey]):Array.isArray(this.selected)&&(e=this.selected.map((e=>e[this.itemKey])));let t=[];if(this.menuItems&&!this.groupItems.length)t=this.menuItems.filter((e=>e.isChecked)).map((e=>e[this.itemKey]));else if(this.groupItems&&this.groupItems.length){let e=[];this.groupItems.forEach((t=>{t&&Array.isArray(t[this.groupItemsKey])&&(e=e.concat(t[this.groupItemsKey]))})),t=e.filter((e=>e.isChecked)).map((e=>e[this.itemKey]))}return!(e.length===t.length&&e.every((e=>t.indexOf(e)>=0)))},setDefaultSelectedValues(e){let{shouldNotEmitChange:t}=e;if(this.isSelectedChanged())if(!this.selected||Array.isArray(this.selected)&&!this.selected.length)this.menuItems&&!this.groupItems.length?"none"!==this.checkableBehavior&&this.menuItems.forEach(((e,t)=>{e.isChecked=!1,this.$set(this.menuItems,t,e)})):this.groupItems&&this.groupItems.length&&this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&e[this.groupItemsKey].forEach(((t,n)=>{t.isChecked=!1,this.$set(e[this.groupItemsKey],n,t)}))}));else{if(Array.isArray(this.selected)){if(this.menuItems&&!this.groupItems.length)this.selected.forEach((e=>{"none"!==this.checkableBehavior&&this.setSelectedProp(e,this.menuItems,this.checkableBehavior,!0)}));else if(this.groupItems&&this.groupItems.length){const e={};this.selected.forEach((t=>{this.groupItems.forEach((n=>{if(n[this.groupItemsKey].find((option=>option[this.itemKey]===t[this.itemKey]))&&"none"!==n.checkableBehavior){const r=n.checkableBehaviorParentId&&"single"===n.checkableBehavior?n.checkableBehaviorParentId:n[this.groupKey];e[r]||(e[r]=[]),"single"===n.checkableBehavior?e[r][0]=t:e[r].push(t)}}))}));const t=Object.values(e).reduce(((e,t)=>e.concat(t)),[]);this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&t.forEach((t=>{this.setSelectedProp(t,e[this.groupItemsKey],e.checkableBehavior,!0)}))}))}}else this.menuItems&&!this.groupItems.length?"none"!==this.checkableBehavior&&this.setSelectedProp(this.selected,this.menuItems,this.checkableBehavior,!0):this.groupItems&&this.groupItems.length&&this.groupItems.forEach((e=>{"none"!==e.checkableBehavior&&Array.isArray(e[this.groupItemsKey])&&this.setSelectedProp(this.selected,e[this.groupItemsKey],e.checkableBehavior,!0)}));t||this.emitSelectionEvent()}},setSelectedProp(e,t,n,r){const o=t.find((t=>t[this.itemKey]===e[this.itemKey]));t.forEach(((l,c)=>{l[this.itemKey]===e[this.itemKey]?l.isChecked=!("multiple"===n&&!r)||!l.isChecked:"multiple"!==n&&o&&(l.isChecked=!1),this.$set(t,c,l)}))},onSelect(e,t){e&&(this.$emit("select",e._origin),e.onSelect&&("multiple"!==this.checkableBehavior?e.onSelect():e.isChecked||e.onSelect()),"none"!==this.checkableBehavior&&this.setSelectedProp(e,this.menuItems,this.checkableBehavior),this.emitSelectionEvent(),t&&!this.isMobile&&this.closeMenu(!0))},groupSelect(e,t){if(!e||!e.item)return;this.$emit("select",e.item._origin),e.item.onSelect&&("multiple"!==e.checkableBehavior?e.item.onSelect():e.item.isChecked||e.item.onSelect());const n=this.groupItems.find((t=>t[this.groupKey]===e.groupId));if("multiple"===n.checkableBehavior)this.setSelectedProp(e.item,n[this.groupItemsKey],e.checkableBehavior);else if("single"===n.checkableBehavior){let t=n[this.groupItemsKey];this.groupItems.forEach((e=>{(n.checkableBehaviorParentId&&(n.checkableBehaviorParentId===e[this.groupKey]||n.checkableBehaviorParentId===e.checkableBehaviorParentId)||n[this.groupKey]===e.checkableBehaviorParentId)&&(t=t.concat(e[this.groupItemsKey]))})),this.setSelectedProp(e.item,t,e.checkableBehavior)}"none"!==e.checkableBehavior&&this.emitSelectionEvent(),t&&!this.isMobile&&this.closeMenu(!0)},focus(){setTimeout((()=>{this.$refs.toggle.focus()}),0)},closeMenu(e){this.isMobile||this.openNativeMenu||!this.$refs.popover?this.isOpen=!1:(this.$refs.menu.resetMenuIndex(),this.$refs.popover.close(e),this.$refs.popover.$on("destroyed",(()=>{this.isOpen=!1})))},emitSelectionEvent(){if(this.menuItems&&!this.groupItems.length){const e=this.menuItems.filter((e=>e.isChecked)).map((e=>e._origin));"single"===this.checkableBehavior?this.$emit("change",e[0]):"multiple"===this.checkableBehavior&&this.$emit("change",e)}else if(this.groupItems&&this.groupItems.length){let e=[];this.groupItems.forEach((t=>{t&&Array.isArray(t[this.groupItemsKey])&&(e=e.concat(t[this.groupItemsKey]))}));const t=e.filter((e=>e.isChecked)).map((e=>e._origin));this.$emit("change",t)}},handleResize(e){this.isMobile=!e.widthIndex}}},I=n(4),component=Object(I.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-ev-sublocation":"!dropdown_secondary"}},[n("UpCResizeObserver",{directives:[{name:"show",rawName:"v-show",value:!e.isNativeApp,expression:"!isNativeApp"}],attrs:{widths:[699],"observe-viewport":!0},on:{notify:e.handleResize}}),e._v(" "),n("div",{ref:"container",staticClass:"air3-dropdown-secondary",class:{open:e.isOpen}},[n("button",{ref:"toggle",staticClass:"air3-btn air3-btn-secondary air3-btn-circle air3-dropdown-secondary-toggle",class:{"has-no-border":e.btnBorder,"air3-btn-sm":"sm"===e.size},attrs:{id:"dropdown-secondary-label-"+e.id,type:"button","aria-expanded":""+e.isOpen,disabled:e.disabled,"data-ev-label":"dropdown_toggle"},on:{click:e.open,mousedown:e.onMouseDown,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.open.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.open.apply(null,arguments))}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.close.apply(null,arguments)}}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.label))]),e._v(" "),n("UpCIcon",{attrs:{icon:e.icon||e.moreIcon,size:"sm"}})],1),e._v(" "),e.isOpen&&!e.openNativeMenu?n(e.component,e._b({ref:"popover",tag:"component",attrs:{"append-to-body":e.appendToBody}},"component",!e.isMobile&&{closeButton:!1,aria:!1,offset:e.popperOffset,fallbackPlacements:[e.effectiveFallbackPlacement],placement:e.effectivePlacement,trigger:"none",target:"#dropdown-secondary-label-"+e.id,customClass:e.appendToBody?"air3-dropdown-secondary-append-to-body":""},!1),[n("UpCDropdownMenu",{ref:"menu",attrs:{id:e.id,"aria-labelledby":"dropdown-secondary-label-"+e.id,title:e.title,align:e.align,items:e.menuItems,"sort-menu-items":e.sortMenuItems,groups:e.groupItems,"checkable-behavior":e.checkableBehavior,"item-key":e.itemKey,"item-text":e.itemText,"item-link":e.itemLink,"item-sublabel":e.itemSublabel,"group-key":e.groupKey,"group-text":e.groupText,"group-items-key":e.groupItemsKey,"group-dividers":e.groupDividers,"is-mobile":e.isMobile,"menu-class":e.menuClass,"horizontal-menu":e.horizontalMenu},on:{close:e.close,groupSelect:e.groupSelect,select:e.onSelect},scopedSlots:e._u([e.$slots["menu-decoration"]?{key:"menu-decoration",fn:function(){return[e._t("menu-decoration")]},proxy:!0}:null],null,!0)})],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports},568:function(e,t,n){"use strict";t.a={data:()=>({lastItemObserver:null,mutationObserver:null,scrollElem:null}),methods:{startScroll(){this.scrollElem=this.$refs.scroller,this.scrollElem&&!this.mutationObserver&&(this.disconnectObservers(),this.addScrollItemObserver(),this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.scrollElem,{childList:!0}))},onMutation(){if(this.getIsSkeleton())return;const e=this.getLastItem();e&&(this.lastItemObserver.disconnect(),this.lastItemObserver.observe(e))},addScrollItemObserver(){this.lastItemObserver=new IntersectionObserver((e=>{this.onIntersection(e)}),{root:null,rootMargin:"100px"})},onIntersection(e){const t=e[0],n=t.target===this.getLastItem();t.isIntersecting&&n&&this.onScrolledToLastItem&&this.onScrolledToLastItem()},getLastItem(){return this.scrollElem.lastElementChild},getIsSkeleton(){var e;return null===(e=this.scrollElem)||void 0===e?void 0:e.querySelector(".up-d-skeleton")},observeLastItem(){this.lastItemObserver.disconnect(),this.lastItemObserver.observe(this.getLastItem())},disconnectObservers(){this.lastItemObserver&&this.lastItemObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect()},reset(){this.disconnectObservers(),this.lastItemObserver=null,this.mutationObserver=null,this.scrollElem=null,this.startScroll()}},mounted(){this.startScroll()},beforeDestroy(){this.disconnectObservers()}}},571:function(e,t,n){var content=n(746);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("609adfc6",content,!0,{sourceMap:!1,manualInject:!0})},572:function(e,t,n){var content=n(748);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("32a74074",content,!0,{sourceMap:!1,manualInject:!0})},615:function(e,t,n){var content=n(807);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("361acf3c",content,!0,{sourceMap:!1,manualInject:!0})},616:function(e,t,n){var content=n(809);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("1e056fd8",content,!0,{sourceMap:!1,manualInject:!0})},636:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{console.warn(null!=t?t:"Unexpected code reached. Value: ",e)}},675:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"There was an error during file upload","thun_RemoveAttachment_279":"Remove Attachment"}')},676:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"There was an error during file upload","thun_RemoveAttachment_279":"Remove Attachment"}')},677:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"[猫There was an error during file upload猫]","thun_RemoveAttachment_279":"[猫Remove Attachment猫]"}')},678:function(e,t,n){"use strict";n(479)},679:function(e,t,n){var r=n(6)(!1);r.push([e.i,".file-attachment[data-v-b2eb7288]{border:var(--border);border-radius:var(--radius-3x);padding:10px}.attachment-icon[data-v-b2eb7288]{width:15px;height:15px;background:var(--text-light-on-body)}.attachment-preview[data-v-b2eb7288]{display:flex;align-items:center;justify-content:center;min-width:40px;min-height:40px;margin-right:10px;background-color:var(--main-background-color)}.attachment-preview.up-d-skeleton[data-v-b2eb7288]{background-color:transparent}.file-name-wrapper[data-v-b2eb7288]{padding-left:0;flex-grow:1;width:0}.file-name[data-v-b2eb7288]{display:flex}.file-name .name[data-v-b2eb7288]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:inline-block;position:relative}.file-content[data-v-b2eb7288]{display:flex;justify-content:space-between;align-items:center;font-size:var(--small-font)}.file-error[data-v-b2eb7288]{color:var(--bg-danger);display:flex}.create-time[data-v-b2eb7288]{color:var(--text-light-on-body)}.create-time[data-v-b2eb7288],.text-size[data-v-b2eb7288]{white-space:nowrap;margin-left:auto}.text-size[data-v-b2eb7288]{color:var(--bg-offline);font-weight:var(--font-weight-body)}",""]),e.exports=r},699:function(e,t,n){"use strict";var r=n(213),o=n(3),l=n(350),c={name:"UpDRoomItemStory",props:{value:String,showSkeleton:Boolean,isMultiLine:Boolean,resolvedHtml:String},components:{UpDSkeleton:r.a},data(){return{loading:!0,UpDMessage:o.b.lazyComponent((()=>n.e(350).then(n.bind(null,309)).then((component=>(this.loading=!1,component)))))}},computed:{processedValue(){return this.resolvedHtml||Object(l.a)(this.value,{i18n:this.$i18n})}},methods:{onHtmlResolved(e){this.$emit("html-resolved",e)}}},d=c,m=(n(747),n(4)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room-list-item-story"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[n(e.UpDMessage,{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],tag:"component",class:{"multi-line":e.isMultiLine},attrs:{value:e.value,"resolved-html":e.resolvedHtml,"is-last-message":!0},on:{"html-resolved":e.onHtmlResolved}}),e._v(" "),e.loading?n("div",{class:{"multi-line":e.isMultiLine},domProps:{innerHTML:e._s(e.processedValue)}}):e._e()],1)],1)}),[],!1,null,"0359f2ee",null);t.a=component.exports},701:function(e,t,n){"use strict";n(1);function r(e){return null!=e}function o(e,t){if(e.length){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}return null}function l(e,t,n,r){const l=e[t];l&&(!r||l.tag!==r.tag||r.key&&l.key!==r.key)&&l.componentInstance.$destroy(),e[t]=null,o(n,t)}t.a={name:"keep-alive",abstract:!0,props:{max:[String,Number]},methods:{cacheVNode(){const{cache:e,keys:t,vnodeToCache:n,keyToCache:r}=this;if(n){const{tag:c,componentInstance:d,componentOptions:m}=n;e[r]={name:(o=m,o&&(o.Ctor.options.name||o.tag)),tag:c,componentInstance:d},t.push(r),this.max&&t.length>parseInt(this.max,10)&&l(e,t[0],t,this._vnode),this.vnodeToCache=null}var o}},created(){this.cache=Object.create(null),this.keys=[]},destroyed(){for(const e of Object.keys(this.cache))l(this.cache,e,this.keys)},mounted(){this.cacheVNode()},updated(){this.cacheVNode()},render(){const slot=this.$slots.default,e=function(e){if(Array.isArray(e))for(let i=0;i<e.length;i++){const n=e[i];if(r(n)&&(r(n.componentOptions)||(t=n).isComment&&t.asyncFactory))return n}var t;return null}(slot),t=e&&e.componentOptions;if(t){const{cache:n,keys:r}=this,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;n[l]?(e.componentInstance=n[l].componentInstance,o(r,l),r.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||slot&&slot[0]}}},717:function(e,t,n){"use strict";n.r(t);var r=n(157),o=n(164),l=n.n(o),c=n(220),d=n(286),m=n(344),h=n(213),v={"en-gb":n(675),en:n(676),is:n(677)};const f=Object(c.a)(v,d.c);var y={injectStyles:[l.a],components:{UpDSkeleton:h.a,UpCIcon:r.default,UpDStoryImg:m.a,UpDFileIcon:()=>n.e(166).then(n.bind(null,2358))},i18n:{messages:f},props:{attachment:Object,showSize:{type:Boolean,default:!0},showLink:{type:Boolean,default:!1},showSkeleton:Boolean},computed:{LinkIcon:()=>()=>n.e(198).then(n.bind(null,2359)),CloseIcon:()=>()=>n.e(0).then(n.bind(null,205)),isUrlObject(){return"eo:url"===this.attachment.objectType},fileSize(){return this.attachment.fileSize?Object(d.b)(this.attachment.fileSize,{i18n:this.$i18n}):null},fileStatusClass(){return this.attachment.error?"file-error-icon":"file-check-icon"},extName(){return this.attachment.fileName&&this.attachment.fileName.includes(".")?this.attachment.fileName.split(".").slice(-1).join().toLowerCase():""},fileName(){if(!this.attachment.fileName)return"";const e=new RegExp("\\.".concat(this.extName,"$"),"i");return this.attachment.fileName.replace(e,"")},fileDisplayName(){return this.extName?"".concat(this.fileName,".").concat(this.extName):this.fileName},linkUrl(){var e,t;if(this.isUrlObject)return this.attachment.url;let n=this.attachment.objectUrl;return null!==(e=this.$store.state.flags)&&void 0!==e&&null!==(t=e.ff)&&void 0!==t&&t.newCoverletterEndpoint&&(n=n.replace(/\/messages\/coverletter\/att\/download\//,"/ab/proposals/att/download/")),n},linkName(){return this.isUrlObject?this.attachment.url:this.fileDisplayName},imageUrl(){return this.attachment.previewUrl||this.attachment.imageUrl},showPreview(){return this.imageUrl&&this.attachment.thumbnailHeight>=40&&this.attachment.thumbnailWidth>=40}},methods:{humanReadableTimestamp(e){return Object(d.a)(e,{i18n:this.$i18n})},onLinkClick(e){this.isUrlObject||(e.stopPropagation(),this.$emit("file-open"))}}},x=(n(678),n(4)),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-attachment",on:{click:function(t){return e.$emit("file-open")}}},[n("div",{staticStyle:{display:"flex"}},[e.showPreview?n("div",{class:!e.showSkeleton&&"attachment-preview"},[n("up-d-skeleton",{staticClass:"attachment-preview",attrs:{loading:e.showSkeleton}},[n("up-d-story-img",{attrs:{"img-url":e.attachment.previewUrl||e.attachment.imageUrl,width:Math.min(40,e.attachment.thumbnailWidth),height:Math.min(40,e.attachment.thumbnailHeight),"file-url":e.showLink?e.attachment.objectUrl:null},on:{click:function(t){return e.$emit("file-open")}}})],1)],1):n("div",{class:!e.showSkeleton&&"attachment-preview"},[n("up-d-skeleton",{staticClass:"attachment-preview",attrs:{loading:e.showSkeleton}},[e.isUrlObject?n("UpCIcon",{attrs:{icon:e.LinkIcon,size:"sm"}}):n("up-d-file-icon",{staticClass:"attachment-icon",attrs:{"ext-name":e.extName}})],1)],1),e._v(" "),n("div",{staticClass:"file-name-wrapper text-base-sm"},[n("span",{staticClass:"file-name"},[e.showLink||e.isUrlObject?n("UpLink",{staticClass:"name",attrs:{href:e.linkUrl},on:{click:function(t){return t.preventDefault(),e.onLinkClick.apply(null,arguments)}}},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.linkName)+"\n          ")])],1):n("span",{staticClass:"name"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.fileDisplayName)+"\n          ")])],1),e._v(" "),!e.showSkeleton&&e.showSize&&e.fileSize?n("span",{staticClass:"text-size"},[e._v("\n          "+e._s(e.fileSize)+"\n        ")]):e._e()],1),e._v(" "),n("div",{staticClass:"file-content"},[e._t("content",null,{fileSize:e.fileSize}),e._v(" "),e.attachment.created?n("span",{staticClass:"create-time"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.humanReadableTimestamp(e.attachment.created))+"\n          ")])],1):e._e()],2),e._v(" "),e.attachment.error?n("span",{staticClass:"file-error"},[e._v("\n        "+e._s(e.attachment.error.message||e.$t("thun_ThereWasAnErrorDuringFileUpload_278"))+"\n      ")]):e._e()]),e._v(" "),e.attachment.removable?n("button",{staticClass:"air3-btn air3-btn-link air3-btn-circle",attrs:{type:"button","aria-label":e.$t("thun_RemoveAttachment_279")},on:{mousedown:function(t){return e.$emit("delete")},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("delete")},touchend:function(t){return t.preventDefault(),e.$emit("delete")}}},[n("UpCIcon",{attrs:{icon:e.CloseIcon,size:"sm"}})],1):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"b2eb7288",null);t.default=component.exports},745:function(e,t,n){"use strict";n(571)},746:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-agency-avatar[data-v-68748942]{display:flex;justify-content:center;align-items:center;background-size:cover;background-repeat:no-repeat;background-position:50%;border-radius:50%;background-color:var(--gray-70);position:relative;border:var(--border)}",""]),e.exports=r},747:function(e,t,n){"use strict";n(572)},748:function(e,t,n){var r=n(6)(!1);r.push([e.i,".room-list-item-story[data-v-0359f2ee]{display:flex;align-items:center;max-width:100%}.room-list-item-story[data-v-0359f2ee]:empty{display:none}.room-list-item-story .up-d-skeleton[data-v-0359f2ee]{height:13px;margin-top:2px;margin-bottom:2px}.room-list-item-story>div[data-v-0359f2ee]{align-self:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:inherit;font-weight:var(--font-weight-body);color:var(--text-light-on-body);line-height:20px}.room-list-item-story>div.multi-line[data-v-0359f2ee],.room-list-item-story>div.multi-line[data-v-0359f2ee] p{line-height:16px;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;white-space:normal;word-break:break-all}.room-list-item-story[data-v-0359f2ee] .last-story-has-user-id{display:none}",""]),e.exports=r},801:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e){return m(e)||h(e)||v(e)||y()}function m(e){if(Array.isArray(e))return f(e)}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var x={FRONT:"FRONT",BEHIND:"BEHIND"},_={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},w=0,I=function(){function e(param,n){t(this,e),this.init(param,n)}return r(e,[{key:"init",value:function(param,e){this.param=param,this.callUpdate=e,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=_.INIT,this.offset=0,this.direction="",this.range=Object.create(null),param&&this.checkRange(0,param.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var e=Object.create(null);return e.start=this.range.start,e.end=this.range.end,e.padFront=this.range.padFront,e.padBehind=this.range.padBehind,e}},{key:"isBehind",value:function(){return this.direction===x.BEHIND}},{key:"isFront",value:function(){return this.direction===x.FRONT}},{key:"getOffset",value:function(e){return(e<1?0:this.getIndexOffset(e))+this.param.slotHeaderSize}},{key:"updateParam",value:function(e,t){var n=this;this.param&&e in this.param&&("uniqueIds"===e&&this.sizes.forEach((function(e,r){t.includes(r)||n.sizes.delete(r)})),this.param[e]=t)}},{key:"saveSize",value:function(e,t){this.sizes.set(e,t),this.calcType===_.INIT?(this.fixedSizeValue=t,this.calcType=_.FIXED):this.calcType===_.FIXED&&this.fixedSizeValue!==t&&(this.calcType=_.DYNAMIC,delete this.fixedSizeValue),this.calcType!==_.FIXED&&void 0!==this.firstRangeTotalSize&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=d(this.sizes.values()).reduce((function(e,t){return e+t}),0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var e=this.range.start;this.isFront()?e-=w:this.isBehind()&&(e+=w),e=Math.max(e,0),this.updateRange(this.range.start,this.getEndByStart(e))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(e){this.direction=e<this.offset?x.FRONT:x.BEHIND,this.offset=e,this.param&&(this.direction===x.FRONT?this.handleFront():this.direction===x.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var e=this.getScrollOvers();if(!(e>this.range.start)){var t=Math.max(e-this.param.buffer,0);this.checkRange(t,this.getEndByStart(t))}}},{key:"handleBehind",value:function(){var e=this.getScrollOvers();e<this.range.start+this.param.buffer||this.checkRange(e,this.getEndByStart(e))}},{key:"getScrollOvers",value:function(){var e=this.offset-this.param.slotHeaderSize;if(e<=0)return 0;if(this.isFixedType())return Math.floor(e/this.fixedSizeValue);for(var t=0,n=0,r=0,o=this.param.uniqueIds.length;t<=o;){if(n=t+Math.floor((o-t)/2),(r=this.getIndexOffset(n))===e)return n;r<e?t=n+1:r>e&&(o=n-1)}return t>0?--t:0}},{key:"getIndexOffset",value:function(e){if(!e)return 0;for(var t=0,n=0,r=0;r<e;r++)t+="number"==typeof(n=this.sizes.get(this.param.uniqueIds[r]))?n:this.getEstimateSize();return this.lastCalcIndex=Math.max(this.lastCalcIndex,e-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),t}},{key:"isFixedType",value:function(){return this.calcType===_.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(e,t){var n=this.param.keeps;this.param.uniqueIds.length<=n?(e=0,t=this.getLastIndex()):t-e<n-1&&(e=t-n+1),this.range.start!==e&&this.updateRange(e,t)}},{key:"updateRange",value:function(e,t){this.range.start=e,this.range.end=t,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(e){var t=e+this.param.keeps-1;return Math.min(t,this.getLastIndex())}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var e=this.range.end,t=this.getLastIndex();return this.isFixedType()?(t-e)*this.fixedSizeValue:this.lastCalcIndex===t?this.getIndexOffset(t)-this.getIndexOffset(e):(t-e)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),e}(),k={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:""},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},O={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},slotComponent:{type:Function},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},S={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},C={created:function(){this.shapeKey=this.horizontal?"offsetWidth":"offsetHeight"},mounted:function(){var e=this;"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(){e.dispatchSizeChange()})),this.resizeObserver.observe(this.$el))},updated:function(){this.dispatchSizeChange()},beforeDestroy:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},methods:{getCurrentSize:function(){return this.$el?this.$el[this.shapeKey]:0},dispatchSizeChange:function(){this.$parent.$emit(this.event,this.uniqueKey,this.getCurrentSize(),this.hasInitial)}}},N=e.component("virtual-list-item",{mixins:[C],props:O,render:function(e){var t=this.tag,component=this.component,n=this.extraProps,r=void 0===n?{}:n,o=this.index,source=this.source,l=this.scopedSlots,d=void 0===l?{}:l,m=this.uniqueKey,h=this.slotComponent,v=c({},r,{source:source,index:o});return e(t,{key:m,attrs:{role:"listitem"}},[h?e("div",h({item:source,index:o,scope:v})):e(component,{props:v,scopedSlots:d})])}}),E=e.component("virtual-list-slot",{mixins:[C],props:S,render:function(e){var t=this.tag,n=this.uniqueKey;return e(t,{key:n,attrs:{role:n}},this.$slots.default)}}),T={ITEM:"item_resize",SLOT:"slot_resize"},j={HEADER:"thead",FOOTER:"tfoot"};return e.component("virtual-list",{props:k,data:function(){return{range:null}},watch:{"dataSources.length":function(){this.virtual.updateParam("uniqueIds",this.getUniqueIdFromDataSources()),this.virtual.handleDataSourcesChange()},keeps:function(e){this.virtual.updateParam("keeps",e),this.virtual.handleSlotSizeChange()},start:function(e){this.scrollToIndex(e)},offset:function(e){this.scrollToOffset(e)}},created:function(){this.isHorizontal="horizontal"===this.direction,this.directionKey=this.isHorizontal?"scrollLeft":"scrollTop",this.installVirtual(),this.$on(T.ITEM,this.onItemResized),(this.$slots.header||this.$slots.footer)&&this.$on(T.SLOT,this.onSlotResized)},activated:function(){this.scrollToOffset(this.virtual.offset)},mounted:function(){this.start?this.scrollToIndex(this.start):this.offset&&this.scrollToOffset(this.offset),this.pageMode&&(this.updatePageModeFront(),document.addEventListener("scroll",this.onScroll,{passive:!1}))},beforeDestroy:function(){this.virtual.destroy(),this.pageMode&&document.removeEventListener("scroll",this.onScroll)},methods:{getSize:function(e){return this.virtual.sizes.get(e)},getSizes:function(){return this.virtual.sizes.size},getOffset:function(){if(this.pageMode)return document.documentElement[this.directionKey]||document.body[this.directionKey];var e=this.$refs.root;return e?Math.ceil(e[this.directionKey]):0},getClientSize:function(){var e=this.isHorizontal?"clientWidth":"clientHeight";if(this.pageMode)return document.documentElement[e]||document.body[e];var t=this.$refs.root;return t?Math.ceil(t[e]):0},getScrollSize:function(){var e=this.isHorizontal?"scrollWidth":"scrollHeight";if(this.pageMode)return document.documentElement[e]||document.body[e];var t=this.$refs.root;return t?Math.ceil(t[e]):0},scrollToOffset:function(e){if(this.pageMode)document.body[this.directionKey]=e,document.documentElement[this.directionKey]=e;else{var t=this.$refs.root;t&&(t[this.directionKey]=e)}},scrollToIndex:function(e){if(e>=this.dataSources.length-1)this.scrollToBottom();else{var t=this.virtual.getOffset(e);this.scrollToOffset(t)}},scrollToBottom:function(){var e=this,t=this.$refs.shepherd;if(t){var n=t[this.isHorizontal?"offsetLeft":"offsetTop"];this.scrollToOffset(n),setTimeout((function(){e.getOffset()+e.getClientSize()<e.getScrollSize()&&e.scrollToBottom()}),3)}},updatePageModeFront:function(){var e=this.$refs.root;if(e){var rect=e.getBoundingClientRect(),t=e.ownerDocument.defaultView,n=this.isHorizontal?rect.left+t.pageXOffset:rect.top+t.pageYOffset;this.virtual.updateParam("slotHeaderSize",n)}},reset:function(){this.virtual.destroy(),this.scrollToOffset(0),this.installVirtual()},installVirtual:function(){this.virtual=new I({slotHeaderSize:0,slotFooterSize:0,keeps:this.keeps,estimateSize:this.estimateSize,buffer:Math.round(this.keeps/3),uniqueIds:this.getUniqueIdFromDataSources()},this.onRangeChanged),this.range=this.virtual.getRange()},getUniqueIdFromDataSources:function(){var e=this.dataKey;return this.dataSources.map((function(t){return"function"==typeof e?e(t):t[e]}))},onItemResized:function(e,t){this.virtual.saveSize(e,t),this.$emit("resized",e,t)},onSlotResized:function(e,t,n){e===j.HEADER?this.virtual.updateParam("slotHeaderSize",t):e===j.FOOTER&&this.virtual.updateParam("slotFooterSize",t),n&&this.virtual.handleSlotSizeChange()},onRangeChanged:function(e){this.range=e},onScroll:function(e){var t=this.getOffset(),n=this.getClientSize(),r=this.getScrollSize();t<0||t+n>r+1||!r||(this.virtual.handleScroll(t),this.emitEvent(t,n,r,e))},emitEvent:function(e,t,n,r){this.$emit("scroll",r,this.virtual.getRange()),this.virtual.isFront()&&this.dataSources.length&&e-this.topThreshold<=0?this.$emit("totop"):this.virtual.isBehind()&&e+t+this.bottomThreshold>=n&&this.$emit("tobottom")},getRenderSlots:function(e){for(var t=[],n=this.range,r=n.start,o=n.end,l=this.dataSources,c=this.dataKey,d=this.itemClass,m=this.itemTag,h=this.itemStyle,v=this.isHorizontal,f=this.extraProps,y=this.dataComponent,x=this.itemScopedSlots,_=this.$scopedSlots&&this.$scopedSlots.item,w=r;w<=o;w++){var I=l[w];if(I){var k="function"==typeof c?c(I):I[c];"string"==typeof k||"number"==typeof k?t.push(e(N,{props:{index:w,tag:m,event:T.ITEM,horizontal:v,uniqueKey:k,source:I,extraProps:f,component:y,slotComponent:_,scopedSlots:x},style:h,class:"".concat(d).concat(this.itemClassAdd?" "+this.itemClassAdd(w):"")})):console.warn("Cannot get the data-key '".concat(c,"' from data-sources."))}else console.warn("Cannot get the index '".concat(w,"' from data-sources."))}return t}},render:function(e){var t=this.$slots,header=t.header,footer=t.footer,n=this.range,r=n.padFront,o=n.padBehind,l=this.isHorizontal,c=this.pageMode,d=this.rootTag,m=this.wrapTag,h=this.wrapClass,v=this.wrapStyle,f=this.headerTag,y=this.headerClass,x=this.headerStyle,_=this.footerTag,w=this.footerClass,I=this.footerStyle,k={padding:l?"0px ".concat(o,"px 0px ").concat(r,"px"):"".concat(r,"px 0px ").concat(o,"px")},O=v?Object.assign({},v,k):k;return e(d,{ref:"root",on:{"&scroll":!c&&this.onScroll}},[header?e(E,{class:y,style:x,props:{tag:f,event:T.SLOT,uniqueKey:j.HEADER}},header):null,e(m,{class:h,attrs:{role:"group"},style:O},this.getRenderSlots(e)),footer?e(E,{class:w,style:I,props:{tag:_,event:T.SLOT,uniqueKey:j.FOOTER}},footer):null,e("div",{ref:"shepherd",style:{width:l?"0px":"100%",height:l?"100%":"0px"}})])}})}(n(0))},804:function(e,t,n){var content=n(1216);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("23e8d7c8",content,!0,{sourceMap:!1,manualInject:!0})},805:function(e,t,n){"use strict";n(1);var r=n(178),o=n(291),l=n(489),c=n(337),d=n(195),m=n(290),h=n(336),v=n(358),f=n(2),y=n(201),x=n(266),_=n(443),w=n(561),I=n(200),k=n(381),O=n(452);class S extends _.a{constructor(data){super(data),this.targetUser={userId:this.userId,orgId:this.orgId,fullName:this.roomName,photoUrl:this.photoUrl,initials:Object(x.a)({firstName:this.firstName,lastName:this.lastName})},this.targetUserId=this.userId,this.targetOrgId=this.orgId}}t.a=()=>{const e=Object(O.c)(),t=new k.c,n=new r.a,x=e=>e.map((e=>e.storyId?new w.a(e):e.roomType===y.a.ONE_ON_ONE?new S(e):new _.a(e))),C=Object(f.l)({loading:{},loadingMore:{},result:{}}),N={},E=Object(f.m)(null);n.pipe(Object(l.a)(200),Object(c.a)((e=>{let[t]=e;return Boolean(t)})),Object(d.a)((e=>{let[t,n]=e;return[t.toLowerCase(),n]})),Object(m.a)((n=>{let[r,l]=n;return E.value===r?Object(o.a)(C.result):(C.loading={},k.d.forEach((section=>{C.loading[section]=!0})),t.search(r,l).pipe(Object(h.a)((t=>{let{items:n,section:section,requestId:r,error:o}=t;const l=o?[]:x(n);C.result={...C.result,[section]:l},C.loading={...C.loading,[section]:!1},N[section]={page:0,requestId:r},e(l).subscribe()})),Object(v.a)((()=>{E.value=r}))))}))).subscribe();const T=new I.a;return Object(f.j)((()=>{n.complete()})),{...Object(f.q)(C),searchQuery:(e,t)=>{n.next([e,t])},searchMore:(section,n)=>{const{page:r,requestId:o}=N[section],l=C.result[section];return C.loadingMore[section]=!0,t.searchMore({query:E.value,roomId:n,page:r+1,section:section,requestId:o}).pipe(Object(h.a)((t=>{const n=x(t),c=l.concat(n);return n.length&&(N[section]={page:r+1,requestId:o},C.result={...C.result,[section]:c},e(n).subscribe()),c})),Object(v.a)((()=>{C.loadingMore[section]=!1})))},getOneOnOneRoom:e=>T.getOneOnOneRoom({userId:e.targetUserId,orgId:e.targetOrgId}),searchMentions:e=>t.browse(e,{includeGroupRooms:!0,includeInterviewRooms:!0,includeContractRooms:!0,includeOneOnOneRooms:!0,includeCompanyContacts:!0,includeOtherContacts:!0,includeSubscribedPublicRooms:!0,includeSubscribedPrivateRooms:!1,includeUnsubscribedPublicRooms:!0}).pipe(Object(d.a)((e=>{let{items:t}=e;const n=Object.values(t.reduce(((e,t)=>(e[t.roomId]=t,e)),{}));return x(n.sort(((e,t)=>-1*e.roomTypeName.localeCompare(t.roomTypeName))))})))}}},806:function(e,t,n){"use strict";n(615)},807:function(e,t,n){var r=n(6)(!1);r.push([e.i,".search-story[data-v-4641f23e]{display:flex;align-items:center;color:var(--text-dark-on-body);text-decoration:none;width:100%;box-sizing:border-box;cursor:pointer;padding:10px 15px;border:var(--border);border-radius:5px;margin-bottom:10px}.search-story.nuxt-link-active[data-v-4641f23e]{background-color:var(--gray-90)}.pointer-events-none[data-v-4641f23e]{pointer-events:none}.story-body[data-v-4641f23e]{display:block;flex-grow:1;width:0;margin-left:10px;position:relative}.person-avatar[data-v-4641f23e]{align-self:flex-start}.story-user-name[data-v-4641f23e]{font-weight:var(--font-weight-strong)}.story-details[data-v-4641f23e]{display:flex;width:100%;font-size:12px}.story-details .story-room-name[data-v-4641f23e],.story-details .story-timestamp[data-v-4641f23e]{min-width:50%;flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.story-details .story-room-name[data-v-4641f23e]{color:var(--text-light-on-body)}.story-details .story-timestamp[data-v-4641f23e]{align-self:flex-end;color:var(--text-muted);font-weight:100}.up-d-message[data-v-4641f23e]{overflow:hidden;text-overflow:ellipsis;font-size:14px;font-weight:var(--font-weight-body);color:var(--text-dark-on-body);margin-bottom:5px;height:35px}.up-d-message[data-v-4641f23e] p{line-height:16px;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;white-space:normal;word-break:break-all}.up-d-message.message-skeleton[data-v-4641f23e] p{display:inline;color:transparent;background-color:var(--skeleton-color)}.up-d-message[data-v-4641f23e] strong{font-weight:700}",""]),e.exports=r},808:function(e,t,n){"use strict";n(616)},809:function(e,t,n){var r=n(6)(!1);r.push([e.i,".up-d-message-list[data-v-bbf118e8]{display:flex;flex-direction:column;flex-grow:1;--room-list-item-height:55px;overflow-y:auto;margin-top:10px}.story-item[data-v-bbf118e8]{margin-bottom:10px}section[data-v-bbf118e8]{display:flex;flex-direction:column;flex-grow:1}section.message[data-v-bbf118e8]{padding:0 15px;flex-grow:1}.up-d-empty-state[data-v-bbf118e8]{height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.up-d-search-messages[data-v-bbf118e8]{flex:1}",""]),e.exports=r},811:function(e,t,n){"use strict";var r=n(157),o=n(568),l=n(338),c=n(265),d=n(2),m=n(183),h=n(561),v=n(213),f=n(283),y=n(309),x=n(302),_=n(699),w=Object(d.c)({props:{story:{type:[h.a,m.a],required:!0},query:String},components:{UpDPersonAvatar:f.a,UpDRoomItemStory:_.a,UpDSkeleton:v.a,UpDMessage:y.default},computed:{roomLink(){return this.story instanceof m.a?{}:{params:{roomId:this.story.roomId,storyId:this.story.storyId},query:{companyReference:this.$auth.orgId,atTimestamp:this.story.created}}},snippet(){if(!this.query)return this.story.message;const e=new RegExp("(".concat(this.query,")"),"ig"),t=this.story.message.replace(/\r?\n|\r/g," "),n=e.exec(t)||{index:0},i=Math.max(n.index-50,0);return(i?"&#8230;":"")+(n.index?t.substr(i,100).replace(/^\S\s/,"").trim():t).replace(e,"**$1**&#8205;")},showSkeleton(){return this.story instanceof m.a},storyDate(){return"".concat(Object(x.a)(this.story.created,{i18n:this.$i18n},!1)," ").concat(Object(x.d)(this.story.created,{i18n:this.$i18n}))}}}),I=w,k=(n(806),n(4)),O=Object(k.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NuxtLink",{staticClass:"search-story",class:{"pointer-events-none":e.showSkeleton},attrs:{to:e.roomLink,"active-class":e.showSkeleton?"no-active":null}},[n("up-d-person-avatar",{staticClass:"person-avatar",attrs:{person:e.story.user,"is-public":Boolean(e.story.isPublic),"show-skeleton":e.showSkeleton,"avatar-size":30}}),e._v(" "),n("div",{staticClass:"story-body"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e.story.user?n("div",{staticClass:"story-user-name"},[e._v("\n          "+e._s(e.story.user.fullName)+"\n        ")]):e._e()]),e._v(" "),n("up-d-message",{staticClass:"up-d-message",class:{"message-skeleton":e.showSkeleton},attrs:{value:e.snippet}}),e._v(" "),n("up-d-skeleton",{staticClass:"story-details",attrs:{loading:e.showSkeleton}},[n("div",{staticClass:"story-details"},[e.story.roomName?n("div",{staticClass:"story-room-name"},[e._v("\n            "+e._s(e.story.roomName)+"\n          ")]):e._e(),e._v(" "),e.story.created?n("div",{staticClass:"story-timestamp text-right"},[e._v("\n            "+e._s(e.storyDate)+"\n          ")]):e._e()])])],1)],1)],1)}),[],!1,null,"4641f23e",null).exports,S={name:"UpDMessageList",props:{query:String,loading:Boolean,stories:Array},components:{UpCIcon:r.default,SearchStory:O,UpDEmptyState:c.a},mixins:[o.a],watch:{stories(e){e.length>0&&this.$nextTick((()=>{this.startScroll(),this.observeLastItem()}))}},data:()=>({skeletonStories:Object(l.d)(3,{longMessage:!0})}),computed:{illustrationNoContacts:()=>()=>n.e(91).then(n.bind(null,2335)),isEmpty(){var e;return!(null!==(e=this.stories)&&void 0!==e&&e.length)}},methods:{onScrolledToLastItem(){this.$emit("loadMore")}}},C=(n(808),Object(k.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-message-list"},[e.loading&&e.isEmpty?n("section",{staticClass:"message"},e._l(e.skeletonStories,(function(e){return n("SearchStory",{key:e.id,staticClass:"story-item",attrs:{story:e}})})),1):n("section",{class:{message:!e.isEmpty}},[e.isEmpty?n("up-d-empty-state",{staticClass:"up-d-empty-state",attrs:{illustration:e.query?e.illustrationNoContacts:null}},[e._t("default")],2):[n("div",{ref:"scroller"},e._l(e.stories,(function(t){return n("SearchStory",{key:t.id,staticClass:"story-item",attrs:{query:e.query,id:t.id,story:t},nativeOn:{click:function(n){return e.$emit("storyClick",t.id)}}})})),1)]],2)])}),[],!1,null,"bbf118e8",null));t.a=C.exports},816:function(e,t,n){"use strict";var r=n(213),o={name:"UpDAgencyAvatar",props:{agency:Object,showSkeleton:{type:Boolean,default:!1},avatarSize:Number},components:{UpDSkeleton:r.a},computed:{styles(){var e;const t={height:"".concat(this.avatarSize,"px"),width:"".concat(this.avatarSize,"px")};if(this.showSkeleton)return t;const n=null===(e=this.agency)||void 0===e?void 0:e.agency_logo;return n&&(t["background-image"]="url(".concat(n,")")),t["line-height"]="".concat(this.avatarSize,"px"),t["font-size"]="".concat(this.avatarFontSize,"px"),t}}},l=(n(745),n(4)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-agency-avatar",style:e.styles},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton,circle:"",width:e.avatarSize,height:e.avatarSize}})],1)}),[],!1,null,"68748942",null);t.a=component.exports},817:function(e,t,n){"use strict";var r=n(164),o=n.n(r),l=n(157),c={name:"UpDGenericInfoPanel",injectStyles:[o.a],computed:{iconChevronLeft:()=>()=>n.e(1).then(n.bind(null,1458))},props:{title:String},components:{UpCIcon:l.default},methods:{onBack(){this.$emit("back")}}},d=(n(2115),n(4)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"up-d-generic-info-panel"},[n("div",{staticClass:"panel-title"},[n("button",{staticClass:"air3-btn air3-btn-circle back-icon",attrs:{tabindex:"0"},on:{click:e.onBack,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onBack.apply(null,arguments)}}},[n("UpCIcon",{attrs:{icon:e.iconChevronLeft,size:"md"}})],1),e._v(" "),e._t("title",(function(){return[n("div",{staticClass:"title"},[e._v(e._s(e.title))])]})),e._v(" "),e._t("action")],2),e._v(" "),n("div",{staticClass:"content"},[e._t("default")],2)])}),[],!1,null,"23f20f22",null);t.a=component.exports},843:function(e,t,n){"use strict";var input=n(352),r=n(157),o=n(231),l=n.n(o),c=n(2),d={"en-gb":n(1212),en:n(1213),is:n(1214)},m=Object(c.c)({name:"UpDSearchInput",injectStyles:[l.a],components:{UpCInput:input.a,UpCIcon:r.default},i18n:{messages:d},props:{hideIcon:Boolean,value:{type:String,default:""},showBorder:{type:Boolean,default:!1},placeholder:{type:String,default(){return this.$t("thun_Search_407")}}},data:()=>({query:null}),computed:{searchIcon:()=>()=>n.e(336).then(n.bind(null,721)),closeIcon:()=>()=>Promise.resolve().then(n.bind(null,333))},watch:{value:{immediate:!0,handler(e){this.query=e}}},methods:{onClearSearch(){this.$emit("clear-search"),this.onInput(""),this.focus()},onInput(e){this.query=e,this.$emit("query",e)},focus(){var e;null===(e=this.$refs.searchInput)||void 0===e||e.focus()}}}),h=(n(1215),n(4)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("UpCInput",{on:{clear:e.onClearSearch},scopedSlots:e._u([{key:"left-icon",fn:function(){return[e.hideIcon?e._e():n("UpCIcon",{attrs:{icon:e.searchIcon,size:"sm"}})]},proxy:!0},{key:"input",fn:function(){return[n("input",{ref:"searchInput",staticClass:"search-input air3-input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.query},on:{input:function(t){return e.onInput(t.target.value)}}})]},proxy:!0}])})}),[],!1,null,"594fc52c",null);t.a=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/sidebar.fcfd43e4.js.map