(window.webpackJsonp=window.webpackJsonp||[]).push([[351],{479:function(e,t,n){var content=n(679);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(7).default)("6d850498",content,!0,{sourceMap:!1,manualInject:!0})},675:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"There was an error during file upload","thun_RemoveAttachment_279":"Remove Attachment"}')},676:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"There was an error during file upload","thun_RemoveAttachment_279":"Remove Attachment"}')},677:function(e){e.exports=JSON.parse('{"thun_ThereWasAnErrorDuringFileUpload_278":"[猫There was an error during file upload猫]","thun_RemoveAttachment_279":"[猫Remove Attachment猫]"}')},678:function(e,t,n){"use strict";n(479)},679:function(e,t,n){var r=n(6)(!1);r.push([e.i,".file-attachment[data-v-b2eb7288]{border:var(--border);border-radius:var(--radius-3x);padding:10px}.attachment-icon[data-v-b2eb7288]{width:15px;height:15px;background:var(--text-light-on-body)}.attachment-preview[data-v-b2eb7288]{display:flex;align-items:center;justify-content:center;min-width:40px;min-height:40px;margin-right:10px;background-color:var(--main-background-color)}.attachment-preview.up-d-skeleton[data-v-b2eb7288]{background-color:transparent}.file-name-wrapper[data-v-b2eb7288]{padding-left:0;flex-grow:1;width:0}.file-name[data-v-b2eb7288]{display:flex}.file-name .name[data-v-b2eb7288]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;display:inline-block;position:relative}.file-content[data-v-b2eb7288]{display:flex;justify-content:space-between;align-items:center;font-size:var(--small-font)}.file-error[data-v-b2eb7288]{color:var(--bg-danger);display:flex}.create-time[data-v-b2eb7288]{color:var(--text-light-on-body)}.create-time[data-v-b2eb7288],.text-size[data-v-b2eb7288]{white-space:nowrap;margin-left:auto}.text-size[data-v-b2eb7288]{color:var(--bg-offline);font-weight:var(--font-weight-body)}",""]),e.exports=r},717:function(e,t,n){"use strict";n.r(t);var r=n(157),l=n(164),o=n.n(l),c=n(220),h=n(286),m=n(344),d=n(213),f={"en-gb":n(675),en:n(676),is:n(677)};const v=Object(c.a)(f,h.c);var w={injectStyles:[o.a],components:{UpDSkeleton:d.a,UpCIcon:r.default,UpDStoryImg:m.a,UpDFileIcon:()=>n.e(166).then(n.bind(null,2358))},i18n:{messages:v},props:{attachment:Object,showSize:{type:Boolean,default:!0},showLink:{type:Boolean,default:!1},showSkeleton:Boolean},computed:{LinkIcon:()=>()=>n.e(198).then(n.bind(null,2359)),CloseIcon:()=>()=>n.e(0).then(n.bind(null,205)),isUrlObject(){return"eo:url"===this.attachment.objectType},fileSize(){return this.attachment.fileSize?Object(h.b)(this.attachment.fileSize,{i18n:this.$i18n}):null},fileStatusClass(){return this.attachment.error?"file-error-icon":"file-check-icon"},extName(){return this.attachment.fileName&&this.attachment.fileName.includes(".")?this.attachment.fileName.split(".").slice(-1).join().toLowerCase():""},fileName(){if(!this.attachment.fileName)return"";const e=new RegExp("\\.".concat(this.extName,"$"),"i");return this.attachment.fileName.replace(e,"")},fileDisplayName(){return this.extName?"".concat(this.fileName,".").concat(this.extName):this.fileName},linkUrl(){var e,t;if(this.isUrlObject)return this.attachment.url;let n=this.attachment.objectUrl;return null!==(e=this.$store.state.flags)&&void 0!==e&&null!==(t=e.ff)&&void 0!==t&&t.newCoverletterEndpoint&&(n=n.replace(/\/messages\/coverletter\/att\/download\//,"/ab/proposals/att/download/")),n},linkName(){return this.isUrlObject?this.attachment.url:this.fileDisplayName},imageUrl(){return this.attachment.previewUrl||this.attachment.imageUrl},showPreview(){return this.imageUrl&&this.attachment.thumbnailHeight>=40&&this.attachment.thumbnailWidth>=40}},methods:{humanReadableTimestamp(e){return Object(h.a)(e,{i18n:this.$i18n})},onLinkClick(e){this.isUrlObject||(e.stopPropagation(),this.$emit("file-open"))}}},k=(n(678),n(4)),component=Object(k.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-attachment",on:{click:function(t){return e.$emit("file-open")}}},[n("div",{staticStyle:{display:"flex"}},[e.showPreview?n("div",{class:!e.showSkeleton&&"attachment-preview"},[n("up-d-skeleton",{staticClass:"attachment-preview",attrs:{loading:e.showSkeleton}},[n("up-d-story-img",{attrs:{"img-url":e.attachment.previewUrl||e.attachment.imageUrl,width:Math.min(40,e.attachment.thumbnailWidth),height:Math.min(40,e.attachment.thumbnailHeight),"file-url":e.showLink?e.attachment.objectUrl:null},on:{click:function(t){return e.$emit("file-open")}}})],1)],1):n("div",{class:!e.showSkeleton&&"attachment-preview"},[n("up-d-skeleton",{staticClass:"attachment-preview",attrs:{loading:e.showSkeleton}},[e.isUrlObject?n("UpCIcon",{attrs:{icon:e.LinkIcon,size:"sm"}}):n("up-d-file-icon",{staticClass:"attachment-icon",attrs:{"ext-name":e.extName}})],1)],1),e._v(" "),n("div",{staticClass:"file-name-wrapper text-base-sm"},[n("span",{staticClass:"file-name"},[e.showLink||e.isUrlObject?n("UpLink",{staticClass:"name",attrs:{href:e.linkUrl},on:{click:function(t){return t.preventDefault(),e.onLinkClick.apply(null,arguments)}}},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.linkName)+"\n          ")])],1):n("span",{staticClass:"name"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.fileDisplayName)+"\n          ")])],1),e._v(" "),!e.showSkeleton&&e.showSize&&e.fileSize?n("span",{staticClass:"text-size"},[e._v("\n          "+e._s(e.fileSize)+"\n        ")]):e._e()],1),e._v(" "),n("div",{staticClass:"file-content"},[e._t("content",null,{fileSize:e.fileSize}),e._v(" "),e.attachment.created?n("span",{staticClass:"create-time"},[n("up-d-skeleton",{attrs:{loading:e.showSkeleton}},[e._v("\n            "+e._s(e.humanReadableTimestamp(e.attachment.created))+"\n          ")])],1):e._e()],2),e._v(" "),e.attachment.error?n("span",{staticClass:"file-error"},[e._v("\n        "+e._s(e.attachment.error.message||e.$t("thun_ThereWasAnErrorDuringFileUpload_278"))+"\n      ")]):e._e()]),e._v(" "),e.attachment.removable?n("button",{staticClass:"air3-btn air3-btn-link air3-btn-circle",attrs:{type:"button","aria-label":e.$t("thun_RemoveAttachment_279")},on:{mousedown:function(t){return e.$emit("delete")},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("delete")},touchend:function(t){return t.preventDefault(),e.$emit("delete")}}},[n("UpCIcon",{attrs:{icon:e.CloseIcon,size:"sm"}})],1):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"b2eb7288",null);t.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/ThunderNuxt/story-components.f90bcd94.js.map